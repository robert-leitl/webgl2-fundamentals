!function(e,t,r,i,n){var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof o.parcelRequire9b6a&&o.parcelRequire9b6a,s=a.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function h(t,r){if(!s[t]){if(!e[t]){var i="function"==typeof o.parcelRequire9b6a&&o.parcelRequire9b6a;if(!r&&i)return i(t,!0);if(a)return a(t,!0);if(l&&"string"==typeof t)return l(t);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}d.resolve=function(r){var i=e[t][1][r];return null!=i?i:r},d.cache={};var c=s[t]=new h.Module(t);e[t][0].call(c.exports,d,c,c.exports,this)}return s[t].exports;function d(e){var t=d.resolve(e);return!1===t?{}:h(t)}}h.isParcelRequire=!0,h.Module=function(e){this.id=e,this.bundle=h,this.exports={}},h.modules=e,h.cache=s,h.parent=a,h.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(h,"root",{get:function(){return o.parcelRequire9b6a}}),o.parcelRequire9b6a=h;for(var c=0;c<t.length;c++)h(t[c]);var d=h(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=d:"function"==typeof define&&define.amd&&define((function(){return d}))}({kFCOa:[function(e,t,r){var i,n,o=e("./webgl-hello-world");e("tweakpane");window.addEventListener("load",(function(){var e,t=document.body.querySelector("#c");i=new o.WebGLHelloWorld(t,e,(function(e){e.run()}))})),window.addEventListener("resize",(function(){i&&(n&&clearTimeout(n),n=setTimeout((function(){n=null,i.resize()}),300))}))},{"./webgl-hello-world":"4g1vK",tweakpane:"53J2X"}],"4g1vK":[function(e,t,r){var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"WebGLHelloWorld",(function(){return v}));var n=e("@swc/helpers"),o=e("./shader/fragment.glsl"),a=i.interopDefault(o),s=e("./shader/vertex.glsl"),l=i.interopDefault(s),h=new WeakSet,c=new WeakSet,d=new WeakSet,u=new WeakSet,f=new WeakSet,g=new WeakSet,v=function(){"use strict";function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n.classCallCheck(this,e),n.defineProperty(this,"oninit",void 0),m.set(this,{writable:!0,value:0}),p.set(this,{writable:!0,value:!1}),h.add(this),c.add(this),d.add(this),u.add(this),f.add(this),g.add(this),this.canvas=t,this.pane=r,this.oninit=i,n.classPrivateMethodGet(this,c,w).call(this)}return n.createClass(e,[{key:"resize",value:function(){n.classPrivateMethodGet(this,f,x).call(this,this.gl.canvas),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}},{key:"run",value:function(){var e=this;n.classPrivateFieldGet(this,p)||(n.classPrivateMethodGet(this,h,b).call(this),this.gl.uniform4f(this.colorUniformLocation,1,0,0,1),this.gl.uniform1f(this.timeUniformLocation,n.classPrivateFieldGet(this,m)),n.classPrivateFieldSet(this,m,n.classPrivateFieldGet(this,m)+.01),requestAnimationFrame((function(){return e.run()})))}},{key:"destroy",value:function(){n.classPrivateFieldSet(this,p,!0)}}]),e}(),m=new WeakMap,p=new WeakMap;function b(){this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.useProgram(this.program),this.gl.bindVertexArray(this.vertexArrayObject),this.gl.drawArrays(this.gl.TRIANGLES,0,3)}function w(){if(this.gl=this.canvas.getContext("webgl2"),!this.gl)throw new Error("No WebGL 2 context!");this.vertexShader=n.classPrivateMethodGet(this,d,A).call(this,this.gl,this.gl.VERTEX_SHADER,l.default),this.fragmentShader=n.classPrivateMethodGet(this,d,A).call(this,this.gl,this.gl.FRAGMENT_SHADER,a.default),this.program=n.classPrivateMethodGet(this,u,S).call(this,this.gl,this.vertexShader,this.fragmentShader),this.vertexArrayObject=this.gl.createVertexArray(),this.gl.bindVertexArray(this.vertexArrayObject);var e=this.gl.getAttribLocation(this.program,"a_position"),t=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t);this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,.5,0,0,.5]),this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(e),this.gl.vertexAttribPointer(e,2,this.gl.FLOAT,!1,0,0);var r=this.gl.getAttribLocation(this.program,"a_vertexColor"),i=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,i);var o=[255*Math.random(),255*Math.random(),255*Math.random(),255*Math.random(),255*Math.random(),255*Math.random(),255*Math.random(),255*Math.random(),255*Math.random()];this.gl.bufferData(this.gl.ARRAY_BUFFER,new Uint8Array(o),this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(r),this.gl.vertexAttribPointer(r,3,this.gl.UNSIGNED_BYTE,!0,0,0),this.colorUniformLocation=this.gl.getUniformLocation(this.program,"u_color"),this.timeUniformLocation=this.gl.getUniformLocation(this.program,"u_time"),this.resize(),n.classPrivateMethodGet(this,g,y).call(this),this.oninit&&this.oninit(this)}function A(e,t,r){var i=e.createShader(t);if(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))return i;console.error(e.getShaderInfoLog(i)),e.deleteShader(i)}function S(e,t,r){var i=e.createProgram();if(e.attachShader(i,t),e.attachShader(i,r),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS))return i;console.error(e.getProgramInfoLog(i)),e.deleteProgram(i)}function x(e){var t=e.clientWidth,r=e.clientHeight,i=e.width!==t||e.height!==r;return i&&(e.width=t,e.height=r),i}function y(){this.pane}},{"@swc/helpers":"2CIBz","./shader/fragment.glsl":"llMHR","./shader/vertex.glsl":"xrLGa","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}],llMHR:[function(e,t,r){t.exports='#version 300 es\n\n// fragment shaders don\'t have a default precision so we need\n// to pick one. highp is a good default. It means "high precision"\nprecision highp float;\n#define GLSLIFY 1\n\nuniform vec4 u_color;\nuniform float u_time;\n\nout vec4 outColor;\n\nin vec4 v_color;\n\nvoid main() {\n    float s = 0.5;\n    float f = (sin(u_time * 5.) * 0.5 + 1.) * s + (1. - s);\n    vec4 color = vec4(v_color.rgb * f, 1.);\n\n    outColor = color;\n}\n'},{}],xrLGa:[function(e,t,r){t.exports="#version 300 es\n#define GLSLIFY 1\n\nin vec4 a_position;\nin vec3 a_vertexColor;\n\nout vec4 v_color;\n\nvoid main() {\n    v_color = vec4(a_vertexColor, 1.);\n    gl_Position = a_position;\n}\n"},{}]},["kFCOa"],"kFCOa");
//# sourceMappingURL=index.4ba322bb.js.map
