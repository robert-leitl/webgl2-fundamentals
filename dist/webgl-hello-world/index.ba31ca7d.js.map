{"mappings":"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","sources":["node_modules/@swc/helpers/src/index.js","node_modules/@swc/helpers/src/_apply_decorated_descriptor.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","node_modules/@swc/helpers/src/_array_with_holes.js","node_modules/@swc/helpers/src/_array_without_holes.js","node_modules/@swc/helpers/src/_assert_this_initialized.js","node_modules/@swc/helpers/src/_async_generator.js","node_modules/@swc/helpers/src/_await_value.js","node_modules/@swc/helpers/src/_async_generator_delegate.js","node_modules/@swc/helpers/src/_async_iterator.js","node_modules/@swc/helpers/src/_async_to_generator.js","node_modules/@swc/helpers/src/_await_async_generator.js","node_modules/@swc/helpers/src/_class_call_check.js","node_modules/@swc/helpers/src/_class_name_tdz_error.js","node_modules/@swc/helpers/src/_class_private_field_get.js","node_modules/@swc/helpers/src/_class_private_field_loose_base.js","node_modules/@swc/helpers/src/_class_private_field_set.js","node_modules/@swc/helpers/src/_class_private_method_get.js","node_modules/@swc/helpers/src/_class_private_method_set.js","node_modules/@swc/helpers/src/_class_static_private_field_spec_get.js","node_modules/@swc/helpers/src/_class_static_private_field_spec_set.js","node_modules/@swc/helpers/src/_construct.js","node_modules/@swc/helpers/src/_create_class.js","node_modules/@swc/helpers/src/_decorate.js","node_modules/@swc/helpers/src/_to_array.js","node_modules/@swc/helpers/src/_iterable_to_array.js","node_modules/@swc/helpers/src/_non_iterable_rest.js","node_modules/@swc/helpers/src/_to_property_key.js","node_modules/@swc/helpers/src/_type_of.js","node_modules/@swc/helpers/src/_to_primitive.js","node_modules/@swc/helpers/src/_defaults.js","node_modules/@swc/helpers/src/_define_enumerable_properties.js","node_modules/@swc/helpers/src/_define_property.js","node_modules/@swc/helpers/src/_extends.js","node_modules/@swc/helpers/src/_get.js","node_modules/@swc/helpers/src/_super_prop_base.js","node_modules/@swc/helpers/src/_get_prototype_of.js","node_modules/@swc/helpers/src/_inherits.js","node_modules/@swc/helpers/src/_set_prototype_of.js","node_modules/@swc/helpers/src/_inherits_loose.js","node_modules/@swc/helpers/src/_initializer_define_property.js","node_modules/@swc/helpers/src/_initializer_warning_helper.js","node_modules/@swc/helpers/src/_instanceof.js","node_modules/@swc/helpers/src/_interop_require_default.js","node_modules/@swc/helpers/src/_interop_require_wildcard.js","node_modules/@swc/helpers/src/_is_native_function.js","node_modules/@swc/helpers/src/_iterable_to_array_limit.js","node_modules/@swc/helpers/src/_iterable_to_array_limit_loose.js","node_modules/@swc/helpers/src/_jsx.js","node_modules/@swc/helpers/src/_new_arrow_check.js","node_modules/@swc/helpers/src/_non_iterable_spread.js","node_modules/@swc/helpers/src/_object_spread.js","node_modules/@swc/helpers/src/_object_without_properties.js","node_modules/@swc/helpers/src/_object_without_properties_loose.js","node_modules/@swc/helpers/src/_possible_constructor_return.js","node_modules/@swc/helpers/src/_read_only_error.js","node_modules/@swc/helpers/src/_set.js","node_modules/@swc/helpers/src/_skip_first_generator_next.js","node_modules/@swc/helpers/src/_sliced_to_array.js","node_modules/@swc/helpers/src/_sliced_to_array_loose.js","node_modules/@swc/helpers/src/_tagged_template_literal.js","node_modules/@swc/helpers/src/_tagged_template_literal_loose.js","node_modules/@swc/helpers/src/_throw.js","node_modules/@swc/helpers/src/_to_consumable_array.js","node_modules/@swc/helpers/src/_wrap_async_generator.js","node_modules/@swc/helpers/src/_wrap_native_super.js","node_modules/@swc/helpers/src/_create_super.js","node_modules/@swc/helpers/src/_is_native_reflect_construct.js","node_modules/tweakpane/dist/tweakpane.js"],"sourcesContent":["export { default as applyDecoratedDescriptor } from './_apply_decorated_descriptor';\nexport { default as arrayWithHoles } from './_array_with_holes';\nexport { default as arrayWithoutHoles } from './_array_without_holes';\nexport { default as assertThisInitialized } from './_assert_this_initialized';\nexport { default as asyncGenerator } from './_async_generator';\nexport { default as asyncGeneratorDelegate } from './_async_generator_delegate';\nexport { default as asyncIterator } from './_async_iterator';\nexport { default as asyncToGenerator } from './_async_to_generator';\nexport { default as awaitAsyncGenerator } from './_await_async_generator';\nexport { default as awaitValue } from './_await_value';\nexport { default as classCallCheck } from './_class_call_check';\nexport { default as classNameTDZError } from './_class_name_tdz_error';\nexport { default as classPrivateFieldGet } from './_class_private_field_get';\nexport { default as classPrivateFieldLooseBase } from './_class_private_field_loose_base';\nexport { default as classPrivateFieldSet } from './_class_private_field_set';\nexport { default as classPrivateMethodGet } from './_class_private_method_get';\nexport { default as classPrivateMethodSet } from './_class_private_method_set';\nexport { default as classStaticPrivateFieldSpecGet } from './_class_static_private_field_spec_get';\nexport { default as classStaticPrivateFieldSpecSet } from './_class_static_private_field_spec_set';\nexport { default as construct } from './_construct';\nexport { default as createClass } from './_create_class';\nexport { default as decorate } from './_decorate';\nexport { default as defaults } from './_defaults';\nexport { default as defineEnumerableProperties } from './_define_enumerable_properties';\nexport { default as defineProperty } from './_define_property';\nexport { default as extends } from './_extends';\nexport { default as get } from './_get';\nexport { default as getPrototypeOf } from './_get_prototype_of';\nexport { default as inherits } from './_inherits';\nexport { default as inheritsLoose } from './_inherits_loose';\nexport { default as initializerDefineProperty } from './_initializer_define_property';\nexport { default as initializerWarningHelper } from './_initializer_warning_helper';\nexport { default as _instanceof } from './_instanceof';\nexport { default as interopRequireDefault } from './_interop_require_default';\nexport { default as interopRequireWildcard } from './_interop_require_wildcard';\nexport { default as isNativeFunction } from './_is_native_function';\nexport { default as iterableToArray } from './_iterable_to_array';\nexport { default as iterableToArrayLimit } from './_iterable_to_array_limit';\nexport { default as iterableToArrayLimitLoose } from './_iterable_to_array_limit_loose';\nexport { default as jsx } from './_jsx';\nexport { default as newArrowCheck } from './_new_arrow_check';\nexport { default as nonIterableRest } from './_non_iterable_rest';\nexport { default as nonIterableSpread } from './_non_iterable_spread';\nexport { default as objectSpread } from './_object_spread';\nexport { default as objectWithoutProperties } from './_object_without_properties';\nexport { default as objectWithoutPropertiesLoose } from './_object_without_properties_loose';\nexport { default as possibleConstructorReturn } from './_possible_constructor_return';\nexport { default as readOnlyError } from './_read_only_error';\nexport { default as set } from './_set';\nexport { default as setPrototypeOf } from './_set_prototype_of';\nexport { default as skipFirstGeneratorNext } from './_skip_first_generator_next';\nexport { default as slicedToArray } from './_sliced_to_array';\nexport { default as slicedToArrayLoose } from './_sliced_to_array_loose';\nexport { default as superPropBase } from './_super_prop_base';\nexport { default as taggedTemplateLiteral } from './_tagged_template_literal';\nexport { default as taggedTemplateLiteralLoose } from './_tagged_template_literal_loose';\nexport { default as _throw } from './_throw';\nexport { default as toArray } from './_to_array';\nexport { default as toConsumableArray } from './_to_consumable_array';\nexport { default as toPrimitive } from './_to_primitive';\nexport { default as toPropertyKey } from './_to_property_key';\nexport { default as typeOf } from './_type_of';\nexport { default as wrapAsyncGenerator } from './_wrap_async_generator';\nexport { default as wrapNativeSuper } from './_wrap_native_super';\nexport { default as createSuper } from './_create_super';\nexport { default as isNativeReflectConstruct } from './_is_native_reflect_construct';\n","export default function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n  var desc = {};\n  Object['ke' + 'ys'](descriptor).forEach(function (key) {\n    desc[key] = descriptor[key];\n  });\n  desc.enumerable = !!desc.enumerable;\n  desc.configurable = !!desc.configurable;\n\n  if ('value' in desc || desc.initializer) {\n    desc.writable = true;\n  }\n\n  desc = decorators.slice().reverse().reduce(function (desc, decorator) {\n    return decorator ? (decorator(target, property, desc) || desc) : desc;\n  }, desc);\n\n  if (context && desc.initializer !== void 0) {\n    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n    desc.initializer = undefined;\n  }\n\n  if (desc.initializer === void 0) {\n    Object['define' + 'Property'](target, property, desc);\n    desc = null;\n  }\n\n  return desc;\n}\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n","import AwaitValue from './_await_value';\n\nexport default function AsyncGenerator(gen) {\n  var front, back;\n\n  function send(key, arg) {\n    return new Promise(function (resolve, reject) {\n      var request = {\n        key: key,\n        arg: arg,\n        resolve: resolve,\n        reject: reject,\n        next: null\n      };\n\n      if (back) {\n        back = back.next = request;\n      } else {\n        front = back = request;\n        resume(key, arg);\n      }\n    });\n  }\n\n  function resume(key, arg) {\n    try {\n      var result = gen[key](arg);\n      var value = result.value;\n      var wrappedAwait = value instanceof AwaitValue;\n      Promise.resolve(wrappedAwait ? value.wrapped : value).then(function (arg) {\n        if (wrappedAwait) {\n          resume(\"next\", arg);\n          return;\n        }\n\n        settle(result.done ? \"return\" : \"normal\", arg);\n      }, function (err) {\n        resume(\"throw\", err);\n      });\n    } catch (err) {\n      settle(\"throw\", err);\n    }\n  }\n\n  function settle(type, value) {\n    switch (type) {\n      case \"return\":\n        front.resolve({\n          value: value,\n          done: true\n        });\n        break;\n\n      case \"throw\":\n        front.reject(value);\n        break;\n\n      default:\n        front.resolve({\n          value: value,\n          done: false\n        });\n        break;\n    }\n\n    front = front.next;\n\n    if (front) {\n      resume(front.key, front.arg);\n    } else {\n      back = null;\n    }\n  }\n\n  this._invoke = send;\n\n  if (typeof gen.return !== \"function\") {\n    this.return = undefined;\n  }\n}\n\nif (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n  AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n    return this;\n  };\n}\n\nAsyncGenerator.prototype.next = function (arg) {\n  return this._invoke(\"next\", arg);\n};\n\nAsyncGenerator.prototype.throw = function (arg) {\n  return this._invoke(\"throw\", arg);\n};\n\nAsyncGenerator.prototype.return = function (arg) {\n  return this._invoke(\"return\", arg);\n};\n","export default function _AwaitValue(value) {\n  this.wrapped = value;\n}\n","export default function _asyncGeneratorDelegate(inner, awaitWrap) {\n  var iter = {},\n    waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n}\n","export default function _asyncIterator(iterable) {\n  var method;\n\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      method = iterable[Symbol.iterator];\n      if (method != null) return method.call(iterable);\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n","import AwaitValue from './_await_value';\n\nexport default function _awaitAsyncGenerator(value) {\n  return new AwaitValue(value);\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default function _classNameTDZError(name) {\n  throw new Error(\"Class \\\"\" + name + \"\\\" cannot be referenced in computed property keys.\");\n}\n","export default function _classPrivateFieldGet(receiver, privateMap) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  return privateMap.get(receiver).value;\n}\n","export default function _classPrivateFieldBase(receiver, privateKey) {\n  if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n    throw new TypeError(\"attempted to use private field on non-instance\");\n  }\n\n  return receiver;\n}\n","export default function _classPrivateFieldSet(receiver, privateMap, value) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to set private field on non-instance\");\n  }\n\n  var descriptor = privateMap.get(receiver);\n\n  if (!descriptor.writable) {\n    throw new TypeError(\"attempted to set read only private field\");\n  }\n\n  descriptor.value = value;\n  return value;\n}\n","export default function _classPrivateMethodGet(receiver, privateSet, fn) {\n  if (!privateSet.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n\n  return fn;\n}\n","export default function _classPrivateMethodSet() {\n  throw new TypeError(\"attempted to reassign private method\");\n}\n","export default function _classStaticPrivateFieldSpecGet(receiver, classConstructor, descriptor) {\n  if (receiver !== classConstructor) {\n    throw new TypeError(\"Private static access of wrong provenance\");\n  }\n\n  return descriptor.value;\n}\n","export default function _classStaticPrivateFieldSpecSet(receiver, classConstructor, descriptor, value) {\n  if (receiver !== classConstructor) {\n    throw new TypeError(\"Private static access of wrong provenance\");\n  }\n\n  if (!descriptor.writable) {\n    throw new TypeError(\"attempted to set read only private field\");\n  }\n\n  descriptor.value = value;\n  return value;\n}\n","function isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () { }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    construct = Reflect.construct;\n  } else {\n    construct = function construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return construct.apply(null, arguments);\n}\n\nexport default function _construct(Parent, args, Class) {\n  return construct.apply(null, arguments);\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n","import toArray from './_to_array';\nimport toPropertyKey from './_to_property_key';\n\nexport default function _decorate(decorators, factory, superClass) {\n  var r = factory(function initialize(O) {\n    _initializeInstanceElements(O, decorated.elements);\n  }, superClass);\n\n  var decorated = _decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators);\n\n  _initializeClassElements(r.F, decorated.elements);\n\n  return _runClassFinishers(r.F, decorated.finishers);\n}\n\nfunction _createElementDescriptor(def) {\n  var key = toPropertyKey(def.key);\n  var descriptor;\n\n  if (def.kind === \"method\") {\n    descriptor = {\n      value: def.value,\n      writable: true,\n      configurable: true,\n      enumerable: false\n    };\n    Object.defineProperty(def.value, \"name\", {\n      value: _typeof(key) === \"symbol\" ? \"\" : key,\n      configurable: true\n    });\n  } else if (def.kind === \"get\") {\n    descriptor = {\n      get: def.value,\n      configurable: true,\n      enumerable: false\n    };\n  } else if (def.kind === \"set\") {\n    descriptor = {\n      set: def.value,\n      configurable: true,\n      enumerable: false\n    };\n  } else if (def.kind === \"field\") {\n    descriptor = {\n      configurable: true,\n      writable: true,\n      enumerable: true\n    };\n  }\n\n  var element = {\n    kind: def.kind === \"field\" ? \"field\" : \"method\",\n    key: key,\n    placement: def.static ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\",\n    descriptor: descriptor\n  };\n  if (def.decorators) element.decorators = def.decorators;\n  if (def.kind === \"field\") element.initializer = def.value;\n  return element;\n}\n\nfunction _coalesceGetterSetter(element, other) {\n  if (element.descriptor.get !== undefined) {\n    other.descriptor.get = element.descriptor.get;\n  } else {\n    other.descriptor.set = element.descriptor.set;\n  }\n}\n\nfunction _coalesceClassElements(elements) {\n  var newElements = [];\n\n  var isSameElement = function isSameElement(other) {\n    return other.kind === \"method\" && other.key === element.key && other.placement === element.placement;\n  };\n\n  for (var i = 0; i < elements.length; i++) {\n    var element = elements[i];\n    var other;\n\n    if (element.kind === \"method\" && (other = newElements.find(isSameElement))) {\n      if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) {\n        if (_hasDecorators(element) || _hasDecorators(other)) {\n          throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\");\n        }\n\n        other.descriptor = element.descriptor;\n      } else {\n        if (_hasDecorators(element)) {\n          if (_hasDecorators(other)) {\n            throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\");\n          }\n\n          other.decorators = element.decorators;\n        }\n\n        _coalesceGetterSetter(element, other);\n      }\n    } else {\n      newElements.push(element);\n    }\n  }\n\n  return newElements;\n}\n\nfunction _hasDecorators(element) {\n  return element.decorators && element.decorators.length;\n}\n\nfunction _isDataDescriptor(desc) {\n  return desc !== undefined && !(desc.value === undefined && desc.writable === undefined);\n}\n\nfunction _initializeClassElements(F, elements) {\n  var proto = F.prototype;\n  [\"method\", \"field\"].forEach(function (kind) {\n    elements.forEach(function (element) {\n      var placement = element.placement;\n\n      if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) {\n        var receiver = placement === \"static\" ? F : proto;\n\n        _defineClassElement(receiver, element);\n      }\n    });\n  });\n}\n\nfunction _initializeInstanceElements(O, elements) {\n  [\"method\", \"field\"].forEach(function (kind) {\n    elements.forEach(function (element) {\n      if (element.kind === kind && element.placement === \"own\") {\n        _defineClassElement(O, element);\n      }\n    });\n  });\n}\n\nfunction _defineClassElement(receiver, element) {\n  var descriptor = element.descriptor;\n\n  if (element.kind === \"field\") {\n    var initializer = element.initializer;\n    descriptor = {\n      enumerable: descriptor.enumerable,\n      writable: descriptor.writable,\n      configurable: descriptor.configurable,\n      value: initializer === void 0 ? void 0 : initializer.call(receiver)\n    };\n  }\n\n  Object.defineProperty(receiver, element.key, descriptor);\n}\n\nfunction _decorateClass(elements, decorators) {\n  var newElements = [];\n  var finishers = [];\n  var placements = {\n    static: [],\n    prototype: [],\n    own: []\n  };\n  elements.forEach(function (element) {\n    _addElementPlacement(element, placements);\n  });\n  elements.forEach(function (element) {\n    if (!_hasDecorators(element)) return newElements.push(element);\n\n    var elementFinishersExtras = _decorateElement(element, placements);\n\n    newElements.push(elementFinishersExtras.element);\n    newElements.push.apply(newElements, elementFinishersExtras.extras);\n    finishers.push.apply(finishers, elementFinishersExtras.finishers);\n  });\n\n  if (!decorators) {\n    return {\n      elements: newElements,\n      finishers: finishers\n    };\n  }\n\n  var result = _decorateConstructor(newElements, decorators);\n\n  finishers.push.apply(finishers, result.finishers);\n  result.finishers = finishers;\n  return result;\n}\n\nfunction _addElementPlacement(element, placements, silent) {\n  var keys = placements[element.placement];\n\n  if (!silent && keys.indexOf(element.key) !== -1) {\n    throw new TypeError(\"Duplicated element (\" + element.key + \")\");\n  }\n\n  keys.push(element.key);\n}\n\nfunction _decorateElement(element, placements) {\n  var extras = [];\n  var finishers = [];\n\n  for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) {\n    var keys = placements[element.placement];\n    keys.splice(keys.indexOf(element.key), 1);\n\n    var elementObject = _fromElementDescriptor(element);\n\n    var elementFinisherExtras = _toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject);\n\n    element = elementFinisherExtras.element;\n\n    _addElementPlacement(element, placements);\n\n    if (elementFinisherExtras.finisher) {\n      finishers.push(elementFinisherExtras.finisher);\n    }\n\n    var newExtras = elementFinisherExtras.extras;\n\n    if (newExtras) {\n      for (var j = 0; j < newExtras.length; j++) {\n        _addElementPlacement(newExtras[j], placements);\n      }\n\n      extras.push.apply(extras, newExtras);\n    }\n  }\n\n  return {\n    element: element,\n    finishers: finishers,\n    extras: extras\n  };\n}\n\nfunction _decorateConstructor(elements, decorators) {\n  var finishers = [];\n\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    var obj = _fromClassDescriptor(elements);\n\n    var elementsAndFinisher = _toClassDescriptor((0, decorators[i])(obj) || obj);\n\n    if (elementsAndFinisher.finisher !== undefined) {\n      finishers.push(elementsAndFinisher.finisher);\n    }\n\n    if (elementsAndFinisher.elements !== undefined) {\n      elements = elementsAndFinisher.elements;\n\n      for (var j = 0; j < elements.length - 1; j++) {\n        for (var k = j + 1; k < elements.length; k++) {\n          if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) {\n            throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\");\n          }\n        }\n      }\n    }\n  }\n\n  return {\n    elements: elements,\n    finishers: finishers\n  };\n}\n\nfunction _fromElementDescriptor(element) {\n  var obj = {\n    kind: element.kind,\n    key: element.key,\n    placement: element.placement,\n    descriptor: element.descriptor\n  };\n  var desc = {\n    value: \"Descriptor\",\n    configurable: true\n  };\n  Object.defineProperty(obj, Symbol.toStringTag, desc);\n  if (element.kind === \"field\") obj.initializer = element.initializer;\n  return obj;\n}\n\nfunction _toElementDescriptors(elementObjects) {\n  if (elementObjects === undefined) return;\n  return toArray(elementObjects).map(function (elementObject) {\n    var element = _toElementDescriptor(elementObject);\n\n    _disallowProperty(elementObject, \"finisher\", \"An element descriptor\");\n\n    _disallowProperty(elementObject, \"extras\", \"An element descriptor\");\n\n    return element;\n  });\n}\n\nfunction _toElementDescriptor(elementObject) {\n  var kind = String(elementObject.kind);\n\n  if (kind !== \"method\" && kind !== \"field\") {\n    throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"');\n  }\n\n  var key = toPropertyKey(elementObject.key);\n  var placement = String(elementObject.placement);\n\n  if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") {\n    throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"');\n  }\n\n  var descriptor = elementObject.descriptor;\n\n  _disallowProperty(elementObject, \"elements\", \"An element descriptor\");\n\n  var element = {\n    kind: kind,\n    key: key,\n    placement: placement,\n    descriptor: Object.assign({}, descriptor)\n  };\n\n  if (kind !== \"field\") {\n    _disallowProperty(elementObject, \"initializer\", \"A method descriptor\");\n  } else {\n    _disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\");\n\n    _disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\");\n\n    _disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\");\n\n    element.initializer = elementObject.initializer;\n  }\n\n  return element;\n}\n\nfunction _toElementFinisherExtras(elementObject) {\n  var element = _toElementDescriptor(elementObject);\n\n  var finisher = _optionalCallableProperty(elementObject, \"finisher\");\n\n  var extras = _toElementDescriptors(elementObject.extras);\n\n  return {\n    element: element,\n    finisher: finisher,\n    extras: extras\n  };\n}\n\nfunction _fromClassDescriptor(elements) {\n  var obj = {\n    kind: \"class\",\n    elements: elements.map(_fromElementDescriptor)\n  };\n  var desc = {\n    value: \"Descriptor\",\n    configurable: true\n  };\n  Object.defineProperty(obj, Symbol.toStringTag, desc);\n  return obj;\n}\n\nfunction _toClassDescriptor(obj) {\n  var kind = String(obj.kind);\n\n  if (kind !== \"class\") {\n    throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"');\n  }\n\n  _disallowProperty(obj, \"key\", \"A class descriptor\");\n\n  _disallowProperty(obj, \"placement\", \"A class descriptor\");\n\n  _disallowProperty(obj, \"descriptor\", \"A class descriptor\");\n\n  _disallowProperty(obj, \"initializer\", \"A class descriptor\");\n\n  _disallowProperty(obj, \"extras\", \"A class descriptor\");\n\n  var finisher = _optionalCallableProperty(obj, \"finisher\");\n\n  var elements = _toElementDescriptors(obj.elements);\n\n  return {\n    elements: elements,\n    finisher: finisher\n  };\n}\n\nfunction _disallowProperty(obj, name, objectType) {\n  if (obj[name] !== undefined) {\n    throw new TypeError(objectType + \" can't have a .\" + name + \" property.\");\n  }\n}\n\nfunction _optionalCallableProperty(obj, name) {\n  var value = obj[name];\n\n  if (value !== undefined && typeof value !== \"function\") {\n    throw new TypeError(\"Expected '\" + name + \"' to be a function\");\n  }\n\n  return value;\n}\n\nfunction _runClassFinishers(constructor, finishers) {\n  for (var i = 0; i < finishers.length; i++) {\n    var newConstructor = (0, finishers[i])(constructor);\n\n    if (newConstructor !== undefined) {\n      if (typeof newConstructor !== \"function\") {\n        throw new TypeError(\"Finishers must return a constructor.\");\n      }\n\n      constructor = newConstructor;\n    }\n  }\n\n  return constructor;\n}\n","import arrayWithHoles from './_array_with_holes';\nimport iterableToArray from './_iterable_to_array';\nimport nonIterableRest from './_non_iterable_rest';\n\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || nonIterableRest();\n}\n","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n","import _typeof from './_type_of';\nimport toPrimitive from './_to_primitive';\n\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","export default function _typeof(obj) {\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n","import _typeof from './_type_of';\n\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n\n  return (hint === \"string\" ? String : Number)(input);\n}","export default function _defaults(obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n}\n","export default function _defineEnumerableProperties(obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n    for (var i = 0; i < objectSymbols.length; i++) {\n      var sym = objectSymbols[i];\n      var desc = descs[sym];\n      desc.configurable = desc.enumerable = true;\n      if (\"value\" in desc) desc.writable = true;\n      Object.defineProperty(obj, sym, desc);\n    }\n  }\n\n  return obj;\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","function extends_() {\n  extends_ = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return extends_.apply(this, arguments);\n}\n\nexport default function _extends() {\n  return extends_.apply(this, arguments);\n}\n","import superPropBase from './_super_prop_base';\n\nfunction get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    get = Reflect.get;\n  } else {\n    get = function get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver || target);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return get(target, property, receiver);\n}\n\nexport default function _get(target, property, reciever) {\n  return get(target, property, reciever);\n}\n","import getPrototypeOf from './_get_prototype_of';\n\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n","function getPrototypeOf(o) {\n  getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return getPrototypeOf(o);\n}\n\nexport default function _getPrototypeOf(o) {\n  return getPrototypeOf(o);\n}","import setPrototypeOf from './_set_prototype_of';\n\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n","function setPrototypeOf(o, p) {\n  setPrototypeOf = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return setPrototypeOf(o, p);\n}\n\nexport default function _setPrototypeOf(o, p) {\n  return setPrototypeOf(o, p);\n}\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n","export default function _initializerDefineProperty(target, property, descriptor, context) {\n  if (!descriptor) return;\n  Object.defineProperty(target, property, {\n    enumerable: descriptor.enumerable,\n    configurable: descriptor.configurable,\n    writable: descriptor.writable,\n    value: descriptor.initializer ? descriptor.initializer.call(context) : void 0\n  });\n}\n","export default function _initializerWarningHelper(descriptor, context) {\n  throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and set to use loose mode. ' + 'To use proposal-class-properties in spec mode with decorators, wait for ' + 'the next major version of decorators in stage 2.');\n}\n","export default function _instanceof(left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n}","export default function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n","export default function _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n","export default function _iterableToArrayLimitLoose(arr, i) {\n  var _arr = [];\n\n  for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n    _arr.push(_step.value);\n\n    if (i && _arr.length === i) break;\n  }\n\n  return _arr;\n}\n","var REACT_ELEMENT_TYPE;\n\nexport default function _createRawReactElement(type, props, key, children) {\n  if (!REACT_ELEMENT_TYPE) {\n    REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  }\n\n  var defaultProps = type && type.defaultProps;\n  var childrenLength = arguments.length - 3;\n\n  if (!props && childrenLength !== 0) {\n    props = {\n      children: void 0\n    };\n  }\n\n  if (props && defaultProps) {\n    for (var propName in defaultProps) {\n      if (props[propName] === void 0) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  } else if (!props) {\n    props = defaultProps || {};\n  }\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = new Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 3];\n    }\n\n    props.children = childArray;\n  }\n\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key === undefined ? null : '' + key,\n    ref: null,\n    props: props,\n    _owner: null\n  };\n}\n","export default function _newArrowCheck(innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n","import defineProperty from './_define_property';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from './_object_without_properties_loose';\n\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n","import assertThisInitialized from './_assert_this_initialized';\nimport _typeof from './_type_of';\n\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n","export default function _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n","import defineProperty from './_define_property';\nimport superPropBase from './_super_prop_base';\n\nfunction set(target, property, value, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.set) {\n    set = Reflect.set;\n  } else {\n    set = function set(target, property, value, receiver) {\n      var base = superPropBase(target, property);\n      var desc;\n\n      if (base) {\n        desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.set) {\n          desc.set.call(receiver, value);\n          return true;\n        } else if (!desc.writable) {\n          return false;\n        }\n      }\n\n      desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n      if (desc) {\n        if (!desc.writable) {\n          return false;\n        }\n\n        desc.value = value;\n        Object.defineProperty(receiver, property, desc);\n      } else {\n        defineProperty(receiver, property, value);\n      }\n\n      return true;\n    };\n  }\n\n  return set(target, property, value, receiver);\n}\n\nexport default function _set(target, property, value, receiver, isStrict) {\n  var s = set(target, property, value, receiver || target);\n\n  if (!s && isStrict) {\n    throw new Error('failed to set property');\n  }\n\n  return value;\n}\n","export default function _skipFirstGeneratorNext(fn) {\n  return function () {\n    var it = fn.apply(this, arguments);\n    it.next();\n    return it;\n  };\n}\n","import arrayWithHoles from './_array_with_holes';\nimport iterableToArrayLimit from './_iterable_to_array';\nimport nonIterableRest from './_non_iterable_rest';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","import arrayWithHoles from './_array_with_holes';\nimport iterableToArrayLimitLoose from './_iterable_to_array_limit_loose';\nimport nonIterableRest from './_non_iterable_rest';\n\nexport default function _slicedToArrayLoose(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimitLoose(arr, i) || nonIterableRest();\n}\n","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n","export default function _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}\n","export default function _throw(e) {\n    throw e;\n}","import arrayWithoutHoles from './_array_without_holes';\nimport iterableToArray from './_iterable_to_array';\nimport nonIterableSpread from './_non_iterable_spread';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n","import AsyncGenerator from './_async_generator';\n\nexport default function _wrapAsyncGenerator(fn) {\n  return function () {\n    return new AsyncGenerator(fn.apply(this, arguments));\n  };\n}\n","import construct from './_construct';\nimport isNativeFunction from './_is_native_function';\nimport getPrototypeOf from './_get_prototype_of';\nimport setPrototypeOf from './_set_prototype_of';\n\nfunction wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  wrapNativeSuper = function wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return wrapNativeSuper(Class);\n}\n\nexport default function _wrapNativeSuper(Class) {\n  return wrapNativeSuper(Class);\n}\n","import _isNativeReflectConstruct from \"./_is_native_reflect_construct\";\nimport _getPrototypeOf from \"./_get_prototype_of\";\nimport _possibleConstructorReturn from './_possible_constructor_return';\n\nexport default function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n    return function _createSuperInternal() {\n        var Super = _getPrototypeOf(Derived),\n            result;\n        if (hasNativeReflectConstruct) {\n            var NewTarget = _getPrototypeOf(this).constructor;\n            result = Reflect.construct(Super, arguments, NewTarget);\n        } else {\n            result = Super.apply(this, arguments);\n        }\n        return _possibleConstructorReturn(this, result);\n    };\n}","export default function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { }));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}","/*! Tweakpane 3.0.7 (c) 2016 cocopon, licensed under the MIT license. */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.Tweakpane = {}));\n})(this, (function (exports) { 'use strict';\n\n    /***\n     * A simple semantic versioning perser.\n     */\n    class Semver {\n        /**\n         * @hidden\n         */\n        constructor(text) {\n            const [core, prerelease] = text.split('-');\n            const coreComps = core.split('.');\n            this.major = parseInt(coreComps[0], 10);\n            this.minor = parseInt(coreComps[1], 10);\n            this.patch = parseInt(coreComps[2], 10);\n            this.prerelease = prerelease !== null && prerelease !== void 0 ? prerelease : null;\n        }\n        toString() {\n            const core = [this.major, this.minor, this.patch].join('.');\n            return this.prerelease !== null ? [core, this.prerelease].join('-') : core;\n        }\n    }\n\n    class BladeApi {\n        constructor(controller) {\n            this.controller_ = controller;\n        }\n        get disabled() {\n            return this.controller_.viewProps.get('disabled');\n        }\n        set disabled(disabled) {\n            this.controller_.viewProps.set('disabled', disabled);\n        }\n        get hidden() {\n            return this.controller_.viewProps.get('hidden');\n        }\n        set hidden(hidden) {\n            this.controller_.viewProps.set('hidden', hidden);\n        }\n        dispose() {\n            this.controller_.viewProps.set('disposed', true);\n        }\n    }\n\n    class TpEvent {\n        constructor(target) {\n            this.target = target;\n        }\n    }\n    class TpChangeEvent extends TpEvent {\n        constructor(target, value, presetKey, last) {\n            super(target);\n            this.value = value;\n            this.presetKey = presetKey;\n            this.last = last !== null && last !== void 0 ? last : true;\n        }\n    }\n    class TpUpdateEvent extends TpEvent {\n        constructor(target, value, presetKey) {\n            super(target);\n            this.value = value;\n            this.presetKey = presetKey;\n        }\n    }\n    class TpFoldEvent extends TpEvent {\n        constructor(target, expanded) {\n            super(target);\n            this.expanded = expanded;\n        }\n    }\n\n    function forceCast(v) {\n        return v;\n    }\n    function isEmpty(value) {\n        return value === null || value === undefined;\n    }\n    function deepEqualsArray(a1, a2) {\n        if (a1.length !== a2.length) {\n            return false;\n        }\n        for (let i = 0; i < a1.length; i++) {\n            if (a1[i] !== a2[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    const CREATE_MESSAGE_MAP = {\n        alreadydisposed: () => 'View has been already disposed',\n        invalidparams: (context) => `Invalid parameters for '${context.name}'`,\n        nomatchingcontroller: (context) => `No matching controller for '${context.key}'`,\n        nomatchingview: (context) => `No matching view for '${JSON.stringify(context.params)}'`,\n        notbindable: () => `Value is not bindable`,\n        propertynotfound: (context) => `Property '${context.name}' not found`,\n        shouldneverhappen: () => 'This error should never happen',\n    };\n    class TpError {\n        constructor(config) {\n            var _a;\n            this.message =\n                (_a = CREATE_MESSAGE_MAP[config.type](forceCast(config.context))) !== null && _a !== void 0 ? _a : 'Unexpected error';\n            this.name = this.constructor.name;\n            this.stack = new Error(this.message).stack;\n            this.type = config.type;\n        }\n        static alreadyDisposed() {\n            return new TpError({ type: 'alreadydisposed' });\n        }\n        static notBindable() {\n            return new TpError({\n                type: 'notbindable',\n            });\n        }\n        static propertyNotFound(name) {\n            return new TpError({\n                type: 'propertynotfound',\n                context: {\n                    name: name,\n                },\n            });\n        }\n        static shouldNeverHappen() {\n            return new TpError({ type: 'shouldneverhappen' });\n        }\n    }\n\n    class BindingTarget {\n        constructor(obj, key, opt_id) {\n            this.obj_ = obj;\n            this.key_ = key;\n            this.presetKey_ = opt_id !== null && opt_id !== void 0 ? opt_id : key;\n        }\n        static isBindable(obj) {\n            if (obj === null) {\n                return false;\n            }\n            if (typeof obj !== 'object') {\n                return false;\n            }\n            return true;\n        }\n        get key() {\n            return this.key_;\n        }\n        get presetKey() {\n            return this.presetKey_;\n        }\n        read() {\n            return this.obj_[this.key_];\n        }\n        write(value) {\n            this.obj_[this.key_] = value;\n        }\n        writeProperty(name, value) {\n            const valueObj = this.read();\n            if (!BindingTarget.isBindable(valueObj)) {\n                throw TpError.notBindable();\n            }\n            if (!(name in valueObj)) {\n                throw TpError.propertyNotFound(name);\n            }\n            valueObj[name] = value;\n        }\n    }\n\n    class ButtonApi extends BladeApi {\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get title() {\n            var _a;\n            return (_a = this.controller_.valueController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n        }\n        set title(title) {\n            this.controller_.valueController.props.set('title', title);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            const emitter = this.controller_.valueController.emitter;\n            emitter.on(eventName, () => {\n                bh(new TpEvent(this));\n            });\n            return this;\n        }\n    }\n\n    class Emitter {\n        constructor() {\n            this.observers_ = {};\n        }\n        on(eventName, handler) {\n            let observers = this.observers_[eventName];\n            if (!observers) {\n                observers = this.observers_[eventName] = [];\n            }\n            observers.push({\n                handler: handler,\n            });\n            return this;\n        }\n        off(eventName, handler) {\n            const observers = this.observers_[eventName];\n            if (observers) {\n                this.observers_[eventName] = observers.filter((observer) => {\n                    return observer.handler !== handler;\n                });\n            }\n            return this;\n        }\n        emit(eventName, event) {\n            const observers = this.observers_[eventName];\n            if (!observers) {\n                return;\n            }\n            observers.forEach((observer) => {\n                observer.handler(event);\n            });\n        }\n    }\n\n    const PREFIX = 'tp';\n    function ClassName(viewName) {\n        const fn = (opt_elementName, opt_modifier) => {\n            return [\n                PREFIX,\n                '-',\n                viewName,\n                'v',\n                opt_elementName ? `_${opt_elementName}` : '',\n                opt_modifier ? `-${opt_modifier}` : '',\n            ].join('');\n        };\n        return fn;\n    }\n\n    function compose(h1, h2) {\n        return (input) => h2(h1(input));\n    }\n    function extractValue(ev) {\n        return ev.rawValue;\n    }\n    function bindValue(value, applyValue) {\n        value.emitter.on('change', compose(extractValue, applyValue));\n        applyValue(value.rawValue);\n    }\n    function bindValueMap(valueMap, key, applyValue) {\n        bindValue(valueMap.value(key), applyValue);\n    }\n\n    function applyClass(elem, className, active) {\n        if (active) {\n            elem.classList.add(className);\n        }\n        else {\n            elem.classList.remove(className);\n        }\n    }\n    function valueToClassName(elem, className) {\n        return (value) => {\n            applyClass(elem, className, value);\n        };\n    }\n    function bindValueToTextContent(value, elem) {\n        bindValue(value, (text) => {\n            elem.textContent = text !== null && text !== void 0 ? text : '';\n        });\n    }\n\n    const className$q = ClassName('btn');\n    class ButtonView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$q());\n            config.viewProps.bindClassModifiers(this.element);\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$q('b'));\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            const titleElem = doc.createElement('div');\n            titleElem.classList.add(className$q('t'));\n            bindValueToTextContent(config.props.value('title'), titleElem);\n            this.buttonElement.appendChild(titleElem);\n        }\n    }\n\n    class ButtonController {\n        constructor(doc, config) {\n            this.emitter = new Emitter();\n            this.onClick_ = this.onClick_.bind(this);\n            this.props = config.props;\n            this.viewProps = config.viewProps;\n            this.view = new ButtonView(doc, {\n                props: this.props,\n                viewProps: this.viewProps,\n            });\n            this.view.buttonElement.addEventListener('click', this.onClick_);\n        }\n        onClick_() {\n            this.emitter.emit('click', {\n                sender: this,\n            });\n        }\n    }\n\n    class BoundValue {\n        constructor(initialValue, config) {\n            var _a;\n            this.constraint_ = config === null || config === void 0 ? void 0 : config.constraint;\n            this.equals_ = (_a = config === null || config === void 0 ? void 0 : config.equals) !== null && _a !== void 0 ? _a : ((v1, v2) => v1 === v2);\n            this.emitter = new Emitter();\n            this.rawValue_ = initialValue;\n        }\n        get constraint() {\n            return this.constraint_;\n        }\n        get rawValue() {\n            return this.rawValue_;\n        }\n        set rawValue(rawValue) {\n            this.setRawValue(rawValue, {\n                forceEmit: false,\n                last: true,\n            });\n        }\n        setRawValue(rawValue, options) {\n            const opts = options !== null && options !== void 0 ? options : {\n                forceEmit: false,\n                last: true,\n            };\n            const constrainedValue = this.constraint_\n                ? this.constraint_.constrain(rawValue)\n                : rawValue;\n            const changed = !this.equals_(this.rawValue_, constrainedValue);\n            if (!changed && !opts.forceEmit) {\n                return;\n            }\n            this.emitter.emit('beforechange', {\n                sender: this,\n            });\n            this.rawValue_ = constrainedValue;\n            this.emitter.emit('change', {\n                options: opts,\n                rawValue: constrainedValue,\n                sender: this,\n            });\n        }\n    }\n\n    class PrimitiveValue {\n        constructor(initialValue) {\n            this.emitter = new Emitter();\n            this.value_ = initialValue;\n        }\n        get rawValue() {\n            return this.value_;\n        }\n        set rawValue(value) {\n            this.setRawValue(value, {\n                forceEmit: false,\n                last: true,\n            });\n        }\n        setRawValue(value, options) {\n            const opts = options !== null && options !== void 0 ? options : {\n                forceEmit: false,\n                last: true,\n            };\n            if (this.value_ === value && !opts.forceEmit) {\n                return;\n            }\n            this.emitter.emit('beforechange', {\n                sender: this,\n            });\n            this.value_ = value;\n            this.emitter.emit('change', {\n                options: opts,\n                rawValue: this.value_,\n                sender: this,\n            });\n        }\n    }\n\n    function createValue(initialValue, config) {\n        const constraint = config === null || config === void 0 ? void 0 : config.constraint;\n        const equals = config === null || config === void 0 ? void 0 : config.equals;\n        if (!constraint && !equals) {\n            return new PrimitiveValue(initialValue);\n        }\n        return new BoundValue(initialValue, config);\n    }\n\n    class ValueMap {\n        constructor(valueMap) {\n            this.emitter = new Emitter();\n            this.valMap_ = valueMap;\n            for (const key in this.valMap_) {\n                const v = this.valMap_[key];\n                v.emitter.on('change', () => {\n                    this.emitter.emit('change', {\n                        key: key,\n                        sender: this,\n                    });\n                });\n            }\n        }\n        static createCore(initialValue) {\n            const keys = Object.keys(initialValue);\n            return keys.reduce((o, key) => {\n                return Object.assign(o, {\n                    [key]: createValue(initialValue[key]),\n                });\n            }, {});\n        }\n        static fromObject(initialValue) {\n            const core = this.createCore(initialValue);\n            return new ValueMap(core);\n        }\n        get(key) {\n            return this.valMap_[key].rawValue;\n        }\n        set(key, value) {\n            this.valMap_[key].rawValue = value;\n        }\n        value(key) {\n            return this.valMap_[key];\n        }\n    }\n\n    function parseObject(value, keyToParserMap) {\n        const keys = Object.keys(keyToParserMap);\n        const result = keys.reduce((tmp, key) => {\n            if (tmp === undefined) {\n                return undefined;\n            }\n            const parser = keyToParserMap[key];\n            const result = parser(value[key]);\n            return result.succeeded\n                ? Object.assign(Object.assign({}, tmp), { [key]: result.value }) : undefined;\n        }, {});\n        return forceCast(result);\n    }\n    function parseArray(value, parseItem) {\n        return value.reduce((tmp, item) => {\n            if (tmp === undefined) {\n                return undefined;\n            }\n            const result = parseItem(item);\n            if (!result.succeeded || result.value === undefined) {\n                return undefined;\n            }\n            return [...tmp, result.value];\n        }, []);\n    }\n    function isObject(value) {\n        if (value === null) {\n            return false;\n        }\n        return typeof value === 'object';\n    }\n    function createParamsParserBuilder(parse) {\n        return (optional) => (v) => {\n            if (!optional && v === undefined) {\n                return {\n                    succeeded: false,\n                    value: undefined,\n                };\n            }\n            if (optional && v === undefined) {\n                return {\n                    succeeded: true,\n                    value: undefined,\n                };\n            }\n            const result = parse(v);\n            return result !== undefined\n                ? {\n                    succeeded: true,\n                    value: result,\n                }\n                : {\n                    succeeded: false,\n                    value: undefined,\n                };\n        };\n    }\n    function createParamsParserBuilders(optional) {\n        return {\n            custom: (parse) => createParamsParserBuilder(parse)(optional),\n            boolean: createParamsParserBuilder((v) => typeof v === 'boolean' ? v : undefined)(optional),\n            number: createParamsParserBuilder((v) => typeof v === 'number' ? v : undefined)(optional),\n            string: createParamsParserBuilder((v) => typeof v === 'string' ? v : undefined)(optional),\n            function: createParamsParserBuilder((v) =>\n            typeof v === 'function' ? v : undefined)(optional),\n            constant: (value) => createParamsParserBuilder((v) => (v === value ? value : undefined))(optional),\n            raw: createParamsParserBuilder((v) => v)(optional),\n            object: (keyToParserMap) => createParamsParserBuilder((v) => {\n                if (!isObject(v)) {\n                    return undefined;\n                }\n                return parseObject(v, keyToParserMap);\n            })(optional),\n            array: (itemParser) => createParamsParserBuilder((v) => {\n                if (!Array.isArray(v)) {\n                    return undefined;\n                }\n                return parseArray(v, itemParser);\n            })(optional),\n        };\n    }\n    const ParamsParsers = {\n        optional: createParamsParserBuilders(true),\n        required: createParamsParserBuilders(false),\n    };\n    function parseParams(value, keyToParserMap) {\n        const result = ParamsParsers.required.object(keyToParserMap)(value);\n        return result.succeeded ? result.value : undefined;\n    }\n\n    function disposeElement(elem) {\n        if (elem && elem.parentElement) {\n            elem.parentElement.removeChild(elem);\n        }\n        return null;\n    }\n\n    function getAllBladePositions() {\n        return ['veryfirst', 'first', 'last', 'verylast'];\n    }\n\n    const className$p = ClassName('');\n    const POS_TO_CLASS_NAME_MAP = {\n        veryfirst: 'vfst',\n        first: 'fst',\n        last: 'lst',\n        verylast: 'vlst',\n    };\n    class BladeController {\n        constructor(config) {\n            this.parent_ = null;\n            this.blade = config.blade;\n            this.view = config.view;\n            this.viewProps = config.viewProps;\n            const elem = this.view.element;\n            this.blade.value('positions').emitter.on('change', () => {\n                getAllBladePositions().forEach((pos) => {\n                    elem.classList.remove(className$p(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n                });\n                this.blade.get('positions').forEach((pos) => {\n                    elem.classList.add(className$p(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n                });\n            });\n            this.viewProps.handleDispose(() => {\n                disposeElement(elem);\n            });\n        }\n        get parent() {\n            return this.parent_;\n        }\n    }\n\n    const SVG_NS = 'http://www.w3.org/2000/svg';\n    function forceReflow(element) {\n        element.offsetHeight;\n    }\n    function disableTransitionTemporarily(element, callback) {\n        const t = element.style.transition;\n        element.style.transition = 'none';\n        callback();\n        element.style.transition = t;\n    }\n    function supportsTouch(doc) {\n        return doc.ontouchstart !== undefined;\n    }\n    function getGlobalObject() {\n        return new Function('return this')();\n    }\n    function getWindowDocument() {\n        const globalObj = forceCast(getGlobalObject());\n        return globalObj.document;\n    }\n    function getCanvasContext(canvasElement) {\n        const win = canvasElement.ownerDocument.defaultView;\n        if (!win) {\n            return null;\n        }\n        const isBrowser = 'document' in win;\n        return isBrowser ? canvasElement.getContext('2d') : null;\n    }\n    const ICON_ID_TO_INNER_HTML_MAP = {\n        check: '<path d=\"M2 8l4 4l8 -8\"/>',\n        dropdown: '<path d=\"M5 7h6l-3 3 z\"/>',\n        p2dpad: '<path d=\"M8 4v8\"/><path d=\"M4 8h8\"/><circle cx=\"12\" cy=\"12\" r=\"1.2\"/>',\n    };\n    function createSvgIconElement(document, iconId) {\n        const elem = document.createElementNS(SVG_NS, 'svg');\n        elem.innerHTML = ICON_ID_TO_INNER_HTML_MAP[iconId];\n        return elem;\n    }\n    function insertElementAt(parentElement, element, index) {\n        parentElement.insertBefore(element, parentElement.children[index]);\n    }\n    function removeElement(element) {\n        if (element.parentElement) {\n            element.parentElement.removeChild(element);\n        }\n    }\n    function removeChildElements(element) {\n        while (element.children.length > 0) {\n            element.removeChild(element.children[0]);\n        }\n    }\n    function removeChildNodes(element) {\n        while (element.childNodes.length > 0) {\n            element.removeChild(element.childNodes[0]);\n        }\n    }\n    function findNextTarget(ev) {\n        if (ev.relatedTarget) {\n            return forceCast(ev.relatedTarget);\n        }\n        if ('explicitOriginalTarget' in ev) {\n            return ev.explicitOriginalTarget;\n        }\n        return null;\n    }\n\n    const className$o = ClassName('lbl');\n    function createLabelNode(doc, label) {\n        const frag = doc.createDocumentFragment();\n        const lineNodes = label.split('\\n').map((line) => {\n            return doc.createTextNode(line);\n        });\n        lineNodes.forEach((lineNode, index) => {\n            if (index > 0) {\n                frag.appendChild(doc.createElement('br'));\n            }\n            frag.appendChild(lineNode);\n        });\n        return frag;\n    }\n    class LabelView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$o());\n            config.viewProps.bindClassModifiers(this.element);\n            const labelElem = doc.createElement('div');\n            labelElem.classList.add(className$o('l'));\n            bindValueMap(config.props, 'label', (value) => {\n                if (isEmpty(value)) {\n                    this.element.classList.add(className$o(undefined, 'nol'));\n                }\n                else {\n                    this.element.classList.remove(className$o(undefined, 'nol'));\n                    removeChildNodes(labelElem);\n                    labelElem.appendChild(createLabelNode(doc, value));\n                }\n            });\n            this.element.appendChild(labelElem);\n            this.labelElement = labelElem;\n            const valueElem = doc.createElement('div');\n            valueElem.classList.add(className$o('v'));\n            this.element.appendChild(valueElem);\n            this.valueElement = valueElem;\n        }\n    }\n\n    class LabelController extends BladeController {\n        constructor(doc, config) {\n            const viewProps = config.valueController.viewProps;\n            super(Object.assign(Object.assign({}, config), { view: new LabelView(doc, {\n                    props: config.props,\n                    viewProps: viewProps,\n                }), viewProps: viewProps }));\n            this.props = config.props;\n            this.valueController = config.valueController;\n            this.view.valueElement.appendChild(this.valueController.view.element);\n        }\n    }\n\n    const ButtonBladePlugin = {\n        id: 'button',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                title: p.required.string,\n                view: p.required.constant('button'),\n                label: p.optional.string,\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            return new LabelController(args.document, {\n                blade: args.blade,\n                props: ValueMap.fromObject({\n                    label: args.params.label,\n                }),\n                valueController: new ButtonController(args.document, {\n                    props: ValueMap.fromObject({\n                        title: args.params.title,\n                    }),\n                    viewProps: args.viewProps,\n                }),\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof LabelController)) {\n                return null;\n            }\n            if (!(args.controller.valueController instanceof ButtonController)) {\n                return null;\n            }\n            return new ButtonApi(args.controller);\n        },\n    };\n\n    class ValueBladeController extends BladeController {\n        constructor(config) {\n            super(config);\n            this.value = config.value;\n        }\n    }\n\n    function createBlade() {\n        return new ValueMap({\n            positions: createValue([], {\n                equals: deepEqualsArray,\n            }),\n        });\n    }\n\n    class Foldable extends ValueMap {\n        constructor(valueMap) {\n            super(valueMap);\n        }\n        static create(expanded) {\n            const coreObj = {\n                completed: true,\n                expanded: expanded,\n                expandedHeight: null,\n                shouldFixHeight: false,\n                temporaryExpanded: null,\n            };\n            const core = ValueMap.createCore(coreObj);\n            return new Foldable(core);\n        }\n        get styleExpanded() {\n            var _a;\n            return (_a = this.get('temporaryExpanded')) !== null && _a !== void 0 ? _a : this.get('expanded');\n        }\n        get styleHeight() {\n            if (!this.styleExpanded) {\n                return '0';\n            }\n            const exHeight = this.get('expandedHeight');\n            if (this.get('shouldFixHeight') && !isEmpty(exHeight)) {\n                return `${exHeight}px`;\n            }\n            return 'auto';\n        }\n        bindExpandedClass(elem, expandedClassName) {\n            bindValueMap(this, 'expanded', () => {\n                const expanded = this.styleExpanded;\n                if (expanded) {\n                    elem.classList.add(expandedClassName);\n                }\n                else {\n                    elem.classList.remove(expandedClassName);\n                }\n            });\n        }\n    }\n    function computeExpandedFolderHeight(folder, containerElement) {\n        let height = 0;\n        disableTransitionTemporarily(containerElement, () => {\n            folder.set('expandedHeight', null);\n            folder.set('temporaryExpanded', true);\n            forceReflow(containerElement);\n            height = containerElement.clientHeight;\n            folder.set('temporaryExpanded', null);\n            forceReflow(containerElement);\n        });\n        return height;\n    }\n    function applyHeight(foldable, elem) {\n        elem.style.height = foldable.styleHeight;\n    }\n    function bindFoldable(foldable, elem) {\n        foldable.value('expanded').emitter.on('beforechange', () => {\n            foldable.set('completed', false);\n            if (isEmpty(foldable.get('expandedHeight'))) {\n                foldable.set('expandedHeight', computeExpandedFolderHeight(foldable, elem));\n            }\n            foldable.set('shouldFixHeight', true);\n            forceReflow(elem);\n        });\n        foldable.emitter.on('change', () => {\n            applyHeight(foldable, elem);\n        });\n        applyHeight(foldable, elem);\n        elem.addEventListener('transitionend', (ev) => {\n            if (ev.propertyName !== 'height') {\n                return;\n            }\n            foldable.set('shouldFixHeight', false);\n            foldable.set('expandedHeight', null);\n            foldable.set('completed', true);\n        });\n    }\n\n    class RackLikeApi extends BladeApi {\n        constructor(controller, rackApi) {\n            super(controller);\n            this.rackApi_ = rackApi;\n        }\n    }\n\n    function addButtonAsBlade(api, params) {\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'button' }));\n    }\n    function addFolderAsBlade(api, params) {\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'folder' }));\n    }\n    function addSeparatorAsBlade(api, opt_params) {\n        const params = opt_params || {};\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'separator' }));\n    }\n    function addTabAsBlade(api, params) {\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'tab' }));\n    }\n\n    class NestedOrderedSet {\n        constructor(extract) {\n            this.emitter = new Emitter();\n            this.items_ = [];\n            this.cache_ = new Set();\n            this.onSubListAdd_ = this.onSubListAdd_.bind(this);\n            this.onSubListRemove_ = this.onSubListRemove_.bind(this);\n            this.extract_ = extract;\n        }\n        get items() {\n            return this.items_;\n        }\n        allItems() {\n            return Array.from(this.cache_);\n        }\n        find(callback) {\n            for (const item of this.allItems()) {\n                if (callback(item)) {\n                    return item;\n                }\n            }\n            return null;\n        }\n        includes(item) {\n            return this.cache_.has(item);\n        }\n        add(item, opt_index) {\n            if (this.includes(item)) {\n                throw TpError.shouldNeverHappen();\n            }\n            const index = opt_index !== undefined ? opt_index : this.items_.length;\n            this.items_.splice(index, 0, item);\n            this.cache_.add(item);\n            const subList = this.extract_(item);\n            if (subList) {\n                subList.emitter.on('add', this.onSubListAdd_);\n                subList.emitter.on('remove', this.onSubListRemove_);\n                subList.allItems().forEach((item) => {\n                    this.cache_.add(item);\n                });\n            }\n            this.emitter.emit('add', {\n                index: index,\n                item: item,\n                root: this,\n                target: this,\n            });\n        }\n        remove(item) {\n            const index = this.items_.indexOf(item);\n            if (index < 0) {\n                return;\n            }\n            this.items_.splice(index, 1);\n            this.cache_.delete(item);\n            const subList = this.extract_(item);\n            if (subList) {\n                subList.emitter.off('add', this.onSubListAdd_);\n                subList.emitter.off('remove', this.onSubListRemove_);\n            }\n            this.emitter.emit('remove', {\n                index: index,\n                item: item,\n                root: this,\n                target: this,\n            });\n        }\n        onSubListAdd_(ev) {\n            this.cache_.add(ev.item);\n            this.emitter.emit('add', {\n                index: ev.index,\n                item: ev.item,\n                root: this,\n                target: ev.target,\n            });\n        }\n        onSubListRemove_(ev) {\n            this.cache_.delete(ev.item);\n            this.emitter.emit('remove', {\n                index: ev.index,\n                item: ev.item,\n                root: this,\n                target: ev.target,\n            });\n        }\n    }\n\n    class InputBindingApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.onBindingChange_ = this.onBindingChange_.bind(this);\n            this.emitter_ = new Emitter();\n            this.controller_.binding.emitter.on('change', this.onBindingChange_);\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        refresh() {\n            this.controller_.binding.read();\n        }\n        onBindingChange_(ev) {\n            const value = ev.sender.target.read();\n            this.emitter_.emit('change', {\n                event: new TpChangeEvent(this, forceCast(value), this.controller_.binding.target.presetKey, ev.options.last),\n            });\n        }\n    }\n\n    class InputBindingController extends LabelController {\n        constructor(doc, config) {\n            super(doc, config);\n            this.binding = config.binding;\n        }\n    }\n\n    class MonitorBindingApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.onBindingUpdate_ = this.onBindingUpdate_.bind(this);\n            this.emitter_ = new Emitter();\n            this.controller_.binding.emitter.on('update', this.onBindingUpdate_);\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        refresh() {\n            this.controller_.binding.read();\n        }\n        onBindingUpdate_(ev) {\n            const value = ev.sender.target.read();\n            this.emitter_.emit('update', {\n                event: new TpUpdateEvent(this, forceCast(value), this.controller_.binding.target.presetKey),\n            });\n        }\n    }\n\n    class MonitorBindingController extends LabelController {\n        constructor(doc, config) {\n            super(doc, config);\n            this.binding = config.binding;\n            this.viewProps.bindDisabled(this.binding.ticker);\n            this.viewProps.handleDispose(() => {\n                this.binding.dispose();\n            });\n        }\n    }\n\n    function findSubBladeApiSet(api) {\n        if (api instanceof RackApi) {\n            return api['apiSet_'];\n        }\n        if (api instanceof RackLikeApi) {\n            return api['rackApi_']['apiSet_'];\n        }\n        return null;\n    }\n    function getApiByController(apiSet, controller) {\n        const api = apiSet.find((api) => api.controller_ === controller);\n        if (!api) {\n            throw TpError.shouldNeverHappen();\n        }\n        return api;\n    }\n    function createBindingTarget(obj, key, opt_id) {\n        if (!BindingTarget.isBindable(obj)) {\n            throw TpError.notBindable();\n        }\n        return new BindingTarget(obj, key, opt_id);\n    }\n    class RackApi extends BladeApi {\n        constructor(controller, pool) {\n            super(controller);\n            this.onRackAdd_ = this.onRackAdd_.bind(this);\n            this.onRackRemove_ = this.onRackRemove_.bind(this);\n            this.onRackInputChange_ = this.onRackInputChange_.bind(this);\n            this.onRackMonitorUpdate_ = this.onRackMonitorUpdate_.bind(this);\n            this.emitter_ = new Emitter();\n            this.apiSet_ = new NestedOrderedSet(findSubBladeApiSet);\n            this.pool_ = pool;\n            const rack = this.controller_.rack;\n            rack.emitter.on('add', this.onRackAdd_);\n            rack.emitter.on('remove', this.onRackRemove_);\n            rack.emitter.on('inputchange', this.onRackInputChange_);\n            rack.emitter.on('monitorupdate', this.onRackMonitorUpdate_);\n            rack.children.forEach((bc) => {\n                this.setUpApi_(bc);\n            });\n        }\n        get children() {\n            return this.controller_.rack.children.map((bc) => getApiByController(this.apiSet_, bc));\n        }\n        addInput(object, key, opt_params) {\n            const params = opt_params || {};\n            const doc = this.controller_.view.element.ownerDocument;\n            const bc = this.pool_.createInput(doc, createBindingTarget(object, key, params.presetKey), params);\n            const api = new InputBindingApi(bc);\n            return this.add(api, params.index);\n        }\n        addMonitor(object, key, opt_params) {\n            const params = opt_params || {};\n            const doc = this.controller_.view.element.ownerDocument;\n            const bc = this.pool_.createMonitor(doc, createBindingTarget(object, key), params);\n            const api = new MonitorBindingApi(bc);\n            return forceCast(this.add(api, params.index));\n        }\n        addFolder(params) {\n            return addFolderAsBlade(this, params);\n        }\n        addButton(params) {\n            return addButtonAsBlade(this, params);\n        }\n        addSeparator(opt_params) {\n            return addSeparatorAsBlade(this, opt_params);\n        }\n        addTab(params) {\n            return addTabAsBlade(this, params);\n        }\n        add(api, opt_index) {\n            this.controller_.rack.add(api.controller_, opt_index);\n            const gapi = this.apiSet_.find((a) => a.controller_ === api.controller_);\n            if (gapi) {\n                this.apiSet_.remove(gapi);\n            }\n            this.apiSet_.add(api);\n            return api;\n        }\n        remove(api) {\n            this.controller_.rack.remove(api.controller_);\n        }\n        addBlade(params) {\n            const doc = this.controller_.view.element.ownerDocument;\n            const bc = this.pool_.createBlade(doc, params);\n            const api = this.pool_.createBladeApi(bc);\n            return this.add(api, params.index);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        setUpApi_(bc) {\n            const api = this.apiSet_.find((api) => api.controller_ === bc);\n            if (!api) {\n                this.apiSet_.add(this.pool_.createBladeApi(bc));\n            }\n        }\n        onRackAdd_(ev) {\n            this.setUpApi_(ev.bladeController);\n        }\n        onRackRemove_(ev) {\n            if (ev.isRoot) {\n                const api = getApiByController(this.apiSet_, ev.bladeController);\n                this.apiSet_.remove(api);\n            }\n        }\n        onRackInputChange_(ev) {\n            const bc = ev.bladeController;\n            if (bc instanceof InputBindingController) {\n                const api = getApiByController(this.apiSet_, bc);\n                const binding = bc.binding;\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(api, forceCast(binding.target.read()), binding.target.presetKey, ev.options.last),\n                });\n            }\n            else if (bc instanceof ValueBladeController) {\n                const api = getApiByController(this.apiSet_, bc);\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(api, bc.value.rawValue, undefined, ev.options.last),\n                });\n            }\n        }\n        onRackMonitorUpdate_(ev) {\n            if (!(ev.bladeController instanceof MonitorBindingController)) {\n                throw TpError.shouldNeverHappen();\n            }\n            const api = getApiByController(this.apiSet_, ev.bladeController);\n            const binding = ev.bladeController.binding;\n            this.emitter_.emit('update', {\n                event: new TpUpdateEvent(api, forceCast(binding.target.read()), binding.target.presetKey),\n            });\n        }\n    }\n\n    class FolderApi extends RackLikeApi {\n        constructor(controller, pool) {\n            super(controller, new RackApi(controller.rackController, pool));\n            this.emitter_ = new Emitter();\n            this.controller_.foldable\n                .value('expanded')\n                .emitter.on('change', (ev) => {\n                this.emitter_.emit('fold', {\n                    event: new TpFoldEvent(this, ev.sender.rawValue),\n                });\n            });\n            this.rackApi_.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: ev,\n                });\n            });\n            this.rackApi_.on('update', (ev) => {\n                this.emitter_.emit('update', {\n                    event: ev,\n                });\n            });\n        }\n        get expanded() {\n            return this.controller_.foldable.get('expanded');\n        }\n        set expanded(expanded) {\n            this.controller_.foldable.set('expanded', expanded);\n        }\n        get title() {\n            return this.controller_.props.get('title');\n        }\n        set title(title) {\n            this.controller_.props.set('title', title);\n        }\n        get children() {\n            return this.rackApi_.children;\n        }\n        addInput(object, key, opt_params) {\n            return this.rackApi_.addInput(object, key, opt_params);\n        }\n        addMonitor(object, key, opt_params) {\n            return this.rackApi_.addMonitor(object, key, opt_params);\n        }\n        addFolder(params) {\n            return this.rackApi_.addFolder(params);\n        }\n        addButton(params) {\n            return this.rackApi_.addButton(params);\n        }\n        addSeparator(opt_params) {\n            return this.rackApi_.addSeparator(opt_params);\n        }\n        addTab(params) {\n            return this.rackApi_.addTab(params);\n        }\n        add(api, opt_index) {\n            return this.rackApi_.add(api, opt_index);\n        }\n        remove(api) {\n            this.rackApi_.remove(api);\n        }\n        addBlade(params) {\n            return this.rackApi_.addBlade(params);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    class RackLikeController extends BladeController {\n        constructor(config) {\n            super({\n                blade: config.blade,\n                view: config.view,\n                viewProps: config.rackController.viewProps,\n            });\n            this.rackController = config.rackController;\n        }\n    }\n\n    class PlainView {\n        constructor(doc, config) {\n            const className = ClassName(config.viewName);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className());\n            config.viewProps.bindClassModifiers(this.element);\n        }\n    }\n\n    function findInputBindingController(bcs, b) {\n        for (let i = 0; i < bcs.length; i++) {\n            const bc = bcs[i];\n            if (bc instanceof InputBindingController && bc.binding === b) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findMonitorBindingController(bcs, b) {\n        for (let i = 0; i < bcs.length; i++) {\n            const bc = bcs[i];\n            if (bc instanceof MonitorBindingController && bc.binding === b) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findValueBladeController(bcs, v) {\n        for (let i = 0; i < bcs.length; i++) {\n            const bc = bcs[i];\n            if (bc instanceof ValueBladeController && bc.value === v) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findSubRack(bc) {\n        if (bc instanceof RackController) {\n            return bc.rack;\n        }\n        if (bc instanceof RackLikeController) {\n            return bc.rackController.rack;\n        }\n        return null;\n    }\n    function findSubBladeControllerSet(bc) {\n        const rack = findSubRack(bc);\n        return rack ? rack['bcSet_'] : null;\n    }\n    class BladeRack {\n        constructor(blade) {\n            var _a;\n            this.onBladePositionsChange_ = this.onBladePositionsChange_.bind(this);\n            this.onSetAdd_ = this.onSetAdd_.bind(this);\n            this.onSetRemove_ = this.onSetRemove_.bind(this);\n            this.onChildDispose_ = this.onChildDispose_.bind(this);\n            this.onChildPositionsChange_ = this.onChildPositionsChange_.bind(this);\n            this.onChildInputChange_ = this.onChildInputChange_.bind(this);\n            this.onChildMonitorUpdate_ = this.onChildMonitorUpdate_.bind(this);\n            this.onChildValueChange_ = this.onChildValueChange_.bind(this);\n            this.onChildViewPropsChange_ = this.onChildViewPropsChange_.bind(this);\n            this.onDescendantLayout_ = this.onDescendantLayout_.bind(this);\n            this.onDescendantInputChange_ = this.onDescendantInputChange_.bind(this);\n            this.onDescendantMonitorUpdate_ =\n                this.onDescendantMonitorUpdate_.bind(this);\n            this.emitter = new Emitter();\n            this.blade_ = blade !== null && blade !== void 0 ? blade : null;\n            (_a = this.blade_) === null || _a === void 0 ? void 0 : _a.value('positions').emitter.on('change', this.onBladePositionsChange_);\n            this.bcSet_ = new NestedOrderedSet(findSubBladeControllerSet);\n            this.bcSet_.emitter.on('add', this.onSetAdd_);\n            this.bcSet_.emitter.on('remove', this.onSetRemove_);\n        }\n        get children() {\n            return this.bcSet_.items;\n        }\n        add(bc, opt_index) {\n            if (bc.parent) {\n                bc.parent.remove(bc);\n            }\n            bc['parent_'] = this;\n            this.bcSet_.add(bc, opt_index);\n        }\n        remove(bc) {\n            bc['parent_'] = null;\n            this.bcSet_.remove(bc);\n        }\n        find(controllerClass) {\n            return forceCast(this.bcSet_.allItems().filter((bc) => {\n                return bc instanceof controllerClass;\n            }));\n        }\n        onSetAdd_(ev) {\n            this.updatePositions_();\n            const isRoot = ev.target === ev.root;\n            this.emitter.emit('add', {\n                bladeController: ev.item,\n                index: ev.index,\n                isRoot: isRoot,\n                sender: this,\n            });\n            if (!isRoot) {\n                return;\n            }\n            const bc = ev.item;\n            bc.viewProps.emitter.on('change', this.onChildViewPropsChange_);\n            bc.blade\n                .value('positions')\n                .emitter.on('change', this.onChildPositionsChange_);\n            bc.viewProps.handleDispose(this.onChildDispose_);\n            if (bc instanceof InputBindingController) {\n                bc.binding.emitter.on('change', this.onChildInputChange_);\n            }\n            else if (bc instanceof MonitorBindingController) {\n                bc.binding.emitter.on('update', this.onChildMonitorUpdate_);\n            }\n            else if (bc instanceof ValueBladeController) {\n                bc.value.emitter.on('change', this.onChildValueChange_);\n            }\n            else {\n                const rack = findSubRack(bc);\n                if (rack) {\n                    const emitter = rack.emitter;\n                    emitter.on('layout', this.onDescendantLayout_);\n                    emitter.on('inputchange', this.onDescendantInputChange_);\n                    emitter.on('monitorupdate', this.onDescendantMonitorUpdate_);\n                }\n            }\n        }\n        onSetRemove_(ev) {\n            this.updatePositions_();\n            const isRoot = ev.target === ev.root;\n            this.emitter.emit('remove', {\n                bladeController: ev.item,\n                isRoot: isRoot,\n                sender: this,\n            });\n            if (!isRoot) {\n                return;\n            }\n            const bc = ev.item;\n            if (bc instanceof InputBindingController) {\n                bc.binding.emitter.off('change', this.onChildInputChange_);\n            }\n            else if (bc instanceof MonitorBindingController) {\n                bc.binding.emitter.off('update', this.onChildMonitorUpdate_);\n            }\n            else if (bc instanceof ValueBladeController) {\n                bc.value.emitter.off('change', this.onChildValueChange_);\n            }\n            else {\n                const rack = findSubRack(bc);\n                if (rack) {\n                    const emitter = rack.emitter;\n                    emitter.off('layout', this.onDescendantLayout_);\n                    emitter.off('inputchange', this.onDescendantInputChange_);\n                    emitter.off('monitorupdate', this.onDescendantMonitorUpdate_);\n                }\n            }\n        }\n        updatePositions_() {\n            const visibleItems = this.bcSet_.items.filter((bc) => !bc.viewProps.get('hidden'));\n            const firstVisibleItem = visibleItems[0];\n            const lastVisibleItem = visibleItems[visibleItems.length - 1];\n            this.bcSet_.items.forEach((bc) => {\n                const ps = [];\n                if (bc === firstVisibleItem) {\n                    ps.push('first');\n                    if (!this.blade_ ||\n                        this.blade_.get('positions').includes('veryfirst')) {\n                        ps.push('veryfirst');\n                    }\n                }\n                if (bc === lastVisibleItem) {\n                    ps.push('last');\n                    if (!this.blade_ || this.blade_.get('positions').includes('verylast')) {\n                        ps.push('verylast');\n                    }\n                }\n                bc.blade.set('positions', ps);\n            });\n        }\n        onChildPositionsChange_() {\n            this.updatePositions_();\n            this.emitter.emit('layout', {\n                sender: this,\n            });\n        }\n        onChildViewPropsChange_(_ev) {\n            this.updatePositions_();\n            this.emitter.emit('layout', {\n                sender: this,\n            });\n        }\n        onChildDispose_() {\n            const disposedUcs = this.bcSet_.items.filter((bc) => {\n                return bc.viewProps.get('disposed');\n            });\n            disposedUcs.forEach((bc) => {\n                this.bcSet_.remove(bc);\n            });\n        }\n        onChildInputChange_(ev) {\n            const bc = findInputBindingController(this.find(InputBindingController), ev.sender);\n            if (!bc) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.emitter.emit('inputchange', {\n                bladeController: bc,\n                options: ev.options,\n                sender: this,\n            });\n        }\n        onChildMonitorUpdate_(ev) {\n            const bc = findMonitorBindingController(this.find(MonitorBindingController), ev.sender);\n            if (!bc) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.emitter.emit('monitorupdate', {\n                bladeController: bc,\n                sender: this,\n            });\n        }\n        onChildValueChange_(ev) {\n            const bc = findValueBladeController(this.find(ValueBladeController), ev.sender);\n            if (!bc) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.emitter.emit('inputchange', {\n                bladeController: bc,\n                options: ev.options,\n                sender: this,\n            });\n        }\n        onDescendantLayout_(_) {\n            this.updatePositions_();\n            this.emitter.emit('layout', {\n                sender: this,\n            });\n        }\n        onDescendantInputChange_(ev) {\n            this.emitter.emit('inputchange', {\n                bladeController: ev.bladeController,\n                options: ev.options,\n                sender: this,\n            });\n        }\n        onDescendantMonitorUpdate_(ev) {\n            this.emitter.emit('monitorupdate', {\n                bladeController: ev.bladeController,\n                sender: this,\n            });\n        }\n        onBladePositionsChange_() {\n            this.updatePositions_();\n        }\n    }\n\n    class RackController extends BladeController {\n        constructor(doc, config) {\n            super(Object.assign(Object.assign({}, config), { view: new PlainView(doc, {\n                    viewName: 'brk',\n                    viewProps: config.viewProps,\n                }) }));\n            this.onRackAdd_ = this.onRackAdd_.bind(this);\n            this.onRackRemove_ = this.onRackRemove_.bind(this);\n            const rack = new BladeRack(config.root ? undefined : config.blade);\n            rack.emitter.on('add', this.onRackAdd_);\n            rack.emitter.on('remove', this.onRackRemove_);\n            this.rack = rack;\n            this.viewProps.handleDispose(() => {\n                for (let i = this.rack.children.length - 1; i >= 0; i--) {\n                    const bc = this.rack.children[i];\n                    bc.viewProps.set('disposed', true);\n                }\n            });\n        }\n        onRackAdd_(ev) {\n            if (!ev.isRoot) {\n                return;\n            }\n            insertElementAt(this.view.element, ev.bladeController.view.element, ev.index);\n        }\n        onRackRemove_(ev) {\n            if (!ev.isRoot) {\n                return;\n            }\n            removeElement(ev.bladeController.view.element);\n        }\n    }\n\n    const bladeContainerClassName = ClassName('cnt');\n\n    class FolderView {\n        constructor(doc, config) {\n            this.className_ = ClassName(config.viewName || 'fld');\n            this.element = doc.createElement('div');\n            this.element.classList.add(this.className_(), bladeContainerClassName());\n            config.viewProps.bindClassModifiers(this.element);\n            this.foldable_ = config.foldable;\n            this.foldable_.bindExpandedClass(this.element, this.className_(undefined, 'expanded'));\n            bindValueMap(this.foldable_, 'completed', valueToClassName(this.element, this.className_(undefined, 'cpl')));\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(this.className_('b'));\n            bindValueMap(config.props, 'title', (title) => {\n                if (isEmpty(title)) {\n                    this.element.classList.add(this.className_(undefined, 'not'));\n                }\n                else {\n                    this.element.classList.remove(this.className_(undefined, 'not'));\n                }\n            });\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            const titleElem = doc.createElement('div');\n            titleElem.classList.add(this.className_('t'));\n            bindValueToTextContent(config.props.value('title'), titleElem);\n            this.buttonElement.appendChild(titleElem);\n            this.titleElement = titleElem;\n            const markElem = doc.createElement('div');\n            markElem.classList.add(this.className_('m'));\n            this.buttonElement.appendChild(markElem);\n            const containerElem = config.containerElement;\n            containerElem.classList.add(this.className_('c'));\n            this.element.appendChild(containerElem);\n            this.containerElement = containerElem;\n        }\n    }\n\n    class FolderController extends RackLikeController {\n        constructor(doc, config) {\n            var _a;\n            const foldable = Foldable.create((_a = config.expanded) !== null && _a !== void 0 ? _a : true);\n            const rc = new RackController(doc, {\n                blade: config.blade,\n                root: config.root,\n                viewProps: config.viewProps,\n            });\n            super(Object.assign(Object.assign({}, config), { rackController: rc, view: new FolderView(doc, {\n                    containerElement: rc.view.element,\n                    foldable: foldable,\n                    props: config.props,\n                    viewName: config.root ? 'rot' : undefined,\n                    viewProps: config.viewProps,\n                }) }));\n            this.onTitleClick_ = this.onTitleClick_.bind(this);\n            this.props = config.props;\n            this.foldable = foldable;\n            bindFoldable(this.foldable, this.view.containerElement);\n            this.view.buttonElement.addEventListener('click', this.onTitleClick_);\n        }\n        get document() {\n            return this.view.element.ownerDocument;\n        }\n        onTitleClick_() {\n            this.foldable.set('expanded', !this.foldable.get('expanded'));\n        }\n    }\n\n    const FolderBladePlugin = {\n        id: 'folder',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                title: p.required.string,\n                view: p.required.constant('folder'),\n                expanded: p.optional.boolean,\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            return new FolderController(args.document, {\n                blade: args.blade,\n                expanded: args.params.expanded,\n                props: ValueMap.fromObject({\n                    title: args.params.title,\n                }),\n                viewProps: args.viewProps,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof FolderController)) {\n                return null;\n            }\n            return new FolderApi(args.controller, args.pool);\n        },\n    };\n\n    class LabeledValueController extends ValueBladeController {\n        constructor(doc, config) {\n            const viewProps = config.valueController.viewProps;\n            super(Object.assign(Object.assign({}, config), { value: config.valueController.value, view: new LabelView(doc, {\n                    props: config.props,\n                    viewProps: viewProps,\n                }), viewProps: viewProps }));\n            this.props = config.props;\n            this.valueController = config.valueController;\n            this.view.valueElement.appendChild(this.valueController.view.element);\n        }\n    }\n\n    class SeparatorApi extends BladeApi {\n    }\n\n    const className$n = ClassName('spr');\n    class SeparatorView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$n());\n            config.viewProps.bindClassModifiers(this.element);\n            const hrElem = doc.createElement('hr');\n            hrElem.classList.add(className$n('r'));\n            this.element.appendChild(hrElem);\n        }\n    }\n\n    class SeparatorController extends BladeController {\n        constructor(doc, config) {\n            super(Object.assign(Object.assign({}, config), { view: new SeparatorView(doc, {\n                    viewProps: config.viewProps,\n                }) }));\n        }\n    }\n\n    const SeparatorBladePlugin = {\n        id: 'separator',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                view: p.required.constant('separator'),\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            return new SeparatorController(args.document, {\n                blade: args.blade,\n                viewProps: args.viewProps,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof SeparatorController)) {\n                return null;\n            }\n            return new SeparatorApi(args.controller);\n        },\n    };\n\n    const className$m = ClassName('');\n    function valueToModifier(elem, modifier) {\n        return valueToClassName(elem, className$m(undefined, modifier));\n    }\n    class ViewProps extends ValueMap {\n        constructor(valueMap) {\n            super(valueMap);\n        }\n        static create(opt_initialValue) {\n            var _a, _b;\n            const initialValue = opt_initialValue !== null && opt_initialValue !== void 0 ? opt_initialValue : {};\n            const coreObj = {\n                disabled: (_a = initialValue.disabled) !== null && _a !== void 0 ? _a : false,\n                disposed: false,\n                hidden: (_b = initialValue.hidden) !== null && _b !== void 0 ? _b : false,\n            };\n            const core = ValueMap.createCore(coreObj);\n            return new ViewProps(core);\n        }\n        bindClassModifiers(elem) {\n            bindValueMap(this, 'disabled', valueToModifier(elem, 'disabled'));\n            bindValueMap(this, 'hidden', valueToModifier(elem, 'hidden'));\n        }\n        bindDisabled(target) {\n            bindValueMap(this, 'disabled', (disabled) => {\n                target.disabled = disabled;\n            });\n        }\n        bindTabIndex(elem) {\n            bindValueMap(this, 'disabled', (disabled) => {\n                elem.tabIndex = disabled ? -1 : 0;\n            });\n        }\n        handleDispose(callback) {\n            this.value('disposed').emitter.on('change', (disposed) => {\n                if (disposed) {\n                    callback();\n                }\n            });\n        }\n    }\n\n    const className$l = ClassName('tbi');\n    class TabItemView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$l());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValueMap(config.props, 'selected', (selected) => {\n                if (selected) {\n                    this.element.classList.add(className$l(undefined, 'sel'));\n                }\n                else {\n                    this.element.classList.remove(className$l(undefined, 'sel'));\n                }\n            });\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$l('b'));\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            const titleElem = doc.createElement('div');\n            titleElem.classList.add(className$l('t'));\n            bindValueToTextContent(config.props.value('title'), titleElem);\n            this.buttonElement.appendChild(titleElem);\n            this.titleElement = titleElem;\n        }\n    }\n\n    class TabItemController {\n        constructor(doc, config) {\n            this.emitter = new Emitter();\n            this.onClick_ = this.onClick_.bind(this);\n            this.props = config.props;\n            this.viewProps = config.viewProps;\n            this.view = new TabItemView(doc, {\n                props: config.props,\n                viewProps: config.viewProps,\n            });\n            this.view.buttonElement.addEventListener('click', this.onClick_);\n        }\n        onClick_() {\n            this.emitter.emit('click', {\n                sender: this,\n            });\n        }\n    }\n\n    class TabPageController {\n        constructor(doc, config) {\n            this.onItemClick_ = this.onItemClick_.bind(this);\n            this.ic_ = new TabItemController(doc, {\n                props: config.itemProps,\n                viewProps: ViewProps.create(),\n            });\n            this.ic_.emitter.on('click', this.onItemClick_);\n            this.cc_ = new RackController(doc, {\n                blade: createBlade(),\n                viewProps: ViewProps.create(),\n            });\n            this.props = config.props;\n            bindValueMap(this.props, 'selected', (selected) => {\n                this.itemController.props.set('selected', selected);\n                this.contentController.viewProps.set('hidden', !selected);\n            });\n        }\n        get itemController() {\n            return this.ic_;\n        }\n        get contentController() {\n            return this.cc_;\n        }\n        onItemClick_() {\n            this.props.set('selected', true);\n        }\n    }\n\n    class TabPageApi {\n        constructor(controller, contentRackApi) {\n            this.controller_ = controller;\n            this.rackApi_ = contentRackApi;\n        }\n        get title() {\n            var _a;\n            return (_a = this.controller_.itemController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n        }\n        set title(title) {\n            this.controller_.itemController.props.set('title', title);\n        }\n        get selected() {\n            return this.controller_.props.get('selected');\n        }\n        set selected(selected) {\n            this.controller_.props.set('selected', selected);\n        }\n        get children() {\n            return this.rackApi_.children;\n        }\n        addButton(params) {\n            return this.rackApi_.addButton(params);\n        }\n        addFolder(params) {\n            return this.rackApi_.addFolder(params);\n        }\n        addSeparator(opt_params) {\n            return this.rackApi_.addSeparator(opt_params);\n        }\n        addTab(params) {\n            return this.rackApi_.addTab(params);\n        }\n        add(api, opt_index) {\n            this.rackApi_.add(api, opt_index);\n        }\n        remove(api) {\n            this.rackApi_.remove(api);\n        }\n        addInput(object, key, opt_params) {\n            return this.rackApi_.addInput(object, key, opt_params);\n        }\n        addMonitor(object, key, opt_params) {\n            return this.rackApi_.addMonitor(object, key, opt_params);\n        }\n        addBlade(params) {\n            return this.rackApi_.addBlade(params);\n        }\n    }\n\n    class TabApi extends RackLikeApi {\n        constructor(controller, pool) {\n            super(controller, new RackApi(controller.rackController, pool));\n            this.onPageAdd_ = this.onPageAdd_.bind(this);\n            this.onPageRemove_ = this.onPageRemove_.bind(this);\n            this.emitter_ = new Emitter();\n            this.pageApiMap_ = new Map();\n            this.rackApi_.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: ev,\n                });\n            });\n            this.rackApi_.on('update', (ev) => {\n                this.emitter_.emit('update', {\n                    event: ev,\n                });\n            });\n            this.controller_.pageSet.emitter.on('add', this.onPageAdd_);\n            this.controller_.pageSet.emitter.on('remove', this.onPageRemove_);\n            this.controller_.pageSet.items.forEach((pc) => {\n                this.setUpPageApi_(pc);\n            });\n        }\n        get pages() {\n            return this.controller_.pageSet.items.map((pc) => {\n                const api = this.pageApiMap_.get(pc);\n                if (!api) {\n                    throw TpError.shouldNeverHappen();\n                }\n                return api;\n            });\n        }\n        addPage(params) {\n            const doc = this.controller_.view.element.ownerDocument;\n            const pc = new TabPageController(doc, {\n                itemProps: ValueMap.fromObject({\n                    selected: false,\n                    title: params.title,\n                }),\n                props: ValueMap.fromObject({\n                    selected: false,\n                }),\n            });\n            this.controller_.add(pc, params.index);\n            const api = this.pageApiMap_.get(pc);\n            if (!api) {\n                throw TpError.shouldNeverHappen();\n            }\n            return api;\n        }\n        removePage(index) {\n            this.controller_.remove(index);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        setUpPageApi_(pc) {\n            const rackApi = this.rackApi_['apiSet_'].find((api) => api.controller_ === pc.contentController);\n            if (!rackApi) {\n                throw TpError.shouldNeverHappen();\n            }\n            const api = new TabPageApi(pc, rackApi);\n            this.pageApiMap_.set(pc, api);\n        }\n        onPageAdd_(ev) {\n            this.setUpPageApi_(ev.item);\n        }\n        onPageRemove_(ev) {\n            const api = this.pageApiMap_.get(ev.item);\n            if (!api) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.pageApiMap_.delete(ev.item);\n        }\n    }\n\n    const className$k = ClassName('tab');\n    class TabView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$k(), bladeContainerClassName());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValue(config.empty, valueToClassName(this.element, className$k(undefined, 'nop')));\n            const itemsElem = doc.createElement('div');\n            itemsElem.classList.add(className$k('i'));\n            this.element.appendChild(itemsElem);\n            this.itemsElement = itemsElem;\n            const contentsElem = config.contentsElement;\n            contentsElem.classList.add(className$k('c'));\n            this.element.appendChild(contentsElem);\n            this.contentsElement = contentsElem;\n        }\n    }\n\n    class TabController extends RackLikeController {\n        constructor(doc, config) {\n            const cr = new RackController(doc, {\n                blade: config.blade,\n                viewProps: config.viewProps,\n            });\n            const empty = createValue(true);\n            super({\n                blade: config.blade,\n                rackController: cr,\n                view: new TabView(doc, {\n                    contentsElement: cr.view.element,\n                    empty: empty,\n                    viewProps: config.viewProps,\n                }),\n            });\n            this.onPageAdd_ = this.onPageAdd_.bind(this);\n            this.onPageRemove_ = this.onPageRemove_.bind(this);\n            this.onPageSelectedChange_ = this.onPageSelectedChange_.bind(this);\n            this.pageSet_ = new NestedOrderedSet(() => null);\n            this.pageSet_.emitter.on('add', this.onPageAdd_);\n            this.pageSet_.emitter.on('remove', this.onPageRemove_);\n            this.empty_ = empty;\n            this.applyPages_();\n        }\n        get pageSet() {\n            return this.pageSet_;\n        }\n        add(pc, opt_index) {\n            this.pageSet_.add(pc, opt_index !== null && opt_index !== void 0 ? opt_index : this.pageSet_.items.length);\n        }\n        remove(index) {\n            this.pageSet_.remove(this.pageSet_.items[index]);\n        }\n        applyPages_() {\n            this.keepSelection_();\n            this.empty_.rawValue = this.pageSet_.items.length === 0;\n        }\n        onPageAdd_(ev) {\n            const pc = ev.item;\n            insertElementAt(this.view.itemsElement, pc.itemController.view.element, ev.index);\n            this.rackController.rack.add(pc.contentController, ev.index);\n            pc.props.value('selected').emitter.on('change', this.onPageSelectedChange_);\n            this.applyPages_();\n        }\n        onPageRemove_(ev) {\n            const pc = ev.item;\n            removeElement(pc.itemController.view.element);\n            this.rackController.rack.remove(pc.contentController);\n            pc.props\n                .value('selected')\n                .emitter.off('change', this.onPageSelectedChange_);\n            this.applyPages_();\n        }\n        keepSelection_() {\n            if (this.pageSet_.items.length === 0) {\n                return;\n            }\n            const firstSelIndex = this.pageSet_.items.findIndex((pc) => pc.props.get('selected'));\n            if (firstSelIndex < 0) {\n                this.pageSet_.items.forEach((pc, i) => {\n                    pc.props.set('selected', i === 0);\n                });\n            }\n            else {\n                this.pageSet_.items.forEach((pc, i) => {\n                    pc.props.set('selected', i === firstSelIndex);\n                });\n            }\n        }\n        onPageSelectedChange_(ev) {\n            if (ev.rawValue) {\n                const index = this.pageSet_.items.findIndex((pc) => pc.props.value('selected') === ev.sender);\n                this.pageSet_.items.forEach((pc, i) => {\n                    pc.props.set('selected', i === index);\n                });\n            }\n            else {\n                this.keepSelection_();\n            }\n        }\n    }\n\n    const TabBladePlugin = {\n        id: 'tab',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                pages: p.required.array(p.required.object({ title: p.required.string })),\n                view: p.required.constant('tab'),\n            });\n            if (!result || result.pages.length === 0) {\n                return null;\n            }\n            return { params: result };\n        },\n        controller(args) {\n            const c = new TabController(args.document, {\n                blade: args.blade,\n                viewProps: args.viewProps,\n            });\n            args.params.pages.forEach((p) => {\n                const pc = new TabPageController(args.document, {\n                    itemProps: ValueMap.fromObject({\n                        selected: false,\n                        title: p.title,\n                    }),\n                    props: ValueMap.fromObject({\n                        selected: false,\n                    }),\n                });\n                c.add(pc);\n            });\n            return c;\n        },\n        api(args) {\n            if (!(args.controller instanceof TabController)) {\n                return null;\n            }\n            return new TabApi(args.controller, args.pool);\n        },\n    };\n\n    function createBladeController(plugin, args) {\n        const ac = plugin.accept(args.params);\n        if (!ac) {\n            return null;\n        }\n        const disabled = ParamsParsers.optional.boolean(args.params['disabled']).value;\n        const hidden = ParamsParsers.optional.boolean(args.params['hidden']).value;\n        return plugin.controller({\n            blade: createBlade(),\n            document: args.document,\n            params: forceCast(Object.assign(Object.assign({}, ac.params), { disabled: disabled, hidden: hidden })),\n            viewProps: ViewProps.create({\n                disabled: disabled,\n                hidden: hidden,\n            }),\n        });\n    }\n\n    class ManualTicker {\n        constructor() {\n            this.disabled = false;\n            this.emitter = new Emitter();\n        }\n        dispose() { }\n        tick() {\n            if (this.disabled) {\n                return;\n            }\n            this.emitter.emit('tick', {\n                sender: this,\n            });\n        }\n    }\n\n    class IntervalTicker {\n        constructor(doc, interval) {\n            this.disabled_ = false;\n            this.timerId_ = null;\n            this.onTick_ = this.onTick_.bind(this);\n            this.doc_ = doc;\n            this.emitter = new Emitter();\n            this.interval_ = interval;\n            this.setTimer_();\n        }\n        get disabled() {\n            return this.disabled_;\n        }\n        set disabled(inactive) {\n            this.disabled_ = inactive;\n            if (this.disabled_) {\n                this.clearTimer_();\n            }\n            else {\n                this.setTimer_();\n            }\n        }\n        dispose() {\n            this.clearTimer_();\n        }\n        clearTimer_() {\n            if (this.timerId_ === null) {\n                return;\n            }\n            const win = this.doc_.defaultView;\n            if (win) {\n                win.clearInterval(this.timerId_);\n            }\n            this.timerId_ = null;\n        }\n        setTimer_() {\n            this.clearTimer_();\n            if (this.interval_ <= 0) {\n                return;\n            }\n            const win = this.doc_.defaultView;\n            if (win) {\n                this.timerId_ = win.setInterval(this.onTick_, this.interval_);\n            }\n        }\n        onTick_() {\n            if (this.disabled_) {\n                return;\n            }\n            this.emitter.emit('tick', {\n                sender: this,\n            });\n        }\n    }\n\n    class CompositeConstraint {\n        constructor(constraints) {\n            this.constraints = constraints;\n        }\n        constrain(value) {\n            return this.constraints.reduce((result, c) => {\n                return c.constrain(result);\n            }, value);\n        }\n    }\n    function findConstraint(c, constraintClass) {\n        if (c instanceof constraintClass) {\n            return c;\n        }\n        if (c instanceof CompositeConstraint) {\n            const result = c.constraints.reduce((tmpResult, sc) => {\n                if (tmpResult) {\n                    return tmpResult;\n                }\n                return sc instanceof constraintClass ? sc : null;\n            }, null);\n            if (result) {\n                return result;\n            }\n        }\n        return null;\n    }\n\n    class ListConstraint {\n        constructor(options) {\n            this.options = options;\n        }\n        constrain(value) {\n            const opts = this.options;\n            if (opts.length === 0) {\n                return value;\n            }\n            const matched = opts.filter((item) => {\n                return item.value === value;\n            }).length > 0;\n            return matched ? value : opts[0].value;\n        }\n    }\n\n    class RangeConstraint {\n        constructor(config) {\n            this.maxValue = config.max;\n            this.minValue = config.min;\n        }\n        constrain(value) {\n            let result = value;\n            if (!isEmpty(this.minValue)) {\n                result = Math.max(result, this.minValue);\n            }\n            if (!isEmpty(this.maxValue)) {\n                result = Math.min(result, this.maxValue);\n            }\n            return result;\n        }\n    }\n\n    class StepConstraint {\n        constructor(step) {\n            this.step = step;\n        }\n        constrain(value) {\n            const r = value < 0\n                ? -Math.round(-value / this.step)\n                : Math.round(value / this.step);\n            return r * this.step;\n        }\n    }\n\n    const className$j = ClassName('lst');\n    class ListView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.props_ = config.props;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$j());\n            config.viewProps.bindClassModifiers(this.element);\n            const selectElem = doc.createElement('select');\n            selectElem.classList.add(className$j('s'));\n            bindValueMap(this.props_, 'options', (opts) => {\n                removeChildElements(selectElem);\n                opts.forEach((item, index) => {\n                    const optionElem = doc.createElement('option');\n                    optionElem.dataset.index = String(index);\n                    optionElem.textContent = item.text;\n                    optionElem.value = String(item.value);\n                    selectElem.appendChild(optionElem);\n                });\n            });\n            config.viewProps.bindDisabled(selectElem);\n            this.element.appendChild(selectElem);\n            this.selectElement = selectElem;\n            const markElem = doc.createElement('div');\n            markElem.classList.add(className$j('m'));\n            markElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n            this.element.appendChild(markElem);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value_ = config.value;\n            this.update_();\n        }\n        update_() {\n            this.selectElement.value = String(this.value_.rawValue);\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class ListController {\n        constructor(doc, config) {\n            this.onSelectChange_ = this.onSelectChange_.bind(this);\n            this.props = config.props;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new ListView(doc, {\n                props: this.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.selectElement.addEventListener('change', this.onSelectChange_);\n        }\n        onSelectChange_(e) {\n            const selectElem = forceCast(e.currentTarget);\n            const optElem = selectElem.selectedOptions.item(0);\n            if (!optElem) {\n                return;\n            }\n            const itemIndex = Number(optElem.dataset.index);\n            this.value.rawValue = this.props.get('options')[itemIndex].value;\n        }\n    }\n\n    const className$i = ClassName('pop');\n    class PopupView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$i());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValue(config.shows, valueToClassName(this.element, className$i(undefined, 'v')));\n        }\n    }\n\n    class PopupController {\n        constructor(doc, config) {\n            this.shows = createValue(false);\n            this.viewProps = config.viewProps;\n            this.view = new PopupView(doc, {\n                shows: this.shows,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    const className$h = ClassName('txt');\n    class TextView {\n        constructor(doc, config) {\n            this.onChange_ = this.onChange_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$h());\n            config.viewProps.bindClassModifiers(this.element);\n            this.props_ = config.props;\n            this.props_.emitter.on('change', this.onChange_);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$h('i'));\n            inputElem.type = 'text';\n            config.viewProps.bindDisabled(inputElem);\n            this.element.appendChild(inputElem);\n            this.inputElement = inputElem;\n            config.value.emitter.on('change', this.onChange_);\n            this.value_ = config.value;\n            this.refresh();\n        }\n        refresh() {\n            const formatter = this.props_.get('formatter');\n            this.inputElement.value = formatter(this.value_.rawValue);\n        }\n        onChange_() {\n            this.refresh();\n        }\n    }\n\n    class TextController {\n        constructor(doc, config) {\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.parser_ = config.parser;\n            this.props = config.props;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new TextView(doc, {\n                props: config.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n        }\n        onInputChange_(e) {\n            const inputElem = forceCast(e.currentTarget);\n            const value = inputElem.value;\n            const parsedValue = this.parser_(value);\n            if (!isEmpty(parsedValue)) {\n                this.value.rawValue = parsedValue;\n            }\n            this.view.refresh();\n        }\n    }\n\n    function boolToString(value) {\n        return String(value);\n    }\n    function boolFromUnknown(value) {\n        if (value === 'false') {\n            return false;\n        }\n        return !!value;\n    }\n    function BooleanFormatter(value) {\n        return boolToString(value);\n    }\n\n    class NumberLiteralNode {\n        constructor(text) {\n            this.text = text;\n        }\n        evaluate() {\n            return Number(this.text);\n        }\n        toString() {\n            return this.text;\n        }\n    }\n    const BINARY_OPERATION_MAP = {\n        '**': (v1, v2) => Math.pow(v1, v2),\n        '*': (v1, v2) => v1 * v2,\n        '/': (v1, v2) => v1 / v2,\n        '%': (v1, v2) => v1 % v2,\n        '+': (v1, v2) => v1 + v2,\n        '-': (v1, v2) => v1 - v2,\n        '<<': (v1, v2) => v1 << v2,\n        '>>': (v1, v2) => v1 >> v2,\n        '>>>': (v1, v2) => v1 >>> v2,\n        '&': (v1, v2) => v1 & v2,\n        '^': (v1, v2) => v1 ^ v2,\n        '|': (v1, v2) => v1 | v2,\n    };\n    class BinaryOperationNode {\n        constructor(operator, left, right) {\n            this.left = left;\n            this.operator = operator;\n            this.right = right;\n        }\n        evaluate() {\n            const op = BINARY_OPERATION_MAP[this.operator];\n            if (!op) {\n                throw new Error(`unexpected binary operator: '${this.operator}`);\n            }\n            return op(this.left.evaluate(), this.right.evaluate());\n        }\n        toString() {\n            return [\n                'b(',\n                this.left.toString(),\n                this.operator,\n                this.right.toString(),\n                ')',\n            ].join(' ');\n        }\n    }\n    const UNARY_OPERATION_MAP = {\n        '+': (v) => v,\n        '-': (v) => -v,\n        '~': (v) => ~v,\n    };\n    class UnaryOperationNode {\n        constructor(operator, expr) {\n            this.operator = operator;\n            this.expression = expr;\n        }\n        evaluate() {\n            const op = UNARY_OPERATION_MAP[this.operator];\n            if (!op) {\n                throw new Error(`unexpected unary operator: '${this.operator}`);\n            }\n            return op(this.expression.evaluate());\n        }\n        toString() {\n            return ['u(', this.operator, this.expression.toString(), ')'].join(' ');\n        }\n    }\n\n    function combineReader(parsers) {\n        return (text, cursor) => {\n            for (let i = 0; i < parsers.length; i++) {\n                const result = parsers[i](text, cursor);\n                if (result !== '') {\n                    return result;\n                }\n            }\n            return '';\n        };\n    }\n    function readWhitespace(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^\\s+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readNonZeroDigit(text, cursor) {\n        const ch = text.substr(cursor, 1);\n        return ch.match(/^[1-9]$/) ? ch : '';\n    }\n    function readDecimalDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[0-9]+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readSignedInteger(text, cursor) {\n        const ds = readDecimalDigits(text, cursor);\n        if (ds !== '') {\n            return ds;\n        }\n        const sign = text.substr(cursor, 1);\n        cursor += 1;\n        if (sign !== '-' && sign !== '+') {\n            return '';\n        }\n        const sds = readDecimalDigits(text, cursor);\n        if (sds === '') {\n            return '';\n        }\n        return sign + sds;\n    }\n    function readExponentPart(text, cursor) {\n        const e = text.substr(cursor, 1);\n        cursor += 1;\n        if (e.toLowerCase() !== 'e') {\n            return '';\n        }\n        const si = readSignedInteger(text, cursor);\n        if (si === '') {\n            return '';\n        }\n        return e + si;\n    }\n    function readDecimalIntegerLiteral(text, cursor) {\n        const ch = text.substr(cursor, 1);\n        if (ch === '0') {\n            return ch;\n        }\n        const nzd = readNonZeroDigit(text, cursor);\n        cursor += nzd.length;\n        if (nzd === '') {\n            return '';\n        }\n        return nzd + readDecimalDigits(text, cursor);\n    }\n    function readDecimalLiteral1(text, cursor) {\n        const dil = readDecimalIntegerLiteral(text, cursor);\n        cursor += dil.length;\n        if (dil === '') {\n            return '';\n        }\n        const dot = text.substr(cursor, 1);\n        cursor += dot.length;\n        if (dot !== '.') {\n            return '';\n        }\n        const dds = readDecimalDigits(text, cursor);\n        cursor += dds.length;\n        return dil + dot + dds + readExponentPart(text, cursor);\n    }\n    function readDecimalLiteral2(text, cursor) {\n        const dot = text.substr(cursor, 1);\n        cursor += dot.length;\n        if (dot !== '.') {\n            return '';\n        }\n        const dds = readDecimalDigits(text, cursor);\n        cursor += dds.length;\n        if (dds === '') {\n            return '';\n        }\n        return dot + dds + readExponentPart(text, cursor);\n    }\n    function readDecimalLiteral3(text, cursor) {\n        const dil = readDecimalIntegerLiteral(text, cursor);\n        cursor += dil.length;\n        if (dil === '') {\n            return '';\n        }\n        return dil + readExponentPart(text, cursor);\n    }\n    const readDecimalLiteral = combineReader([\n        readDecimalLiteral1,\n        readDecimalLiteral2,\n        readDecimalLiteral3,\n    ]);\n    function parseBinaryDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[01]+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readBinaryIntegerLiteral(text, cursor) {\n        const prefix = text.substr(cursor, 2);\n        cursor += prefix.length;\n        if (prefix.toLowerCase() !== '0b') {\n            return '';\n        }\n        const bds = parseBinaryDigits(text, cursor);\n        if (bds === '') {\n            return '';\n        }\n        return prefix + bds;\n    }\n    function readOctalDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[0-7]+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readOctalIntegerLiteral(text, cursor) {\n        const prefix = text.substr(cursor, 2);\n        cursor += prefix.length;\n        if (prefix.toLowerCase() !== '0o') {\n            return '';\n        }\n        const ods = readOctalDigits(text, cursor);\n        if (ods === '') {\n            return '';\n        }\n        return prefix + ods;\n    }\n    function readHexDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[0-9a-f]+/i);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readHexIntegerLiteral(text, cursor) {\n        const prefix = text.substr(cursor, 2);\n        cursor += prefix.length;\n        if (prefix.toLowerCase() !== '0x') {\n            return '';\n        }\n        const hds = readHexDigits(text, cursor);\n        if (hds === '') {\n            return '';\n        }\n        return prefix + hds;\n    }\n    const readNonDecimalIntegerLiteral = combineReader([\n        readBinaryIntegerLiteral,\n        readOctalIntegerLiteral,\n        readHexIntegerLiteral,\n    ]);\n    const readNumericLiteral = combineReader([\n        readNonDecimalIntegerLiteral,\n        readDecimalLiteral,\n    ]);\n\n    function parseLiteral(text, cursor) {\n        const num = readNumericLiteral(text, cursor);\n        cursor += num.length;\n        if (num === '') {\n            return null;\n        }\n        return {\n            evaluable: new NumberLiteralNode(num),\n            cursor: cursor,\n        };\n    }\n    function parseParenthesizedExpression(text, cursor) {\n        const op = text.substr(cursor, 1);\n        cursor += op.length;\n        if (op !== '(') {\n            return null;\n        }\n        const expr = parseExpression(text, cursor);\n        if (!expr) {\n            return null;\n        }\n        cursor = expr.cursor;\n        cursor += readWhitespace(text, cursor).length;\n        const cl = text.substr(cursor, 1);\n        cursor += cl.length;\n        if (cl !== ')') {\n            return null;\n        }\n        return {\n            evaluable: expr.evaluable,\n            cursor: cursor,\n        };\n    }\n    function parsePrimaryExpression(text, cursor) {\n        return (parseLiteral(text, cursor) || parseParenthesizedExpression(text, cursor));\n    }\n    function parseUnaryExpression(text, cursor) {\n        const expr = parsePrimaryExpression(text, cursor);\n        if (expr) {\n            return expr;\n        }\n        const op = text.substr(cursor, 1);\n        cursor += op.length;\n        if (op !== '+' && op !== '-' && op !== '~') {\n            return null;\n        }\n        const num = parseUnaryExpression(text, cursor);\n        if (!num) {\n            return null;\n        }\n        cursor = num.cursor;\n        return {\n            cursor: cursor,\n            evaluable: new UnaryOperationNode(op, num.evaluable),\n        };\n    }\n    function readBinaryOperator(ops, text, cursor) {\n        cursor += readWhitespace(text, cursor).length;\n        const op = ops.filter((op) => text.startsWith(op, cursor))[0];\n        if (!op) {\n            return null;\n        }\n        cursor += op.length;\n        cursor += readWhitespace(text, cursor).length;\n        return {\n            cursor: cursor,\n            operator: op,\n        };\n    }\n    function createBinaryOperationExpressionParser(exprParser, ops) {\n        return (text, cursor) => {\n            const firstExpr = exprParser(text, cursor);\n            if (!firstExpr) {\n                return null;\n            }\n            cursor = firstExpr.cursor;\n            let expr = firstExpr.evaluable;\n            for (;;) {\n                const op = readBinaryOperator(ops, text, cursor);\n                if (!op) {\n                    break;\n                }\n                cursor = op.cursor;\n                const nextExpr = exprParser(text, cursor);\n                if (!nextExpr) {\n                    return null;\n                }\n                cursor = nextExpr.cursor;\n                expr = new BinaryOperationNode(op.operator, expr, nextExpr.evaluable);\n            }\n            return expr\n                ? {\n                    cursor: cursor,\n                    evaluable: expr,\n                }\n                : null;\n        };\n    }\n    const parseBinaryOperationExpression = [\n        ['**'],\n        ['*', '/', '%'],\n        ['+', '-'],\n        ['<<', '>>>', '>>'],\n        ['&'],\n        ['^'],\n        ['|'],\n    ].reduce((parser, ops) => {\n        return createBinaryOperationExpressionParser(parser, ops);\n    }, parseUnaryExpression);\n    function parseExpression(text, cursor) {\n        cursor += readWhitespace(text, cursor).length;\n        return parseBinaryOperationExpression(text, cursor);\n    }\n    function parseEcmaNumberExpression(text) {\n        const expr = parseExpression(text, 0);\n        if (!expr) {\n            return null;\n        }\n        const cursor = expr.cursor + readWhitespace(text, expr.cursor).length;\n        if (cursor !== text.length) {\n            return null;\n        }\n        return expr.evaluable;\n    }\n\n    function parseNumber(text) {\n        var _a;\n        const r = parseEcmaNumberExpression(text);\n        return (_a = r === null || r === void 0 ? void 0 : r.evaluate()) !== null && _a !== void 0 ? _a : null;\n    }\n    function numberFromUnknown(value) {\n        if (typeof value === 'number') {\n            return value;\n        }\n        if (typeof value === 'string') {\n            const pv = parseNumber(value);\n            if (!isEmpty(pv)) {\n                return pv;\n            }\n        }\n        return 0;\n    }\n    function numberToString(value) {\n        return String(value);\n    }\n    function createNumberFormatter(digits) {\n        return (value) => {\n            return value.toFixed(Math.max(Math.min(digits, 20), 0));\n        };\n    }\n\n    const innerFormatter = createNumberFormatter(0);\n    function formatPercentage(value) {\n        return innerFormatter(value) + '%';\n    }\n\n    function stringFromUnknown(value) {\n        return String(value);\n    }\n    function formatString(value) {\n        return value;\n    }\n\n    function fillBuffer(buffer, bufferSize) {\n        while (buffer.length < bufferSize) {\n            buffer.push(undefined);\n        }\n    }\n    function initializeBuffer(bufferSize) {\n        const buffer = [];\n        fillBuffer(buffer, bufferSize);\n        return createValue(buffer);\n    }\n    function createTrimmedBuffer(buffer) {\n        const index = buffer.indexOf(undefined);\n        return forceCast(index < 0 ? buffer : buffer.slice(0, index));\n    }\n    function createPushedBuffer(buffer, newValue) {\n        const newBuffer = [...createTrimmedBuffer(buffer), newValue];\n        if (newBuffer.length > buffer.length) {\n            newBuffer.splice(0, newBuffer.length - buffer.length);\n        }\n        else {\n            fillBuffer(newBuffer, buffer.length);\n        }\n        return newBuffer;\n    }\n\n    function connectValues({ primary, secondary, forward, backward, }) {\n        let changing = false;\n        function preventFeedback(callback) {\n            if (changing) {\n                return;\n            }\n            changing = true;\n            callback();\n            changing = false;\n        }\n        primary.emitter.on('change', (ev) => {\n            preventFeedback(() => {\n                secondary.setRawValue(forward(primary, secondary), ev.options);\n            });\n        });\n        secondary.emitter.on('change', (ev) => {\n            preventFeedback(() => {\n                primary.setRawValue(backward(primary, secondary), ev.options);\n            });\n            preventFeedback(() => {\n                secondary.setRawValue(forward(primary, secondary), ev.options);\n            });\n        });\n        preventFeedback(() => {\n            secondary.setRawValue(forward(primary, secondary), {\n                forceEmit: false,\n                last: true,\n            });\n        });\n    }\n\n    function getStepForKey(baseStep, keys) {\n        const step = baseStep * (keys.altKey ? 0.1 : 1) * (keys.shiftKey ? 10 : 1);\n        if (keys.upKey) {\n            return +step;\n        }\n        else if (keys.downKey) {\n            return -step;\n        }\n        return 0;\n    }\n    function getVerticalStepKeys(ev) {\n        return {\n            altKey: ev.altKey,\n            downKey: ev.key === 'ArrowDown',\n            shiftKey: ev.shiftKey,\n            upKey: ev.key === 'ArrowUp',\n        };\n    }\n    function getHorizontalStepKeys(ev) {\n        return {\n            altKey: ev.altKey,\n            downKey: ev.key === 'ArrowLeft',\n            shiftKey: ev.shiftKey,\n            upKey: ev.key === 'ArrowRight',\n        };\n    }\n    function isVerticalArrowKey(key) {\n        return key === 'ArrowUp' || key === 'ArrowDown';\n    }\n    function isArrowKey(key) {\n        return isVerticalArrowKey(key) || key === 'ArrowLeft' || key === 'ArrowRight';\n    }\n\n    function computeOffset$1(ev, elem) {\n        const win = elem.ownerDocument.defaultView;\n        const rect = elem.getBoundingClientRect();\n        return {\n            x: ev.pageX - (((win && win.scrollX) || 0) + rect.left),\n            y: ev.pageY - (((win && win.scrollY) || 0) + rect.top),\n        };\n    }\n    class PointerHandler {\n        constructor(element) {\n            this.lastTouch_ = null;\n            this.onDocumentMouseMove_ = this.onDocumentMouseMove_.bind(this);\n            this.onDocumentMouseUp_ = this.onDocumentMouseUp_.bind(this);\n            this.onMouseDown_ = this.onMouseDown_.bind(this);\n            this.onTouchEnd_ = this.onTouchEnd_.bind(this);\n            this.onTouchMove_ = this.onTouchMove_.bind(this);\n            this.onTouchStart_ = this.onTouchStart_.bind(this);\n            this.elem_ = element;\n            this.emitter = new Emitter();\n            element.addEventListener('touchstart', this.onTouchStart_, {\n                passive: false,\n            });\n            element.addEventListener('touchmove', this.onTouchMove_, {\n                passive: true,\n            });\n            element.addEventListener('touchend', this.onTouchEnd_);\n            element.addEventListener('mousedown', this.onMouseDown_);\n        }\n        computePosition_(offset) {\n            const rect = this.elem_.getBoundingClientRect();\n            return {\n                bounds: {\n                    width: rect.width,\n                    height: rect.height,\n                },\n                point: offset\n                    ? {\n                        x: offset.x,\n                        y: offset.y,\n                    }\n                    : null,\n            };\n        }\n        onMouseDown_(ev) {\n            var _a;\n            ev.preventDefault();\n            (_a = ev.currentTarget) === null || _a === void 0 ? void 0 : _a.focus();\n            const doc = this.elem_.ownerDocument;\n            doc.addEventListener('mousemove', this.onDocumentMouseMove_);\n            doc.addEventListener('mouseup', this.onDocumentMouseUp_);\n            this.emitter.emit('down', {\n                altKey: ev.altKey,\n                data: this.computePosition_(computeOffset$1(ev, this.elem_)),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n        onDocumentMouseMove_(ev) {\n            this.emitter.emit('move', {\n                altKey: ev.altKey,\n                data: this.computePosition_(computeOffset$1(ev, this.elem_)),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n        onDocumentMouseUp_(ev) {\n            const doc = this.elem_.ownerDocument;\n            doc.removeEventListener('mousemove', this.onDocumentMouseMove_);\n            doc.removeEventListener('mouseup', this.onDocumentMouseUp_);\n            this.emitter.emit('up', {\n                altKey: ev.altKey,\n                data: this.computePosition_(computeOffset$1(ev, this.elem_)),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n        onTouchStart_(ev) {\n            ev.preventDefault();\n            const touch = ev.targetTouches.item(0);\n            const rect = this.elem_.getBoundingClientRect();\n            this.emitter.emit('down', {\n                altKey: ev.altKey,\n                data: this.computePosition_(touch\n                    ? {\n                        x: touch.clientX - rect.left,\n                        y: touch.clientY - rect.top,\n                    }\n                    : undefined),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n            this.lastTouch_ = touch;\n        }\n        onTouchMove_(ev) {\n            const touch = ev.targetTouches.item(0);\n            const rect = this.elem_.getBoundingClientRect();\n            this.emitter.emit('move', {\n                altKey: ev.altKey,\n                data: this.computePosition_(touch\n                    ? {\n                        x: touch.clientX - rect.left,\n                        y: touch.clientY - rect.top,\n                    }\n                    : undefined),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n            this.lastTouch_ = touch;\n        }\n        onTouchEnd_(ev) {\n            var _a;\n            const touch = (_a = ev.targetTouches.item(0)) !== null && _a !== void 0 ? _a : this.lastTouch_;\n            const rect = this.elem_.getBoundingClientRect();\n            this.emitter.emit('up', {\n                altKey: ev.altKey,\n                data: this.computePosition_(touch\n                    ? {\n                        x: touch.clientX - rect.left,\n                        y: touch.clientY - rect.top,\n                    }\n                    : undefined),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n    }\n\n    function mapRange(value, start1, end1, start2, end2) {\n        const p = (value - start1) / (end1 - start1);\n        return start2 + p * (end2 - start2);\n    }\n    function getDecimalDigits(value) {\n        const text = String(value.toFixed(10));\n        const frac = text.split('.')[1];\n        return frac.replace(/0+$/, '').length;\n    }\n    function constrainRange(value, min, max) {\n        return Math.min(Math.max(value, min), max);\n    }\n    function loopRange(value, max) {\n        return ((value % max) + max) % max;\n    }\n\n    const className$g = ClassName('txt');\n    class NumberTextView {\n        constructor(doc, config) {\n            this.onChange_ = this.onChange_.bind(this);\n            this.props_ = config.props;\n            this.props_.emitter.on('change', this.onChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$g(), className$g(undefined, 'num'));\n            if (config.arrayPosition) {\n                this.element.classList.add(className$g(undefined, config.arrayPosition));\n            }\n            config.viewProps.bindClassModifiers(this.element);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$g('i'));\n            inputElem.type = 'text';\n            config.viewProps.bindDisabled(inputElem);\n            this.element.appendChild(inputElem);\n            this.inputElement = inputElem;\n            this.onDraggingChange_ = this.onDraggingChange_.bind(this);\n            this.dragging_ = config.dragging;\n            this.dragging_.emitter.on('change', this.onDraggingChange_);\n            this.element.classList.add(className$g());\n            this.inputElement.classList.add(className$g('i'));\n            const knobElem = doc.createElement('div');\n            knobElem.classList.add(className$g('k'));\n            this.element.appendChild(knobElem);\n            this.knobElement = knobElem;\n            const guideElem = doc.createElementNS(SVG_NS, 'svg');\n            guideElem.classList.add(className$g('g'));\n            this.knobElement.appendChild(guideElem);\n            const bodyElem = doc.createElementNS(SVG_NS, 'path');\n            bodyElem.classList.add(className$g('gb'));\n            guideElem.appendChild(bodyElem);\n            this.guideBodyElem_ = bodyElem;\n            const headElem = doc.createElementNS(SVG_NS, 'path');\n            headElem.classList.add(className$g('gh'));\n            guideElem.appendChild(headElem);\n            this.guideHeadElem_ = headElem;\n            const tooltipElem = doc.createElement('div');\n            tooltipElem.classList.add(ClassName('tt')());\n            this.knobElement.appendChild(tooltipElem);\n            this.tooltipElem_ = tooltipElem;\n            config.value.emitter.on('change', this.onChange_);\n            this.value = config.value;\n            this.refresh();\n        }\n        onDraggingChange_(ev) {\n            if (ev.rawValue === null) {\n                this.element.classList.remove(className$g(undefined, 'drg'));\n                return;\n            }\n            this.element.classList.add(className$g(undefined, 'drg'));\n            const x = ev.rawValue / this.props_.get('draggingScale');\n            const aox = x + (x > 0 ? -1 : x < 0 ? +1 : 0);\n            const adx = constrainRange(-aox, -4, +4);\n            this.guideHeadElem_.setAttributeNS(null, 'd', [`M ${aox + adx},0 L${aox},4 L${aox + adx},8`, `M ${x},-1 L${x},9`].join(' '));\n            this.guideBodyElem_.setAttributeNS(null, 'd', `M 0,4 L${x},4`);\n            const formatter = this.props_.get('formatter');\n            this.tooltipElem_.textContent = formatter(this.value.rawValue);\n            this.tooltipElem_.style.left = `${x}px`;\n        }\n        refresh() {\n            const formatter = this.props_.get('formatter');\n            this.inputElement.value = formatter(this.value.rawValue);\n        }\n        onChange_() {\n            this.refresh();\n        }\n    }\n\n    class NumberTextController {\n        constructor(doc, config) {\n            this.originRawValue_ = 0;\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.onInputKeyDown_ = this.onInputKeyDown_.bind(this);\n            this.onInputKeyUp_ = this.onInputKeyUp_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.baseStep_ = config.baseStep;\n            this.parser_ = config.parser;\n            this.props = config.props;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.dragging_ = createValue(null);\n            this.view = new NumberTextView(doc, {\n                arrayPosition: config.arrayPosition,\n                dragging: this.dragging_,\n                props: this.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n            this.view.inputElement.addEventListener('keydown', this.onInputKeyDown_);\n            this.view.inputElement.addEventListener('keyup', this.onInputKeyUp_);\n            const ph = new PointerHandler(this.view.knobElement);\n            ph.emitter.on('down', this.onPointerDown_);\n            ph.emitter.on('move', this.onPointerMove_);\n            ph.emitter.on('up', this.onPointerUp_);\n        }\n        onInputChange_(e) {\n            const inputElem = forceCast(e.currentTarget);\n            const value = inputElem.value;\n            const parsedValue = this.parser_(value);\n            if (!isEmpty(parsedValue)) {\n                this.value.rawValue = parsedValue;\n            }\n            this.view.refresh();\n        }\n        onInputKeyDown_(ev) {\n            const step = getStepForKey(this.baseStep_, getVerticalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue + step, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onInputKeyUp_(ev) {\n            const step = getStepForKey(this.baseStep_, getVerticalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onPointerDown_() {\n            this.originRawValue_ = this.value.rawValue;\n            this.dragging_.rawValue = 0;\n        }\n        computeDraggingValue_(data) {\n            if (!data.point) {\n                return null;\n            }\n            const dx = data.point.x - data.bounds.width / 2;\n            return this.originRawValue_ + dx * this.props.get('draggingScale');\n        }\n        onPointerMove_(ev) {\n            const v = this.computeDraggingValue_(ev.data);\n            if (v === null) {\n                return;\n            }\n            this.value.setRawValue(v, {\n                forceEmit: false,\n                last: false,\n            });\n            this.dragging_.rawValue = this.value.rawValue - this.originRawValue_;\n        }\n        onPointerUp_(ev) {\n            const v = this.computeDraggingValue_(ev.data);\n            if (v === null) {\n                return;\n            }\n            this.value.setRawValue(v, {\n                forceEmit: true,\n                last: true,\n            });\n            this.dragging_.rawValue = null;\n        }\n    }\n\n    const className$f = ClassName('sld');\n    class SliderView {\n        constructor(doc, config) {\n            this.onChange_ = this.onChange_.bind(this);\n            this.props_ = config.props;\n            this.props_.emitter.on('change', this.onChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$f());\n            config.viewProps.bindClassModifiers(this.element);\n            const trackElem = doc.createElement('div');\n            trackElem.classList.add(className$f('t'));\n            config.viewProps.bindTabIndex(trackElem);\n            this.element.appendChild(trackElem);\n            this.trackElement = trackElem;\n            const knobElem = doc.createElement('div');\n            knobElem.classList.add(className$f('k'));\n            this.trackElement.appendChild(knobElem);\n            this.knobElement = knobElem;\n            config.value.emitter.on('change', this.onChange_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            const p = constrainRange(mapRange(this.value.rawValue, this.props_.get('minValue'), this.props_.get('maxValue'), 0, 100), 0, 100);\n            this.knobElement.style.width = `${p}%`;\n        }\n        onChange_() {\n            this.update_();\n        }\n    }\n\n    class SliderController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onKeyUp_ = this.onKeyUp_.bind(this);\n            this.onPointerDownOrMove_ = this.onPointerDownOrMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.baseStep_ = config.baseStep;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.props = config.props;\n            this.view = new SliderView(doc, {\n                props: this.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.trackElement);\n            this.ptHandler_.emitter.on('down', this.onPointerDownOrMove_);\n            this.ptHandler_.emitter.on('move', this.onPointerDownOrMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.trackElement.addEventListener('keydown', this.onKeyDown_);\n            this.view.trackElement.addEventListener('keyup', this.onKeyUp_);\n        }\n        handlePointerEvent_(d, opts) {\n            if (!d.point) {\n                return;\n            }\n            this.value.setRawValue(mapRange(constrainRange(d.point.x, 0, d.bounds.width), 0, d.bounds.width, this.props.get('minValue'), this.props.get('maxValue')), opts);\n        }\n        onPointerDownOrMove_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onKeyDown_(ev) {\n            const step = getStepForKey(this.baseStep_, getHorizontalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue + step, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onKeyUp_(ev) {\n            const step = getStepForKey(this.baseStep_, getHorizontalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n    }\n\n    const className$e = ClassName('sldtxt');\n    class SliderTextView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$e());\n            const sliderElem = doc.createElement('div');\n            sliderElem.classList.add(className$e('s'));\n            this.sliderView_ = config.sliderView;\n            sliderElem.appendChild(this.sliderView_.element);\n            this.element.appendChild(sliderElem);\n            const textElem = doc.createElement('div');\n            textElem.classList.add(className$e('t'));\n            this.textView_ = config.textView;\n            textElem.appendChild(this.textView_.element);\n            this.element.appendChild(textElem);\n        }\n    }\n\n    class SliderTextController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.sliderC_ = new SliderController(doc, {\n                baseStep: config.baseStep,\n                props: config.sliderProps,\n                value: config.value,\n                viewProps: this.viewProps,\n            });\n            this.textC_ = new NumberTextController(doc, {\n                baseStep: config.baseStep,\n                parser: config.parser,\n                props: config.textProps,\n                value: config.value,\n                viewProps: config.viewProps,\n            });\n            this.view = new SliderTextView(doc, {\n                sliderView: this.sliderC_.view,\n                textView: this.textC_.view,\n            });\n        }\n        get sliderController() {\n            return this.sliderC_;\n        }\n        get textController() {\n            return this.textC_;\n        }\n    }\n\n    function writePrimitive(target, value) {\n        target.write(value);\n    }\n\n    function parseListOptions(value) {\n        const p = ParamsParsers;\n        if (Array.isArray(value)) {\n            return p.required.array(p.required.object({\n                text: p.required.string,\n                value: p.required.raw,\n            }))(value).value;\n        }\n        if (typeof value === 'object') {\n            return p.required.raw(value)\n                .value;\n        }\n        return undefined;\n    }\n    function parsePickerLayout(value) {\n        if (value === 'inline' || value === 'popup') {\n            return value;\n        }\n        return undefined;\n    }\n    function parsePointDimensionParams(value) {\n        const p = ParamsParsers;\n        return p.required.object({\n            max: p.optional.number,\n            min: p.optional.number,\n            step: p.optional.number,\n        })(value).value;\n    }\n    function normalizeListOptions(options) {\n        if (Array.isArray(options)) {\n            return options;\n        }\n        const items = [];\n        Object.keys(options).forEach((text) => {\n            items.push({ text: text, value: options[text] });\n        });\n        return items;\n    }\n    function createListConstraint(options) {\n        return !isEmpty(options)\n            ? new ListConstraint(normalizeListOptions(forceCast(options)))\n            : null;\n    }\n    function findListItems(constraint) {\n        const c = constraint\n            ? findConstraint(constraint, ListConstraint)\n            : null;\n        if (!c) {\n            return null;\n        }\n        return c.options;\n    }\n    function findStep(constraint) {\n        const c = constraint ? findConstraint(constraint, StepConstraint) : null;\n        if (!c) {\n            return null;\n        }\n        return c.step;\n    }\n    function getSuitableDecimalDigits(constraint, rawValue) {\n        const sc = constraint && findConstraint(constraint, StepConstraint);\n        if (sc) {\n            return getDecimalDigits(sc.step);\n        }\n        return Math.max(getDecimalDigits(rawValue), 2);\n    }\n    function getBaseStep(constraint) {\n        const step = findStep(constraint);\n        return step !== null && step !== void 0 ? step : 1;\n    }\n    function getSuitableDraggingScale(constraint, rawValue) {\n        var _a;\n        const sc = constraint && findConstraint(constraint, StepConstraint);\n        const base = Math.abs((_a = sc === null || sc === void 0 ? void 0 : sc.step) !== null && _a !== void 0 ? _a : rawValue);\n        return base === 0 ? 0.1 : Math.pow(10, Math.floor(Math.log10(base)) - 1);\n    }\n\n    const className$d = ClassName('ckb');\n    class CheckboxView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$d());\n            config.viewProps.bindClassModifiers(this.element);\n            const labelElem = doc.createElement('label');\n            labelElem.classList.add(className$d('l'));\n            this.element.appendChild(labelElem);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$d('i'));\n            inputElem.type = 'checkbox';\n            labelElem.appendChild(inputElem);\n            this.inputElement = inputElem;\n            config.viewProps.bindDisabled(this.inputElement);\n            const wrapperElem = doc.createElement('div');\n            wrapperElem.classList.add(className$d('w'));\n            labelElem.appendChild(wrapperElem);\n            const markElem = createSvgIconElement(doc, 'check');\n            wrapperElem.appendChild(markElem);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            this.inputElement.checked = this.value.rawValue;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class CheckboxController {\n        constructor(doc, config) {\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new CheckboxView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n        }\n        onInputChange_(e) {\n            const inputElem = forceCast(e.currentTarget);\n            this.value.rawValue = inputElem.checked;\n        }\n    }\n\n    function createConstraint$5(params) {\n        const constraints = [];\n        const lc = createListConstraint(params.options);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    const BooleanInputPlugin = {\n        id: 'input-bool',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'boolean') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                options: p.optional.custom(parseListOptions),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => boolFromUnknown,\n            constraint: (args) => createConstraint$5(args.params),\n            writer: (_args) => writePrimitive,\n        },\n        controller: (args) => {\n            var _a;\n            const doc = args.document;\n            const value = args.value;\n            const c = args.constraint;\n            if (c && findConstraint(c, ListConstraint)) {\n                return new ListController(doc, {\n                    props: ValueMap.fromObject({\n                        options: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new CheckboxController(doc, {\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    const className$c = ClassName('col');\n    class ColorView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$c());\n            config.foldable.bindExpandedClass(this.element, className$c(undefined, 'expanded'));\n            bindValueMap(config.foldable, 'completed', valueToClassName(this.element, className$c(undefined, 'cpl')));\n            const headElem = doc.createElement('div');\n            headElem.classList.add(className$c('h'));\n            this.element.appendChild(headElem);\n            const swatchElem = doc.createElement('div');\n            swatchElem.classList.add(className$c('s'));\n            headElem.appendChild(swatchElem);\n            this.swatchElement = swatchElem;\n            const textElem = doc.createElement('div');\n            textElem.classList.add(className$c('t'));\n            headElem.appendChild(textElem);\n            this.textElement = textElem;\n            if (config.pickerLayout === 'inline') {\n                const pickerElem = doc.createElement('div');\n                pickerElem.classList.add(className$c('p'));\n                this.element.appendChild(pickerElem);\n                this.pickerElement = pickerElem;\n            }\n            else {\n                this.pickerElement = null;\n            }\n        }\n    }\n\n    function rgbToHsl(r, g, b) {\n        const rp = constrainRange(r / 255, 0, 1);\n        const gp = constrainRange(g / 255, 0, 1);\n        const bp = constrainRange(b / 255, 0, 1);\n        const cmax = Math.max(rp, gp, bp);\n        const cmin = Math.min(rp, gp, bp);\n        const c = cmax - cmin;\n        let h = 0;\n        let s = 0;\n        const l = (cmin + cmax) / 2;\n        if (c !== 0) {\n            s = c / (1 - Math.abs(cmax + cmin - 1));\n            if (rp === cmax) {\n                h = (gp - bp) / c;\n            }\n            else if (gp === cmax) {\n                h = 2 + (bp - rp) / c;\n            }\n            else {\n                h = 4 + (rp - gp) / c;\n            }\n            h = h / 6 + (h < 0 ? 1 : 0);\n        }\n        return [h * 360, s * 100, l * 100];\n    }\n    function hslToRgb(h, s, l) {\n        const hp = ((h % 360) + 360) % 360;\n        const sp = constrainRange(s / 100, 0, 1);\n        const lp = constrainRange(l / 100, 0, 1);\n        const c = (1 - Math.abs(2 * lp - 1)) * sp;\n        const x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n        const m = lp - c / 2;\n        let rp, gp, bp;\n        if (hp >= 0 && hp < 60) {\n            [rp, gp, bp] = [c, x, 0];\n        }\n        else if (hp >= 60 && hp < 120) {\n            [rp, gp, bp] = [x, c, 0];\n        }\n        else if (hp >= 120 && hp < 180) {\n            [rp, gp, bp] = [0, c, x];\n        }\n        else if (hp >= 180 && hp < 240) {\n            [rp, gp, bp] = [0, x, c];\n        }\n        else if (hp >= 240 && hp < 300) {\n            [rp, gp, bp] = [x, 0, c];\n        }\n        else {\n            [rp, gp, bp] = [c, 0, x];\n        }\n        return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n    }\n    function rgbToHsv(r, g, b) {\n        const rp = constrainRange(r / 255, 0, 1);\n        const gp = constrainRange(g / 255, 0, 1);\n        const bp = constrainRange(b / 255, 0, 1);\n        const cmax = Math.max(rp, gp, bp);\n        const cmin = Math.min(rp, gp, bp);\n        const d = cmax - cmin;\n        let h;\n        if (d === 0) {\n            h = 0;\n        }\n        else if (cmax === rp) {\n            h = 60 * (((((gp - bp) / d) % 6) + 6) % 6);\n        }\n        else if (cmax === gp) {\n            h = 60 * ((bp - rp) / d + 2);\n        }\n        else {\n            h = 60 * ((rp - gp) / d + 4);\n        }\n        const s = cmax === 0 ? 0 : d / cmax;\n        const v = cmax;\n        return [h, s * 100, v * 100];\n    }\n    function hsvToRgb(h, s, v) {\n        const hp = loopRange(h, 360);\n        const sp = constrainRange(s / 100, 0, 1);\n        const vp = constrainRange(v / 100, 0, 1);\n        const c = vp * sp;\n        const x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n        const m = vp - c;\n        let rp, gp, bp;\n        if (hp >= 0 && hp < 60) {\n            [rp, gp, bp] = [c, x, 0];\n        }\n        else if (hp >= 60 && hp < 120) {\n            [rp, gp, bp] = [x, c, 0];\n        }\n        else if (hp >= 120 && hp < 180) {\n            [rp, gp, bp] = [0, c, x];\n        }\n        else if (hp >= 180 && hp < 240) {\n            [rp, gp, bp] = [0, x, c];\n        }\n        else if (hp >= 240 && hp < 300) {\n            [rp, gp, bp] = [x, 0, c];\n        }\n        else {\n            [rp, gp, bp] = [c, 0, x];\n        }\n        return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n    }\n    function hslToHsv(h, s, l) {\n        const sd = l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100);\n        return [\n            h,\n            sd !== 0 ? (s * (100 - Math.abs(2 * l - 100))) / sd : 0,\n            l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100),\n        ];\n    }\n    function hsvToHsl(h, s, v) {\n        const sd = 100 - Math.abs((v * (200 - s)) / 100 - 100);\n        return [h, sd !== 0 ? (s * v) / sd : 0, (v * (200 - s)) / (2 * 100)];\n    }\n    function removeAlphaComponent(comps) {\n        return [comps[0], comps[1], comps[2]];\n    }\n    function appendAlphaComponent(comps, alpha) {\n        return [comps[0], comps[1], comps[2], alpha];\n    }\n    const MODE_CONVERTER_MAP = {\n        hsl: {\n            hsl: (h, s, l) => [h, s, l],\n            hsv: hslToHsv,\n            rgb: hslToRgb,\n        },\n        hsv: {\n            hsl: hsvToHsl,\n            hsv: (h, s, v) => [h, s, v],\n            rgb: hsvToRgb,\n        },\n        rgb: {\n            hsl: rgbToHsl,\n            hsv: rgbToHsv,\n            rgb: (r, g, b) => [r, g, b],\n        },\n    };\n    function convertColorMode(components, fromMode, toMode) {\n        return MODE_CONVERTER_MAP[fromMode][toMode](...components);\n    }\n\n    const CONSTRAINT_MAP = {\n        hsl: (comps) => {\n            var _a;\n            return [\n                loopRange(comps[0], 360),\n                constrainRange(comps[1], 0, 100),\n                constrainRange(comps[2], 0, 100),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n        hsv: (comps) => {\n            var _a;\n            return [\n                loopRange(comps[0], 360),\n                constrainRange(comps[1], 0, 100),\n                constrainRange(comps[2], 0, 100),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n        rgb: (comps) => {\n            var _a;\n            return [\n                constrainRange(comps[0], 0, 255),\n                constrainRange(comps[1], 0, 255),\n                constrainRange(comps[2], 0, 255),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n    };\n    function isRgbColorComponent(obj, key) {\n        if (typeof obj !== 'object' || isEmpty(obj)) {\n            return false;\n        }\n        return key in obj && typeof obj[key] === 'number';\n    }\n    class Color {\n        constructor(comps, mode) {\n            this.mode_ = mode;\n            this.comps_ = CONSTRAINT_MAP[mode](comps);\n        }\n        static black() {\n            return new Color([0, 0, 0], 'rgb');\n        }\n        static fromObject(obj) {\n            const comps = 'a' in obj ? [obj.r, obj.g, obj.b, obj.a] : [obj.r, obj.g, obj.b];\n            return new Color(comps, 'rgb');\n        }\n        static toRgbaObject(color) {\n            return color.toRgbaObject();\n        }\n        static isRgbColorObject(obj) {\n            return (isRgbColorComponent(obj, 'r') &&\n                isRgbColorComponent(obj, 'g') &&\n                isRgbColorComponent(obj, 'b'));\n        }\n        static isRgbaColorObject(obj) {\n            return this.isRgbColorObject(obj) && isRgbColorComponent(obj, 'a');\n        }\n        static isColorObject(obj) {\n            return this.isRgbColorObject(obj);\n        }\n        static equals(v1, v2) {\n            if (v1.mode_ !== v2.mode_) {\n                return false;\n            }\n            const comps1 = v1.comps_;\n            const comps2 = v2.comps_;\n            for (let i = 0; i < comps1.length; i++) {\n                if (comps1[i] !== comps2[i]) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        get mode() {\n            return this.mode_;\n        }\n        getComponents(opt_mode) {\n            return appendAlphaComponent(convertColorMode(removeAlphaComponent(this.comps_), this.mode_, opt_mode || this.mode_), this.comps_[3]);\n        }\n        toRgbaObject() {\n            const rgbComps = this.getComponents('rgb');\n            return {\n                r: rgbComps[0],\n                g: rgbComps[1],\n                b: rgbComps[2],\n                a: rgbComps[3],\n            };\n        }\n    }\n\n    const className$b = ClassName('colp');\n    class ColorPickerView {\n        constructor(doc, config) {\n            this.alphaViews_ = null;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$b());\n            const hsvElem = doc.createElement('div');\n            hsvElem.classList.add(className$b('hsv'));\n            const svElem = doc.createElement('div');\n            svElem.classList.add(className$b('sv'));\n            this.svPaletteView_ = config.svPaletteView;\n            svElem.appendChild(this.svPaletteView_.element);\n            hsvElem.appendChild(svElem);\n            const hElem = doc.createElement('div');\n            hElem.classList.add(className$b('h'));\n            this.hPaletteView_ = config.hPaletteView;\n            hElem.appendChild(this.hPaletteView_.element);\n            hsvElem.appendChild(hElem);\n            this.element.appendChild(hsvElem);\n            const rgbElem = doc.createElement('div');\n            rgbElem.classList.add(className$b('rgb'));\n            this.textView_ = config.textView;\n            rgbElem.appendChild(this.textView_.element);\n            this.element.appendChild(rgbElem);\n            if (config.alphaViews) {\n                this.alphaViews_ = {\n                    palette: config.alphaViews.palette,\n                    text: config.alphaViews.text,\n                };\n                const aElem = doc.createElement('div');\n                aElem.classList.add(className$b('a'));\n                const apElem = doc.createElement('div');\n                apElem.classList.add(className$b('ap'));\n                apElem.appendChild(this.alphaViews_.palette.element);\n                aElem.appendChild(apElem);\n                const atElem = doc.createElement('div');\n                atElem.classList.add(className$b('at'));\n                atElem.appendChild(this.alphaViews_.text.element);\n                aElem.appendChild(atElem);\n                this.element.appendChild(aElem);\n            }\n        }\n        get allFocusableElements() {\n            const elems = [\n                this.svPaletteView_.element,\n                this.hPaletteView_.element,\n                this.textView_.modeSelectElement,\n                ...this.textView_.textViews.map((v) => v.inputElement),\n            ];\n            if (this.alphaViews_) {\n                elems.push(this.alphaViews_.palette.element, this.alphaViews_.text.inputElement);\n            }\n            return elems;\n        }\n    }\n\n    function parseColorInputParams(params) {\n        const p = ParamsParsers;\n        return parseParams(params, {\n            alpha: p.optional.boolean,\n            expanded: p.optional.boolean,\n            picker: p.optional.custom(parsePickerLayout),\n        });\n    }\n    function getBaseStepForColor(forAlpha) {\n        return forAlpha ? 0.1 : 1;\n    }\n\n    function parseCssNumberOrPercentage(text, maxValue) {\n        const m = text.match(/^(.+)%$/);\n        if (!m) {\n            return Math.min(parseFloat(text), maxValue);\n        }\n        return Math.min(parseFloat(m[1]) * 0.01 * maxValue, maxValue);\n    }\n    const ANGLE_TO_DEG_MAP = {\n        deg: (angle) => angle,\n        grad: (angle) => (angle * 360) / 400,\n        rad: (angle) => (angle * 360) / (2 * Math.PI),\n        turn: (angle) => angle * 360,\n    };\n    function parseCssNumberOrAngle(text) {\n        const m = text.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);\n        if (!m) {\n            return parseFloat(text);\n        }\n        const angle = parseFloat(m[1]);\n        const unit = m[2];\n        return ANGLE_TO_DEG_MAP[unit](angle);\n    }\n    const NOTATION_TO_PARSER_MAP = {\n        'func.rgb': (text) => {\n            const m = text.match(/^rgb\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrPercentage(m[1], 255),\n                parseCssNumberOrPercentage(m[2], 255),\n                parseCssNumberOrPercentage(m[3], 255),\n            ];\n            if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n                return null;\n            }\n            return new Color(comps, 'rgb');\n        },\n        'func.rgba': (text) => {\n            const m = text.match(/^rgba\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrPercentage(m[1], 255),\n                parseCssNumberOrPercentage(m[2], 255),\n                parseCssNumberOrPercentage(m[3], 255),\n                parseCssNumberOrPercentage(m[4], 1),\n            ];\n            if (isNaN(comps[0]) ||\n                isNaN(comps[1]) ||\n                isNaN(comps[2]) ||\n                isNaN(comps[3])) {\n                return null;\n            }\n            return new Color(comps, 'rgb');\n        },\n        'func.hsl': (text) => {\n            const m = text.match(/^hsl\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrAngle(m[1]),\n                parseCssNumberOrPercentage(m[2], 100),\n                parseCssNumberOrPercentage(m[3], 100),\n            ];\n            if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n                return null;\n            }\n            return new Color(comps, 'hsl');\n        },\n        'func.hsla': (text) => {\n            const m = text.match(/^hsla\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrAngle(m[1]),\n                parseCssNumberOrPercentage(m[2], 100),\n                parseCssNumberOrPercentage(m[3], 100),\n                parseCssNumberOrPercentage(m[4], 1),\n            ];\n            if (isNaN(comps[0]) ||\n                isNaN(comps[1]) ||\n                isNaN(comps[2]) ||\n                isNaN(comps[3])) {\n                return null;\n            }\n            return new Color(comps, 'hsl');\n        },\n        'hex.rgb': (text) => {\n            const mRgb = text.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n            if (mRgb) {\n                return new Color([\n                    parseInt(mRgb[1] + mRgb[1], 16),\n                    parseInt(mRgb[2] + mRgb[2], 16),\n                    parseInt(mRgb[3] + mRgb[3], 16),\n                ], 'rgb');\n            }\n            const mRrggbb = text.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n            if (mRrggbb) {\n                return new Color([\n                    parseInt(mRrggbb[1], 16),\n                    parseInt(mRrggbb[2], 16),\n                    parseInt(mRrggbb[3], 16),\n                ], 'rgb');\n            }\n            return null;\n        },\n        'hex.rgba': (text) => {\n            const mRgb = text.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n            if (mRgb) {\n                return new Color([\n                    parseInt(mRgb[1] + mRgb[1], 16),\n                    parseInt(mRgb[2] + mRgb[2], 16),\n                    parseInt(mRgb[3] + mRgb[3], 16),\n                    mapRange(parseInt(mRgb[4] + mRgb[4], 16), 0, 255, 0, 1),\n                ], 'rgb');\n            }\n            const mRrggbb = text.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n            if (mRrggbb) {\n                return new Color([\n                    parseInt(mRrggbb[1], 16),\n                    parseInt(mRrggbb[2], 16),\n                    parseInt(mRrggbb[3], 16),\n                    mapRange(parseInt(mRrggbb[4], 16), 0, 255, 0, 1),\n                ], 'rgb');\n            }\n            return null;\n        },\n    };\n    function getColorNotation(text) {\n        const notations = Object.keys(NOTATION_TO_PARSER_MAP);\n        return notations.reduce((result, notation) => {\n            if (result) {\n                return result;\n            }\n            const subparser = NOTATION_TO_PARSER_MAP[notation];\n            return subparser(text) ? notation : null;\n        }, null);\n    }\n    const CompositeColorParser = (text) => {\n        const notation = getColorNotation(text);\n        return notation ? NOTATION_TO_PARSER_MAP[notation](text) : null;\n    };\n    function hasAlphaComponent(notation) {\n        return (notation === 'func.hsla' ||\n            notation === 'func.rgba' ||\n            notation === 'hex.rgba');\n    }\n    function colorFromString(value) {\n        if (typeof value === 'string') {\n            const cv = CompositeColorParser(value);\n            if (cv) {\n                return cv;\n            }\n        }\n        return Color.black();\n    }\n    function zerofill(comp) {\n        const hex = constrainRange(Math.floor(comp), 0, 255).toString(16);\n        return hex.length === 1 ? `0${hex}` : hex;\n    }\n    function colorToHexRgbString(value, prefix = '#') {\n        const hexes = removeAlphaComponent(value.getComponents('rgb'))\n            .map(zerofill)\n            .join('');\n        return `${prefix}${hexes}`;\n    }\n    function colorToHexRgbaString(value, prefix = '#') {\n        const rgbaComps = value.getComponents('rgb');\n        const hexes = [rgbaComps[0], rgbaComps[1], rgbaComps[2], rgbaComps[3] * 255]\n            .map(zerofill)\n            .join('');\n        return `${prefix}${hexes}`;\n    }\n    function colorToFunctionalRgbString(value) {\n        const formatter = createNumberFormatter(0);\n        const comps = removeAlphaComponent(value.getComponents('rgb')).map((comp) => formatter(comp));\n        return `rgb(${comps.join(', ')})`;\n    }\n    function colorToFunctionalRgbaString(value) {\n        const aFormatter = createNumberFormatter(2);\n        const rgbFormatter = createNumberFormatter(0);\n        const comps = value.getComponents('rgb').map((comp, index) => {\n            const formatter = index === 3 ? aFormatter : rgbFormatter;\n            return formatter(comp);\n        });\n        return `rgba(${comps.join(', ')})`;\n    }\n    function colorToFunctionalHslString(value) {\n        const formatters = [\n            createNumberFormatter(0),\n            formatPercentage,\n            formatPercentage,\n        ];\n        const comps = removeAlphaComponent(value.getComponents('hsl')).map((comp, index) => formatters[index](comp));\n        return `hsl(${comps.join(', ')})`;\n    }\n    function colorToFunctionalHslaString(value) {\n        const formatters = [\n            createNumberFormatter(0),\n            formatPercentage,\n            formatPercentage,\n            createNumberFormatter(2),\n        ];\n        const comps = value\n            .getComponents('hsl')\n            .map((comp, index) => formatters[index](comp));\n        return `hsla(${comps.join(', ')})`;\n    }\n    const NOTATION_TO_STRINGIFIER_MAP = {\n        'func.hsl': colorToFunctionalHslString,\n        'func.hsla': colorToFunctionalHslaString,\n        'func.rgb': colorToFunctionalRgbString,\n        'func.rgba': colorToFunctionalRgbaString,\n        'hex.rgb': colorToHexRgbString,\n        'hex.rgba': colorToHexRgbaString,\n    };\n    function getColorStringifier(notation) {\n        return NOTATION_TO_STRINGIFIER_MAP[notation];\n    }\n\n    const className$a = ClassName('apl');\n    class APaletteView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$a());\n            config.viewProps.bindTabIndex(this.element);\n            const barElem = doc.createElement('div');\n            barElem.classList.add(className$a('b'));\n            this.element.appendChild(barElem);\n            const colorElem = doc.createElement('div');\n            colorElem.classList.add(className$a('c'));\n            barElem.appendChild(colorElem);\n            this.colorElem_ = colorElem;\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$a('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            const previewElem = doc.createElement('div');\n            previewElem.classList.add(className$a('p'));\n            this.markerElem_.appendChild(previewElem);\n            this.previewElem_ = previewElem;\n            this.update_();\n        }\n        update_() {\n            const c = this.value.rawValue;\n            const rgbaComps = c.getComponents('rgb');\n            const leftColor = new Color([rgbaComps[0], rgbaComps[1], rgbaComps[2], 0], 'rgb');\n            const rightColor = new Color([rgbaComps[0], rgbaComps[1], rgbaComps[2], 255], 'rgb');\n            const gradientComps = [\n                'to right',\n                colorToFunctionalRgbaString(leftColor),\n                colorToFunctionalRgbaString(rightColor),\n            ];\n            this.colorElem_.style.background = `linear-gradient(${gradientComps.join(',')})`;\n            this.previewElem_.style.backgroundColor = colorToFunctionalRgbaString(c);\n            const left = mapRange(rgbaComps[3], 0, 1, 0, 100);\n            this.markerElem_.style.left = `${left}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class APaletteController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onKeyUp_ = this.onKeyUp_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new APaletteView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n            this.view.element.addEventListener('keyup', this.onKeyUp_);\n        }\n        handlePointerEvent_(d, opts) {\n            if (!d.point) {\n                return;\n            }\n            const alpha = d.point.x / d.bounds.width;\n            const c = this.value.rawValue;\n            const [h, s, v] = c.getComponents('hsv');\n            this.value.setRawValue(new Color([h, s, v, alpha], 'hsv'), opts);\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onKeyDown_(ev) {\n            const step = getStepForKey(getBaseStepForColor(true), getHorizontalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            const c = this.value.rawValue;\n            const [h, s, v, a] = c.getComponents('hsv');\n            this.value.setRawValue(new Color([h, s, v, a + step], 'hsv'), {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onKeyUp_(ev) {\n            const step = getStepForKey(getBaseStepForColor(true), getHorizontalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n    }\n\n    const className$9 = ClassName('coltxt');\n    function createModeSelectElement(doc) {\n        const selectElem = doc.createElement('select');\n        const items = [\n            { text: 'RGB', value: 'rgb' },\n            { text: 'HSL', value: 'hsl' },\n            { text: 'HSV', value: 'hsv' },\n        ];\n        selectElem.appendChild(items.reduce((frag, item) => {\n            const optElem = doc.createElement('option');\n            optElem.textContent = item.text;\n            optElem.value = item.value;\n            frag.appendChild(optElem);\n            return frag;\n        }, doc.createDocumentFragment()));\n        return selectElem;\n    }\n    class ColorTextView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$9());\n            const modeElem = doc.createElement('div');\n            modeElem.classList.add(className$9('m'));\n            this.modeElem_ = createModeSelectElement(doc);\n            this.modeElem_.classList.add(className$9('ms'));\n            modeElem.appendChild(this.modeSelectElement);\n            const modeMarkerElem = doc.createElement('div');\n            modeMarkerElem.classList.add(className$9('mm'));\n            modeMarkerElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n            modeElem.appendChild(modeMarkerElem);\n            this.element.appendChild(modeElem);\n            const textsElem = doc.createElement('div');\n            textsElem.classList.add(className$9('w'));\n            this.element.appendChild(textsElem);\n            this.textsElem_ = textsElem;\n            this.textViews_ = config.textViews;\n            this.applyTextViews_();\n            bindValue(config.colorMode, (mode) => {\n                this.modeElem_.value = mode;\n            });\n        }\n        get modeSelectElement() {\n            return this.modeElem_;\n        }\n        get textViews() {\n            return this.textViews_;\n        }\n        set textViews(textViews) {\n            this.textViews_ = textViews;\n            this.applyTextViews_();\n        }\n        applyTextViews_() {\n            removeChildElements(this.textsElem_);\n            const doc = this.element.ownerDocument;\n            this.textViews_.forEach((v) => {\n                const compElem = doc.createElement('div');\n                compElem.classList.add(className$9('c'));\n                compElem.appendChild(v.element);\n                this.textsElem_.appendChild(compElem);\n            });\n        }\n    }\n\n    const FORMATTER = createNumberFormatter(0);\n    const MODE_TO_CONSTRAINT_MAP = {\n        rgb: () => {\n            return new RangeConstraint({ min: 0, max: 255 });\n        },\n        hsl: (index) => {\n            return index === 0\n                ? new RangeConstraint({ min: 0, max: 360 })\n                : new RangeConstraint({ min: 0, max: 100 });\n        },\n        hsv: (index) => {\n            return index === 0\n                ? new RangeConstraint({ min: 0, max: 360 })\n                : new RangeConstraint({ min: 0, max: 100 });\n        },\n    };\n    function createComponentController(doc, config, index) {\n        return new NumberTextController(doc, {\n            arrayPosition: index === 0 ? 'fst' : index === 3 - 1 ? 'lst' : 'mid',\n            baseStep: getBaseStepForColor(false),\n            parser: config.parser,\n            props: ValueMap.fromObject({\n                draggingScale: 1,\n                formatter: FORMATTER,\n            }),\n            value: createValue(0, {\n                constraint: MODE_TO_CONSTRAINT_MAP[config.colorMode](index),\n            }),\n            viewProps: config.viewProps,\n        });\n    }\n    class ColorTextController {\n        constructor(doc, config) {\n            this.onModeSelectChange_ = this.onModeSelectChange_.bind(this);\n            this.parser_ = config.parser;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.colorMode = createValue(this.value.rawValue.mode);\n            this.ccs_ = this.createComponentControllers_(doc);\n            this.view = new ColorTextView(doc, {\n                colorMode: this.colorMode,\n                textViews: [this.ccs_[0].view, this.ccs_[1].view, this.ccs_[2].view],\n            });\n            this.view.modeSelectElement.addEventListener('change', this.onModeSelectChange_);\n        }\n        createComponentControllers_(doc) {\n            const cc = {\n                colorMode: this.colorMode.rawValue,\n                parser: this.parser_,\n                viewProps: this.viewProps,\n            };\n            const ccs = [\n                createComponentController(doc, cc, 0),\n                createComponentController(doc, cc, 1),\n                createComponentController(doc, cc, 2),\n            ];\n            ccs.forEach((cs, index) => {\n                connectValues({\n                    primary: this.value,\n                    secondary: cs.value,\n                    forward: (p) => {\n                        return p.rawValue.getComponents(this.colorMode.rawValue)[index];\n                    },\n                    backward: (p, s) => {\n                        const pickedMode = this.colorMode.rawValue;\n                        const comps = p.rawValue.getComponents(pickedMode);\n                        comps[index] = s.rawValue;\n                        return new Color(appendAlphaComponent(removeAlphaComponent(comps), comps[3]), pickedMode);\n                    },\n                });\n            });\n            return ccs;\n        }\n        onModeSelectChange_(ev) {\n            const selectElem = ev.currentTarget;\n            this.colorMode.rawValue = selectElem.value;\n            this.ccs_ = this.createComponentControllers_(this.view.element.ownerDocument);\n            this.view.textViews = [\n                this.ccs_[0].view,\n                this.ccs_[1].view,\n                this.ccs_[2].view,\n            ];\n        }\n    }\n\n    const className$8 = ClassName('hpl');\n    class HPaletteView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$8());\n            config.viewProps.bindTabIndex(this.element);\n            const colorElem = doc.createElement('div');\n            colorElem.classList.add(className$8('c'));\n            this.element.appendChild(colorElem);\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$8('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            this.update_();\n        }\n        update_() {\n            const c = this.value.rawValue;\n            const [h] = c.getComponents('hsv');\n            this.markerElem_.style.backgroundColor = colorToFunctionalRgbString(new Color([h, 100, 100], 'hsv'));\n            const left = mapRange(h, 0, 360, 0, 100);\n            this.markerElem_.style.left = `${left}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class HPaletteController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onKeyUp_ = this.onKeyUp_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new HPaletteView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n            this.view.element.addEventListener('keyup', this.onKeyUp_);\n        }\n        handlePointerEvent_(d, opts) {\n            if (!d.point) {\n                return;\n            }\n            const hue = mapRange(d.point.x, 0, d.bounds.width, 0, 360);\n            const c = this.value.rawValue;\n            const [, s, v, a] = c.getComponents('hsv');\n            this.value.setRawValue(new Color([hue, s, v, a], 'hsv'), opts);\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onKeyDown_(ev) {\n            const step = getStepForKey(getBaseStepForColor(false), getHorizontalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            const c = this.value.rawValue;\n            const [h, s, v, a] = c.getComponents('hsv');\n            this.value.setRawValue(new Color([h + step, s, v, a], 'hsv'), {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onKeyUp_(ev) {\n            const step = getStepForKey(getBaseStepForColor(false), getHorizontalStepKeys(ev));\n            if (step === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n    }\n\n    const className$7 = ClassName('svp');\n    const CANVAS_RESOL = 64;\n    class SvPaletteView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$7());\n            config.viewProps.bindTabIndex(this.element);\n            const canvasElem = doc.createElement('canvas');\n            canvasElem.height = CANVAS_RESOL;\n            canvasElem.width = CANVAS_RESOL;\n            canvasElem.classList.add(className$7('c'));\n            this.element.appendChild(canvasElem);\n            this.canvasElement = canvasElem;\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$7('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            this.update_();\n        }\n        update_() {\n            const ctx = getCanvasContext(this.canvasElement);\n            if (!ctx) {\n                return;\n            }\n            const c = this.value.rawValue;\n            const hsvComps = c.getComponents('hsv');\n            const width = this.canvasElement.width;\n            const height = this.canvasElement.height;\n            const imgData = ctx.getImageData(0, 0, width, height);\n            const data = imgData.data;\n            for (let iy = 0; iy < height; iy++) {\n                for (let ix = 0; ix < width; ix++) {\n                    const s = mapRange(ix, 0, width, 0, 100);\n                    const v = mapRange(iy, 0, height, 100, 0);\n                    const rgbComps = hsvToRgb(hsvComps[0], s, v);\n                    const i = (iy * width + ix) * 4;\n                    data[i] = rgbComps[0];\n                    data[i + 1] = rgbComps[1];\n                    data[i + 2] = rgbComps[2];\n                    data[i + 3] = 255;\n                }\n            }\n            ctx.putImageData(imgData, 0, 0);\n            const left = mapRange(hsvComps[1], 0, 100, 0, 100);\n            this.markerElem_.style.left = `${left}%`;\n            const top = mapRange(hsvComps[2], 0, 100, 100, 0);\n            this.markerElem_.style.top = `${top}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class SvPaletteController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onKeyUp_ = this.onKeyUp_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new SvPaletteView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n            this.view.element.addEventListener('keyup', this.onKeyUp_);\n        }\n        handlePointerEvent_(d, opts) {\n            if (!d.point) {\n                return;\n            }\n            const saturation = mapRange(d.point.x, 0, d.bounds.width, 0, 100);\n            const value = mapRange(d.point.y, 0, d.bounds.height, 100, 0);\n            const [h, , , a] = this.value.rawValue.getComponents('hsv');\n            this.value.setRawValue(new Color([h, saturation, value, a], 'hsv'), opts);\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onKeyDown_(ev) {\n            if (isArrowKey(ev.key)) {\n                ev.preventDefault();\n            }\n            const [h, s, v, a] = this.value.rawValue.getComponents('hsv');\n            const baseStep = getBaseStepForColor(false);\n            const ds = getStepForKey(baseStep, getHorizontalStepKeys(ev));\n            const dv = getStepForKey(baseStep, getVerticalStepKeys(ev));\n            if (ds === 0 && dv === 0) {\n                return;\n            }\n            this.value.setRawValue(new Color([h, s + ds, v + dv, a], 'hsv'), {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onKeyUp_(ev) {\n            const baseStep = getBaseStepForColor(false);\n            const ds = getStepForKey(baseStep, getHorizontalStepKeys(ev));\n            const dv = getStepForKey(baseStep, getVerticalStepKeys(ev));\n            if (ds === 0 && dv === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n    }\n\n    class ColorPickerController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.hPaletteC_ = new HPaletteController(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.svPaletteC_ = new SvPaletteController(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.alphaIcs_ = config.supportsAlpha\n                ? {\n                    palette: new APaletteController(doc, {\n                        value: this.value,\n                        viewProps: this.viewProps,\n                    }),\n                    text: new NumberTextController(doc, {\n                        parser: parseNumber,\n                        baseStep: 0.1,\n                        props: ValueMap.fromObject({\n                            draggingScale: 0.01,\n                            formatter: createNumberFormatter(2),\n                        }),\n                        value: createValue(0, {\n                            constraint: new RangeConstraint({ min: 0, max: 1 }),\n                        }),\n                        viewProps: this.viewProps,\n                    }),\n                }\n                : null;\n            if (this.alphaIcs_) {\n                connectValues({\n                    primary: this.value,\n                    secondary: this.alphaIcs_.text.value,\n                    forward: (p) => {\n                        return p.rawValue.getComponents()[3];\n                    },\n                    backward: (p, s) => {\n                        const comps = p.rawValue.getComponents();\n                        comps[3] = s.rawValue;\n                        return new Color(comps, p.rawValue.mode);\n                    },\n                });\n            }\n            this.textC_ = new ColorTextController(doc, {\n                parser: parseNumber,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view = new ColorPickerView(doc, {\n                alphaViews: this.alphaIcs_\n                    ? {\n                        palette: this.alphaIcs_.palette.view,\n                        text: this.alphaIcs_.text.view,\n                    }\n                    : null,\n                hPaletteView: this.hPaletteC_.view,\n                supportsAlpha: config.supportsAlpha,\n                svPaletteView: this.svPaletteC_.view,\n                textView: this.textC_.view,\n            });\n        }\n        get textController() {\n            return this.textC_;\n        }\n    }\n\n    const className$6 = ClassName('colsw');\n    class ColorSwatchView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$6());\n            config.viewProps.bindClassModifiers(this.element);\n            const swatchElem = doc.createElement('div');\n            swatchElem.classList.add(className$6('sw'));\n            this.element.appendChild(swatchElem);\n            this.swatchElem_ = swatchElem;\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$6('b'));\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            this.update_();\n        }\n        update_() {\n            const value = this.value.rawValue;\n            this.swatchElem_.style.backgroundColor = colorToHexRgbaString(value);\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class ColorSwatchController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new ColorSwatchView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    class ColorController {\n        constructor(doc, config) {\n            this.onButtonBlur_ = this.onButtonBlur_.bind(this);\n            this.onButtonClick_ = this.onButtonClick_.bind(this);\n            this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n            this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.foldable_ = Foldable.create(config.expanded);\n            this.swatchC_ = new ColorSwatchController(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            const buttonElem = this.swatchC_.view.buttonElement;\n            buttonElem.addEventListener('blur', this.onButtonBlur_);\n            buttonElem.addEventListener('click', this.onButtonClick_);\n            this.textC_ = new TextController(doc, {\n                parser: config.parser,\n                props: ValueMap.fromObject({\n                    formatter: config.formatter,\n                }),\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view = new ColorView(doc, {\n                foldable: this.foldable_,\n                pickerLayout: config.pickerLayout,\n            });\n            this.view.swatchElement.appendChild(this.swatchC_.view.element);\n            this.view.textElement.appendChild(this.textC_.view.element);\n            this.popC_ =\n                config.pickerLayout === 'popup'\n                    ? new PopupController(doc, {\n                        viewProps: this.viewProps,\n                    })\n                    : null;\n            const pickerC = new ColorPickerController(doc, {\n                supportsAlpha: config.supportsAlpha,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            pickerC.view.allFocusableElements.forEach((elem) => {\n                elem.addEventListener('blur', this.onPopupChildBlur_);\n                elem.addEventListener('keydown', this.onPopupChildKeydown_);\n            });\n            this.pickerC_ = pickerC;\n            if (this.popC_) {\n                this.view.element.appendChild(this.popC_.view.element);\n                this.popC_.view.element.appendChild(pickerC.view.element);\n                connectValues({\n                    primary: this.foldable_.value('expanded'),\n                    secondary: this.popC_.shows,\n                    forward: (p) => p.rawValue,\n                    backward: (_, s) => s.rawValue,\n                });\n            }\n            else if (this.view.pickerElement) {\n                this.view.pickerElement.appendChild(this.pickerC_.view.element);\n                bindFoldable(this.foldable_, this.view.pickerElement);\n            }\n        }\n        get textController() {\n            return this.textC_;\n        }\n        onButtonBlur_(e) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.view.element;\n            const nextTarget = forceCast(e.relatedTarget);\n            if (!nextTarget || !elem.contains(nextTarget)) {\n                this.popC_.shows.rawValue = false;\n            }\n        }\n        onButtonClick_() {\n            this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n            if (this.foldable_.get('expanded')) {\n                this.pickerC_.view.allFocusableElements[0].focus();\n            }\n        }\n        onPopupChildBlur_(ev) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.popC_.view.element;\n            const nextTarget = findNextTarget(ev);\n            if (nextTarget && elem.contains(nextTarget)) {\n                return;\n            }\n            if (nextTarget &&\n                nextTarget === this.swatchC_.view.buttonElement &&\n                !supportsTouch(elem.ownerDocument)) {\n                return;\n            }\n            this.popC_.shows.rawValue = false;\n        }\n        onPopupChildKeydown_(ev) {\n            if (this.popC_) {\n                if (ev.key === 'Escape') {\n                    this.popC_.shows.rawValue = false;\n                }\n            }\n            else if (this.view.pickerElement) {\n                if (ev.key === 'Escape') {\n                    this.swatchC_.view.buttonElement.focus();\n                }\n            }\n        }\n    }\n\n    function colorFromObject(value) {\n        if (Color.isColorObject(value)) {\n            return Color.fromObject(value);\n        }\n        return Color.black();\n    }\n    function colorToRgbNumber(value) {\n        return removeAlphaComponent(value.getComponents('rgb')).reduce((result, comp) => {\n            return (result << 8) | (Math.floor(comp) & 0xff);\n        }, 0);\n    }\n    function colorToRgbaNumber(value) {\n        return (value.getComponents('rgb').reduce((result, comp, index) => {\n            const hex = Math.floor(index === 3 ? comp * 255 : comp) & 0xff;\n            return (result << 8) | hex;\n        }, 0) >>> 0);\n    }\n    function numberToRgbColor(num) {\n        return new Color([(num >> 16) & 0xff, (num >> 8) & 0xff, num & 0xff], 'rgb');\n    }\n    function numberToRgbaColor(num) {\n        return new Color([\n            (num >> 24) & 0xff,\n            (num >> 16) & 0xff,\n            (num >> 8) & 0xff,\n            mapRange(num & 0xff, 0, 255, 0, 1),\n        ], 'rgb');\n    }\n    function colorFromRgbNumber(value) {\n        if (typeof value !== 'number') {\n            return Color.black();\n        }\n        return numberToRgbColor(value);\n    }\n    function colorFromRgbaNumber(value) {\n        if (typeof value !== 'number') {\n            return Color.black();\n        }\n        return numberToRgbaColor(value);\n    }\n\n    function createColorStringWriter(notation) {\n        const stringify = getColorStringifier(notation);\n        return (target, value) => {\n            writePrimitive(target, stringify(value));\n        };\n    }\n    function createColorNumberWriter(supportsAlpha) {\n        const colorToNumber = supportsAlpha ? colorToRgbaNumber : colorToRgbNumber;\n        return (target, value) => {\n            writePrimitive(target, colorToNumber(value));\n        };\n    }\n    function writeRgbaColorObject(target, value) {\n        const obj = value.toRgbaObject();\n        target.writeProperty('r', obj.r);\n        target.writeProperty('g', obj.g);\n        target.writeProperty('b', obj.b);\n        target.writeProperty('a', obj.a);\n    }\n    function writeRgbColorObject(target, value) {\n        const obj = value.toRgbaObject();\n        target.writeProperty('r', obj.r);\n        target.writeProperty('g', obj.g);\n        target.writeProperty('b', obj.b);\n    }\n    function createColorObjectWriter(supportsAlpha) {\n        return supportsAlpha ? writeRgbaColorObject : writeRgbColorObject;\n    }\n\n    function shouldSupportAlpha$1(inputParams) {\n        return 'alpha' in inputParams && inputParams.alpha === true;\n    }\n    function createFormatter$1(supportsAlpha) {\n        return supportsAlpha\n            ? (v) => colorToHexRgbaString(v, '0x')\n            : (v) => colorToHexRgbString(v, '0x');\n    }\n    const NumberColorInputPlugin = {\n        id: 'input-color-number',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'number') {\n                return null;\n            }\n            if (!('view' in params)) {\n                return null;\n            }\n            if (params.view !== 'color') {\n                return null;\n            }\n            const result = parseColorInputParams(params);\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (args) => {\n                return shouldSupportAlpha$1(args.params)\n                    ? colorFromRgbaNumber\n                    : colorFromRgbNumber;\n            },\n            equals: Color.equals,\n            writer: (args) => {\n                return createColorNumberWriter(shouldSupportAlpha$1(args.params));\n            },\n        },\n        controller: (args) => {\n            const supportsAlpha = shouldSupportAlpha$1(args.params);\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            return new ColorController(args.document, {\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                formatter: createFormatter$1(supportsAlpha),\n                parser: CompositeColorParser,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                supportsAlpha: supportsAlpha,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    function shouldSupportAlpha(initialValue) {\n        return Color.isRgbaColorObject(initialValue);\n    }\n    const ObjectColorInputPlugin = {\n        id: 'input-color-object',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Color.isColorObject(value)) {\n                return null;\n            }\n            const result = parseColorInputParams(params);\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => colorFromObject,\n            equals: Color.equals,\n            writer: (args) => createColorObjectWriter(shouldSupportAlpha(args.initialValue)),\n        },\n        controller: (args) => {\n            const supportsAlpha = Color.isRgbaColorObject(args.initialValue);\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            const formatter = supportsAlpha\n                ? colorToHexRgbaString\n                : colorToHexRgbString;\n            return new ColorController(args.document, {\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                formatter: formatter,\n                parser: CompositeColorParser,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                supportsAlpha: supportsAlpha,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    const StringColorInputPlugin = {\n        id: 'input-color-string',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'string') {\n                return null;\n            }\n            if ('view' in params && params.view === 'text') {\n                return null;\n            }\n            const notation = getColorNotation(value);\n            if (!notation) {\n                return null;\n            }\n            const result = parseColorInputParams(params);\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => colorFromString,\n            equals: Color.equals,\n            writer: (args) => {\n                const notation = getColorNotation(args.initialValue);\n                if (!notation) {\n                    throw TpError.shouldNeverHappen();\n                }\n                return createColorStringWriter(notation);\n            },\n        },\n        controller: (args) => {\n            const notation = getColorNotation(args.initialValue);\n            if (!notation) {\n                throw TpError.shouldNeverHappen();\n            }\n            const stringifier = getColorStringifier(notation);\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            return new ColorController(args.document, {\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                formatter: stringifier,\n                parser: CompositeColorParser,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                supportsAlpha: hasAlphaComponent(notation),\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class PointNdConstraint {\n        constructor(config) {\n            this.components = config.components;\n            this.asm_ = config.assembly;\n        }\n        constrain(value) {\n            const comps = this.asm_\n                .toComponents(value)\n                .map((comp, index) => { var _a, _b; return (_b = (_a = this.components[index]) === null || _a === void 0 ? void 0 : _a.constrain(comp)) !== null && _b !== void 0 ? _b : comp; });\n            return this.asm_.fromComponents(comps);\n        }\n    }\n\n    const className$5 = ClassName('pndtxt');\n    class PointNdTextView {\n        constructor(doc, config) {\n            this.textViews = config.textViews;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$5());\n            this.textViews.forEach((v) => {\n                const axisElem = doc.createElement('div');\n                axisElem.classList.add(className$5('a'));\n                axisElem.appendChild(v.element);\n                this.element.appendChild(axisElem);\n            });\n        }\n    }\n\n    function createAxisController(doc, config, index) {\n        return new NumberTextController(doc, {\n            arrayPosition: index === 0 ? 'fst' : index === config.axes.length - 1 ? 'lst' : 'mid',\n            baseStep: config.axes[index].baseStep,\n            parser: config.parser,\n            props: config.axes[index].textProps,\n            value: createValue(0, {\n                constraint: config.axes[index].constraint,\n            }),\n            viewProps: config.viewProps,\n        });\n    }\n    class PointNdTextController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.acs_ = config.axes.map((_, index) => createAxisController(doc, config, index));\n            this.acs_.forEach((c, index) => {\n                connectValues({\n                    primary: this.value,\n                    secondary: c.value,\n                    forward: (p) => {\n                        return config.assembly.toComponents(p.rawValue)[index];\n                    },\n                    backward: (p, s) => {\n                        const comps = config.assembly.toComponents(p.rawValue);\n                        comps[index] = s.rawValue;\n                        return config.assembly.fromComponents(comps);\n                    },\n                });\n            });\n            this.view = new PointNdTextView(doc, {\n                textViews: this.acs_.map((ac) => ac.view),\n            });\n        }\n    }\n\n    function createStepConstraint(params) {\n        if ('step' in params && !isEmpty(params.step)) {\n            return new StepConstraint(params.step);\n        }\n        return null;\n    }\n    function createRangeConstraint(params) {\n        if (('max' in params && !isEmpty(params.max)) ||\n            ('min' in params && !isEmpty(params.min))) {\n            return new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            });\n        }\n        return null;\n    }\n    function createConstraint$4(params) {\n        const constraints = [];\n        const sc = createStepConstraint(params);\n        if (sc) {\n            constraints.push(sc);\n        }\n        const rc = createRangeConstraint(params);\n        if (rc) {\n            constraints.push(rc);\n        }\n        const lc = createListConstraint(params.options);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function findRange(constraint) {\n        const c = constraint ? findConstraint(constraint, RangeConstraint) : null;\n        if (!c) {\n            return [undefined, undefined];\n        }\n        return [c.minValue, c.maxValue];\n    }\n    function estimateSuitableRange(constraint) {\n        const [min, max] = findRange(constraint);\n        return [min !== null && min !== void 0 ? min : 0, max !== null && max !== void 0 ? max : 100];\n    }\n    const NumberInputPlugin = {\n        id: 'input-number',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'number') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                format: p.optional.function,\n                max: p.optional.number,\n                min: p.optional.number,\n                options: p.optional.custom(parseListOptions),\n                step: p.optional.number,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => numberFromUnknown,\n            constraint: (args) => createConstraint$4(args.params),\n            writer: (_args) => writePrimitive,\n        },\n        controller: (args) => {\n            var _a, _b;\n            const value = args.value;\n            const c = args.constraint;\n            if (c && findConstraint(c, ListConstraint)) {\n                return new ListController(args.document, {\n                    props: ValueMap.fromObject({\n                        options: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            const formatter = (_b = ('format' in args.params ? args.params.format : undefined)) !== null && _b !== void 0 ? _b : createNumberFormatter(getSuitableDecimalDigits(c, value.rawValue));\n            if (c && findConstraint(c, RangeConstraint)) {\n                const [min, max] = estimateSuitableRange(c);\n                return new SliderTextController(args.document, {\n                    baseStep: getBaseStep(c),\n                    parser: parseNumber,\n                    sliderProps: ValueMap.fromObject({\n                        maxValue: max,\n                        minValue: min,\n                    }),\n                    textProps: ValueMap.fromObject({\n                        draggingScale: getSuitableDraggingScale(c, value.rawValue),\n                        formatter: formatter,\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new NumberTextController(args.document, {\n                baseStep: getBaseStep(c),\n                parser: parseNumber,\n                props: ValueMap.fromObject({\n                    draggingScale: getSuitableDraggingScale(c, value.rawValue),\n                    formatter: formatter,\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class Point2d {\n        constructor(x = 0, y = 0) {\n            this.x = x;\n            this.y = y;\n        }\n        getComponents() {\n            return [this.x, this.y];\n        }\n        static isObject(obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            const x = obj.x;\n            const y = obj.y;\n            if (typeof x !== 'number' || typeof y !== 'number') {\n                return false;\n            }\n            return true;\n        }\n        static equals(v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y;\n        }\n        toObject() {\n            return {\n                x: this.x,\n                y: this.y,\n            };\n        }\n    }\n    const Point2dAssembly = {\n        toComponents: (p) => p.getComponents(),\n        fromComponents: (comps) => new Point2d(...comps),\n    };\n\n    const className$4 = ClassName('p2d');\n    class Point2dView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$4());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValue(config.expanded, valueToClassName(this.element, className$4(undefined, 'expanded')));\n            const headElem = doc.createElement('div');\n            headElem.classList.add(className$4('h'));\n            this.element.appendChild(headElem);\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$4('b'));\n            buttonElem.appendChild(createSvgIconElement(doc, 'p2dpad'));\n            config.viewProps.bindDisabled(buttonElem);\n            headElem.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            const textElem = doc.createElement('div');\n            textElem.classList.add(className$4('t'));\n            headElem.appendChild(textElem);\n            this.textElement = textElem;\n            if (config.pickerLayout === 'inline') {\n                const pickerElem = doc.createElement('div');\n                pickerElem.classList.add(className$4('p'));\n                this.element.appendChild(pickerElem);\n                this.pickerElement = pickerElem;\n            }\n            else {\n                this.pickerElement = null;\n            }\n        }\n    }\n\n    const className$3 = ClassName('p2dp');\n    class Point2dPickerView {\n        constructor(doc, config) {\n            this.onFoldableChange_ = this.onFoldableChange_.bind(this);\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.invertsY_ = config.invertsY;\n            this.maxValue_ = config.maxValue;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$3());\n            if (config.layout === 'popup') {\n                this.element.classList.add(className$3(undefined, 'p'));\n            }\n            const padElem = doc.createElement('div');\n            padElem.classList.add(className$3('p'));\n            config.viewProps.bindTabIndex(padElem);\n            this.element.appendChild(padElem);\n            this.padElement = padElem;\n            const svgElem = doc.createElementNS(SVG_NS, 'svg');\n            svgElem.classList.add(className$3('g'));\n            this.padElement.appendChild(svgElem);\n            this.svgElem_ = svgElem;\n            const xAxisElem = doc.createElementNS(SVG_NS, 'line');\n            xAxisElem.classList.add(className$3('ax'));\n            xAxisElem.setAttributeNS(null, 'x1', '0');\n            xAxisElem.setAttributeNS(null, 'y1', '50%');\n            xAxisElem.setAttributeNS(null, 'x2', '100%');\n            xAxisElem.setAttributeNS(null, 'y2', '50%');\n            this.svgElem_.appendChild(xAxisElem);\n            const yAxisElem = doc.createElementNS(SVG_NS, 'line');\n            yAxisElem.classList.add(className$3('ax'));\n            yAxisElem.setAttributeNS(null, 'x1', '50%');\n            yAxisElem.setAttributeNS(null, 'y1', '0');\n            yAxisElem.setAttributeNS(null, 'x2', '50%');\n            yAxisElem.setAttributeNS(null, 'y2', '100%');\n            this.svgElem_.appendChild(yAxisElem);\n            const lineElem = doc.createElementNS(SVG_NS, 'line');\n            lineElem.classList.add(className$3('l'));\n            lineElem.setAttributeNS(null, 'x1', '50%');\n            lineElem.setAttributeNS(null, 'y1', '50%');\n            this.svgElem_.appendChild(lineElem);\n            this.lineElem_ = lineElem;\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$3('m'));\n            this.padElement.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update_();\n        }\n        get allFocusableElements() {\n            return [this.padElement];\n        }\n        update_() {\n            const [x, y] = this.value.rawValue.getComponents();\n            const max = this.maxValue_;\n            const px = mapRange(x, -max, +max, 0, 100);\n            const py = mapRange(y, -max, +max, 0, 100);\n            const ipy = this.invertsY_ ? 100 - py : py;\n            this.lineElem_.setAttributeNS(null, 'x2', `${px}%`);\n            this.lineElem_.setAttributeNS(null, 'y2', `${ipy}%`);\n            this.markerElem_.style.left = `${px}%`;\n            this.markerElem_.style.top = `${ipy}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n        onFoldableChange_() {\n            this.update_();\n        }\n    }\n\n    function computeOffset(ev, baseSteps, invertsY) {\n        return [\n            getStepForKey(baseSteps[0], getHorizontalStepKeys(ev)),\n            getStepForKey(baseSteps[1], getVerticalStepKeys(ev)) * (invertsY ? 1 : -1),\n        ];\n    }\n    class Point2dPickerController {\n        constructor(doc, config) {\n            this.onPadKeyDown_ = this.onPadKeyDown_.bind(this);\n            this.onPadKeyUp_ = this.onPadKeyUp_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.baseSteps_ = config.baseSteps;\n            this.maxValue_ = config.maxValue;\n            this.invertsY_ = config.invertsY;\n            this.view = new Point2dPickerView(doc, {\n                invertsY: this.invertsY_,\n                layout: config.layout,\n                maxValue: this.maxValue_,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.padElement);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.padElement.addEventListener('keydown', this.onPadKeyDown_);\n            this.view.padElement.addEventListener('keyup', this.onPadKeyUp_);\n        }\n        handlePointerEvent_(d, opts) {\n            if (!d.point) {\n                return;\n            }\n            const max = this.maxValue_;\n            const px = mapRange(d.point.x, 0, d.bounds.width, -max, +max);\n            const py = mapRange(this.invertsY_ ? d.bounds.height - d.point.y : d.point.y, 0, d.bounds.height, -max, +max);\n            this.value.setRawValue(new Point2d(px, py), opts);\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onPadKeyDown_(ev) {\n            if (isArrowKey(ev.key)) {\n                ev.preventDefault();\n            }\n            const [dx, dy] = computeOffset(ev, this.baseSteps_, this.invertsY_);\n            if (dx === 0 && dy === 0) {\n                return;\n            }\n            this.value.setRawValue(new Point2d(this.value.rawValue.x + dx, this.value.rawValue.y + dy), {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPadKeyUp_(ev) {\n            const [dx, dy] = computeOffset(ev, this.baseSteps_, this.invertsY_);\n            if (dx === 0 && dy === 0) {\n                return;\n            }\n            this.value.setRawValue(this.value.rawValue, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n    }\n\n    class Point2dController {\n        constructor(doc, config) {\n            var _a, _b;\n            this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n            this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n            this.onPadButtonBlur_ = this.onPadButtonBlur_.bind(this);\n            this.onPadButtonClick_ = this.onPadButtonClick_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.foldable_ = Foldable.create(config.expanded);\n            this.popC_ =\n                config.pickerLayout === 'popup'\n                    ? new PopupController(doc, {\n                        viewProps: this.viewProps,\n                    })\n                    : null;\n            const padC = new Point2dPickerController(doc, {\n                baseSteps: [config.axes[0].baseStep, config.axes[1].baseStep],\n                invertsY: config.invertsY,\n                layout: config.pickerLayout,\n                maxValue: config.maxValue,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            padC.view.allFocusableElements.forEach((elem) => {\n                elem.addEventListener('blur', this.onPopupChildBlur_);\n                elem.addEventListener('keydown', this.onPopupChildKeydown_);\n            });\n            this.pickerC_ = padC;\n            this.textC_ = new PointNdTextController(doc, {\n                assembly: Point2dAssembly,\n                axes: config.axes,\n                parser: config.parser,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view = new Point2dView(doc, {\n                expanded: this.foldable_.value('expanded'),\n                pickerLayout: config.pickerLayout,\n                viewProps: this.viewProps,\n            });\n            this.view.textElement.appendChild(this.textC_.view.element);\n            (_a = this.view.buttonElement) === null || _a === void 0 ? void 0 : _a.addEventListener('blur', this.onPadButtonBlur_);\n            (_b = this.view.buttonElement) === null || _b === void 0 ? void 0 : _b.addEventListener('click', this.onPadButtonClick_);\n            if (this.popC_) {\n                this.view.element.appendChild(this.popC_.view.element);\n                this.popC_.view.element.appendChild(this.pickerC_.view.element);\n                connectValues({\n                    primary: this.foldable_.value('expanded'),\n                    secondary: this.popC_.shows,\n                    forward: (p) => p.rawValue,\n                    backward: (_, s) => s.rawValue,\n                });\n            }\n            else if (this.view.pickerElement) {\n                this.view.pickerElement.appendChild(this.pickerC_.view.element);\n                bindFoldable(this.foldable_, this.view.pickerElement);\n            }\n        }\n        onPadButtonBlur_(e) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.view.element;\n            const nextTarget = forceCast(e.relatedTarget);\n            if (!nextTarget || !elem.contains(nextTarget)) {\n                this.popC_.shows.rawValue = false;\n            }\n        }\n        onPadButtonClick_() {\n            this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n            if (this.foldable_.get('expanded')) {\n                this.pickerC_.view.allFocusableElements[0].focus();\n            }\n        }\n        onPopupChildBlur_(ev) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.popC_.view.element;\n            const nextTarget = findNextTarget(ev);\n            if (nextTarget && elem.contains(nextTarget)) {\n                return;\n            }\n            if (nextTarget &&\n                nextTarget === this.view.buttonElement &&\n                !supportsTouch(elem.ownerDocument)) {\n                return;\n            }\n            this.popC_.shows.rawValue = false;\n        }\n        onPopupChildKeydown_(ev) {\n            if (this.popC_) {\n                if (ev.key === 'Escape') {\n                    this.popC_.shows.rawValue = false;\n                }\n            }\n            else if (this.view.pickerElement) {\n                if (ev.key === 'Escape') {\n                    this.view.buttonElement.focus();\n                }\n            }\n        }\n    }\n\n    function point2dFromUnknown(value) {\n        return Point2d.isObject(value)\n            ? new Point2d(value.x, value.y)\n            : new Point2d();\n    }\n    function writePoint2d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n    }\n\n    function createDimensionConstraint$2(params) {\n        if (!params) {\n            return undefined;\n        }\n        const constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$3(params) {\n        return new PointNdConstraint({\n            assembly: Point2dAssembly,\n            components: [\n                createDimensionConstraint$2('x' in params ? params.x : undefined),\n                createDimensionConstraint$2('y' in params ? params.y : undefined),\n            ],\n        });\n    }\n    function getSuitableMaxDimensionValue(constraint, rawValue) {\n        const rc = constraint && findConstraint(constraint, RangeConstraint);\n        if (rc) {\n            return Math.max(Math.abs(rc.minValue || 0), Math.abs(rc.maxValue || 0));\n        }\n        const step = getBaseStep(constraint);\n        return Math.max(Math.abs(step) * 10, Math.abs(rawValue) * 10);\n    }\n    function getSuitableMaxValue(initialValue, constraint) {\n        const xc = constraint instanceof PointNdConstraint\n            ? constraint.components[0]\n            : undefined;\n        const yc = constraint instanceof PointNdConstraint\n            ? constraint.components[1]\n            : undefined;\n        const xr = getSuitableMaxDimensionValue(xc, initialValue.x);\n        const yr = getSuitableMaxDimensionValue(yc, initialValue.y);\n        return Math.max(xr, yr);\n    }\n    function createAxis$2(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            constraint: constraint,\n            textProps: ValueMap.fromObject({\n                draggingScale: getSuitableDraggingScale(constraint, initialValue),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n            }),\n        };\n    }\n    function shouldInvertY(params) {\n        if (!('y' in params)) {\n            return false;\n        }\n        const yParams = params.y;\n        if (!yParams) {\n            return false;\n        }\n        return 'inverted' in yParams ? !!yParams.inverted : false;\n    }\n    const Point2dInputPlugin = {\n        id: 'input-point2d',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Point2d.isObject(value)) {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                expanded: p.optional.boolean,\n                picker: p.optional.custom(parsePickerLayout),\n                x: p.optional.custom(parsePointDimensionParams),\n                y: p.optional.object({\n                    inverted: p.optional.boolean,\n                    max: p.optional.number,\n                    min: p.optional.number,\n                    step: p.optional.number,\n                }),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => point2dFromUnknown,\n            constraint: (args) => createConstraint$3(args.params),\n            equals: Point2d.equals,\n            writer: (_args) => writePoint2d,\n        },\n        controller: (args) => {\n            const doc = args.document;\n            const value = args.value;\n            const c = args.constraint;\n            if (!(c instanceof PointNdConstraint)) {\n                throw TpError.shouldNeverHappen();\n            }\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            return new Point2dController(doc, {\n                axes: [\n                    createAxis$2(value.rawValue.x, c.components[0]),\n                    createAxis$2(value.rawValue.y, c.components[1]),\n                ],\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                invertsY: shouldInvertY(args.params),\n                maxValue: getSuitableMaxValue(value.rawValue, c),\n                parser: parseNumber,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class Point3d {\n        constructor(x = 0, y = 0, z = 0) {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n        }\n        getComponents() {\n            return [this.x, this.y, this.z];\n        }\n        static isObject(obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            const x = obj.x;\n            const y = obj.y;\n            const z = obj.z;\n            if (typeof x !== 'number' ||\n                typeof y !== 'number' ||\n                typeof z !== 'number') {\n                return false;\n            }\n            return true;\n        }\n        static equals(v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z;\n        }\n        toObject() {\n            return {\n                x: this.x,\n                y: this.y,\n                z: this.z,\n            };\n        }\n    }\n    const Point3dAssembly = {\n        toComponents: (p) => p.getComponents(),\n        fromComponents: (comps) => new Point3d(...comps),\n    };\n\n    function point3dFromUnknown(value) {\n        return Point3d.isObject(value)\n            ? new Point3d(value.x, value.y, value.z)\n            : new Point3d();\n    }\n    function writePoint3d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n        target.writeProperty('z', value.z);\n    }\n\n    function createDimensionConstraint$1(params) {\n        if (!params) {\n            return undefined;\n        }\n        const constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$2(params) {\n        return new PointNdConstraint({\n            assembly: Point3dAssembly,\n            components: [\n                createDimensionConstraint$1('x' in params ? params.x : undefined),\n                createDimensionConstraint$1('y' in params ? params.y : undefined),\n                createDimensionConstraint$1('z' in params ? params.z : undefined),\n            ],\n        });\n    }\n    function createAxis$1(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            constraint: constraint,\n            textProps: ValueMap.fromObject({\n                draggingScale: getSuitableDraggingScale(constraint, initialValue),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n            }),\n        };\n    }\n    const Point3dInputPlugin = {\n        id: 'input-point3d',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Point3d.isObject(value)) {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                x: p.optional.custom(parsePointDimensionParams),\n                y: p.optional.custom(parsePointDimensionParams),\n                z: p.optional.custom(parsePointDimensionParams),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => point3dFromUnknown,\n            constraint: (args) => createConstraint$2(args.params),\n            equals: Point3d.equals,\n            writer: (_args) => writePoint3d,\n        },\n        controller: (args) => {\n            const value = args.value;\n            const c = args.constraint;\n            if (!(c instanceof PointNdConstraint)) {\n                throw TpError.shouldNeverHappen();\n            }\n            return new PointNdTextController(args.document, {\n                assembly: Point3dAssembly,\n                axes: [\n                    createAxis$1(value.rawValue.x, c.components[0]),\n                    createAxis$1(value.rawValue.y, c.components[1]),\n                    createAxis$1(value.rawValue.z, c.components[2]),\n                ],\n                parser: parseNumber,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class Point4d {\n        constructor(x = 0, y = 0, z = 0, w = 0) {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n            this.w = w;\n        }\n        getComponents() {\n            return [this.x, this.y, this.z, this.w];\n        }\n        static isObject(obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            const x = obj.x;\n            const y = obj.y;\n            const z = obj.z;\n            const w = obj.w;\n            if (typeof x !== 'number' ||\n                typeof y !== 'number' ||\n                typeof z !== 'number' ||\n                typeof w !== 'number') {\n                return false;\n            }\n            return true;\n        }\n        static equals(v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z && v1.w === v2.w;\n        }\n        toObject() {\n            return {\n                x: this.x,\n                y: this.y,\n                z: this.z,\n                w: this.w,\n            };\n        }\n    }\n    const Point4dAssembly = {\n        toComponents: (p) => p.getComponents(),\n        fromComponents: (comps) => new Point4d(...comps),\n    };\n\n    function point4dFromUnknown(value) {\n        return Point4d.isObject(value)\n            ? new Point4d(value.x, value.y, value.z, value.w)\n            : new Point4d();\n    }\n    function writePoint4d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n        target.writeProperty('z', value.z);\n        target.writeProperty('w', value.w);\n    }\n\n    function createDimensionConstraint(params) {\n        if (!params) {\n            return undefined;\n        }\n        const constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$1(params) {\n        return new PointNdConstraint({\n            assembly: Point4dAssembly,\n            components: [\n                createDimensionConstraint('x' in params ? params.x : undefined),\n                createDimensionConstraint('y' in params ? params.y : undefined),\n                createDimensionConstraint('z' in params ? params.z : undefined),\n                createDimensionConstraint('w' in params ? params.w : undefined),\n            ],\n        });\n    }\n    function createAxis(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            constraint: constraint,\n            textProps: ValueMap.fromObject({\n                draggingScale: getSuitableDraggingScale(constraint, initialValue),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n            }),\n        };\n    }\n    const Point4dInputPlugin = {\n        id: 'input-point4d',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Point4d.isObject(value)) {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                x: p.optional.custom(parsePointDimensionParams),\n                y: p.optional.custom(parsePointDimensionParams),\n                z: p.optional.custom(parsePointDimensionParams),\n                w: p.optional.custom(parsePointDimensionParams),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => point4dFromUnknown,\n            constraint: (args) => createConstraint$1(args.params),\n            equals: Point4d.equals,\n            writer: (_args) => writePoint4d,\n        },\n        controller: (args) => {\n            const value = args.value;\n            const c = args.constraint;\n            if (!(c instanceof PointNdConstraint)) {\n                throw TpError.shouldNeverHappen();\n            }\n            return new PointNdTextController(args.document, {\n                assembly: Point4dAssembly,\n                axes: value.rawValue\n                    .getComponents()\n                    .map((comp, index) => createAxis(comp, c.components[index])),\n                parser: parseNumber,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    function createConstraint(params) {\n        const constraints = [];\n        const lc = createListConstraint(params.options);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    const StringInputPlugin = {\n        id: 'input-string',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'string') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                options: p.optional.custom(parseListOptions),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => stringFromUnknown,\n            constraint: (args) => createConstraint(args.params),\n            writer: (_args) => writePrimitive,\n        },\n        controller: (args) => {\n            var _a;\n            const doc = args.document;\n            const value = args.value;\n            const c = args.constraint;\n            if (c && findConstraint(c, ListConstraint)) {\n                return new ListController(doc, {\n                    props: ValueMap.fromObject({\n                        options: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new TextController(doc, {\n                parser: (v) => v,\n                props: ValueMap.fromObject({\n                    formatter: formatString,\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    const Constants = {\n        monitor: {\n            defaultInterval: 200,\n            defaultLineCount: 3,\n        },\n    };\n\n    const className$2 = ClassName('mll');\n    class MultiLogView {\n        constructor(doc, config) {\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.formatter_ = config.formatter;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$2());\n            config.viewProps.bindClassModifiers(this.element);\n            const textareaElem = doc.createElement('textarea');\n            textareaElem.classList.add(className$2('i'));\n            textareaElem.style.height = `calc(var(--bld-us) * ${config.lineCount})`;\n            textareaElem.readOnly = true;\n            config.viewProps.bindDisabled(textareaElem);\n            this.element.appendChild(textareaElem);\n            this.textareaElem_ = textareaElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            const elem = this.textareaElem_;\n            const shouldScroll = elem.scrollTop === elem.scrollHeight - elem.clientHeight;\n            const lines = [];\n            this.value.rawValue.forEach((value) => {\n                if (value !== undefined) {\n                    lines.push(this.formatter_(value));\n                }\n            });\n            elem.textContent = lines.join('\\n');\n            if (shouldScroll) {\n                elem.scrollTop = elem.scrollHeight;\n            }\n        }\n        onValueUpdate_() {\n            this.update_();\n        }\n    }\n\n    class MultiLogController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new MultiLogView(doc, {\n                formatter: config.formatter,\n                lineCount: config.lineCount,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    const className$1 = ClassName('sgl');\n    class SingleLogView {\n        constructor(doc, config) {\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.formatter_ = config.formatter;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$1());\n            config.viewProps.bindClassModifiers(this.element);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$1('i'));\n            inputElem.readOnly = true;\n            inputElem.type = 'text';\n            config.viewProps.bindDisabled(inputElem);\n            this.element.appendChild(inputElem);\n            this.inputElement = inputElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            const values = this.value.rawValue;\n            const lastValue = values[values.length - 1];\n            this.inputElement.value =\n                lastValue !== undefined ? this.formatter_(lastValue) : '';\n        }\n        onValueUpdate_() {\n            this.update_();\n        }\n    }\n\n    class SingleLogController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new SingleLogView(doc, {\n                formatter: config.formatter,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    const BooleanMonitorPlugin = {\n        id: 'monitor-bool',\n        type: 'monitor',\n        accept: (value, params) => {\n            if (typeof value !== 'boolean') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                lineCount: p.optional.number,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => boolFromUnknown,\n        },\n        controller: (args) => {\n            var _a;\n            if (args.value.rawValue.length === 1) {\n                return new SingleLogController(args.document, {\n                    formatter: BooleanFormatter,\n                    value: args.value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new MultiLogController(args.document, {\n                formatter: BooleanFormatter,\n                lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class GraphCursor {\n        constructor() {\n            this.emitter = new Emitter();\n            this.index_ = -1;\n        }\n        get index() {\n            return this.index_;\n        }\n        set index(index) {\n            const changed = this.index_ !== index;\n            if (changed) {\n                this.index_ = index;\n                this.emitter.emit('change', {\n                    index: index,\n                    sender: this,\n                });\n            }\n        }\n    }\n\n    const className = ClassName('grl');\n    class GraphLogView {\n        constructor(doc, config) {\n            this.onCursorChange_ = this.onCursorChange_.bind(this);\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className());\n            config.viewProps.bindClassModifiers(this.element);\n            this.formatter_ = config.formatter;\n            this.minValue_ = config.minValue;\n            this.maxValue_ = config.maxValue;\n            this.cursor_ = config.cursor;\n            this.cursor_.emitter.on('change', this.onCursorChange_);\n            const svgElem = doc.createElementNS(SVG_NS, 'svg');\n            svgElem.classList.add(className('g'));\n            svgElem.style.height = `calc(var(--bld-us) * ${config.lineCount})`;\n            this.element.appendChild(svgElem);\n            this.svgElem_ = svgElem;\n            const lineElem = doc.createElementNS(SVG_NS, 'polyline');\n            this.svgElem_.appendChild(lineElem);\n            this.lineElem_ = lineElem;\n            const tooltipElem = doc.createElement('div');\n            tooltipElem.classList.add(className('t'), ClassName('tt')());\n            this.element.appendChild(tooltipElem);\n            this.tooltipElem_ = tooltipElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update_();\n        }\n        get graphElement() {\n            return this.svgElem_;\n        }\n        update_() {\n            const bounds = this.svgElem_.getBoundingClientRect();\n            const maxIndex = this.value.rawValue.length - 1;\n            const min = this.minValue_;\n            const max = this.maxValue_;\n            const points = [];\n            this.value.rawValue.forEach((v, index) => {\n                if (v === undefined) {\n                    return;\n                }\n                const x = mapRange(index, 0, maxIndex, 0, bounds.width);\n                const y = mapRange(v, min, max, bounds.height, 0);\n                points.push([x, y].join(','));\n            });\n            this.lineElem_.setAttributeNS(null, 'points', points.join(' '));\n            const tooltipElem = this.tooltipElem_;\n            const value = this.value.rawValue[this.cursor_.index];\n            if (value === undefined) {\n                tooltipElem.classList.remove(className('t', 'a'));\n                return;\n            }\n            const tx = mapRange(this.cursor_.index, 0, maxIndex, 0, bounds.width);\n            const ty = mapRange(value, min, max, bounds.height, 0);\n            tooltipElem.style.left = `${tx}px`;\n            tooltipElem.style.top = `${ty}px`;\n            tooltipElem.textContent = `${this.formatter_(value)}`;\n            if (!tooltipElem.classList.contains(className('t', 'a'))) {\n                tooltipElem.classList.add(className('t', 'a'), className('t', 'in'));\n                forceReflow(tooltipElem);\n                tooltipElem.classList.remove(className('t', 'in'));\n            }\n        }\n        onValueUpdate_() {\n            this.update_();\n        }\n        onCursorChange_() {\n            this.update_();\n        }\n    }\n\n    class GraphLogController {\n        constructor(doc, config) {\n            this.onGraphMouseMove_ = this.onGraphMouseMove_.bind(this);\n            this.onGraphMouseLeave_ = this.onGraphMouseLeave_.bind(this);\n            this.onGraphPointerDown_ = this.onGraphPointerDown_.bind(this);\n            this.onGraphPointerMove_ = this.onGraphPointerMove_.bind(this);\n            this.onGraphPointerUp_ = this.onGraphPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.cursor_ = new GraphCursor();\n            this.view = new GraphLogView(doc, {\n                cursor: this.cursor_,\n                formatter: config.formatter,\n                lineCount: config.lineCount,\n                maxValue: config.maxValue,\n                minValue: config.minValue,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            if (!supportsTouch(doc)) {\n                this.view.element.addEventListener('mousemove', this.onGraphMouseMove_);\n                this.view.element.addEventListener('mouseleave', this.onGraphMouseLeave_);\n            }\n            else {\n                const ph = new PointerHandler(this.view.element);\n                ph.emitter.on('down', this.onGraphPointerDown_);\n                ph.emitter.on('move', this.onGraphPointerMove_);\n                ph.emitter.on('up', this.onGraphPointerUp_);\n            }\n        }\n        onGraphMouseLeave_() {\n            this.cursor_.index = -1;\n        }\n        onGraphMouseMove_(ev) {\n            const bounds = this.view.element.getBoundingClientRect();\n            this.cursor_.index = Math.floor(mapRange(ev.offsetX, 0, bounds.width, 0, this.value.rawValue.length));\n        }\n        onGraphPointerDown_(ev) {\n            this.onGraphPointerMove_(ev);\n        }\n        onGraphPointerMove_(ev) {\n            if (!ev.data.point) {\n                this.cursor_.index = -1;\n                return;\n            }\n            this.cursor_.index = Math.floor(mapRange(ev.data.point.x, 0, ev.data.bounds.width, 0, this.value.rawValue.length));\n        }\n        onGraphPointerUp_() {\n            this.cursor_.index = -1;\n        }\n    }\n\n    function createFormatter(params) {\n        return 'format' in params && !isEmpty(params.format)\n            ? params.format\n            : createNumberFormatter(2);\n    }\n    function createTextMonitor(args) {\n        var _a;\n        if (args.value.rawValue.length === 1) {\n            return new SingleLogController(args.document, {\n                formatter: createFormatter(args.params),\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new MultiLogController(args.document, {\n            formatter: createFormatter(args.params),\n            lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    }\n    function createGraphMonitor(args) {\n        var _a, _b, _c;\n        return new GraphLogController(args.document, {\n            formatter: createFormatter(args.params),\n            lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n            maxValue: (_b = ('max' in args.params ? args.params.max : null)) !== null && _b !== void 0 ? _b : 100,\n            minValue: (_c = ('min' in args.params ? args.params.min : null)) !== null && _c !== void 0 ? _c : 0,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    }\n    function shouldShowGraph(params) {\n        return 'view' in params && params.view === 'graph';\n    }\n    const NumberMonitorPlugin = {\n        id: 'monitor-number',\n        type: 'monitor',\n        accept: (value, params) => {\n            if (typeof value !== 'number') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                format: p.optional.function,\n                lineCount: p.optional.number,\n                max: p.optional.number,\n                min: p.optional.number,\n                view: p.optional.string,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            defaultBufferSize: (params) => (shouldShowGraph(params) ? 64 : 1),\n            reader: (_args) => numberFromUnknown,\n        },\n        controller: (args) => {\n            if (shouldShowGraph(args.params)) {\n                return createGraphMonitor(args);\n            }\n            return createTextMonitor(args);\n        },\n    };\n\n    const StringMonitorPlugin = {\n        id: 'monitor-string',\n        type: 'monitor',\n        accept: (value, params) => {\n            if (typeof value !== 'string') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                lineCount: p.optional.number,\n                multiline: p.optional.boolean,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => stringFromUnknown,\n        },\n        controller: (args) => {\n            var _a;\n            const value = args.value;\n            const multiline = value.rawValue.length > 1 ||\n                ('multiline' in args.params && args.params.multiline);\n            if (multiline) {\n                return new MultiLogController(args.document, {\n                    formatter: formatString,\n                    lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new SingleLogController(args.document, {\n                formatter: formatString,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class InputBinding {\n        constructor(config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.reader = config.reader;\n            this.writer = config.writer;\n            this.emitter = new Emitter();\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.target = config.target;\n            this.read();\n        }\n        read() {\n            const targetValue = this.target.read();\n            if (targetValue !== undefined) {\n                this.value.rawValue = this.reader(targetValue);\n            }\n        }\n        write_(rawValue) {\n            this.writer(this.target, rawValue);\n        }\n        onValueChange_(ev) {\n            this.write_(ev.rawValue);\n            this.emitter.emit('change', {\n                options: ev.options,\n                rawValue: ev.rawValue,\n                sender: this,\n            });\n        }\n    }\n\n    function createInputBindingController(plugin, args) {\n        const result = plugin.accept(args.target.read(), args.params);\n        if (isEmpty(result)) {\n            return null;\n        }\n        const p = ParamsParsers;\n        const valueArgs = {\n            target: args.target,\n            initialValue: result.initialValue,\n            params: result.params,\n        };\n        const reader = plugin.binding.reader(valueArgs);\n        const constraint = plugin.binding.constraint\n            ? plugin.binding.constraint(valueArgs)\n            : undefined;\n        const value = createValue(reader(result.initialValue), {\n            constraint: constraint,\n            equals: plugin.binding.equals,\n        });\n        const binding = new InputBinding({\n            reader: reader,\n            target: args.target,\n            value: value,\n            writer: plugin.binding.writer(valueArgs),\n        });\n        const disabled = p.optional.boolean(args.params.disabled).value;\n        const hidden = p.optional.boolean(args.params.hidden).value;\n        const controller = plugin.controller({\n            constraint: constraint,\n            document: args.document,\n            initialValue: result.initialValue,\n            params: result.params,\n            value: binding.value,\n            viewProps: ViewProps.create({\n                disabled: disabled,\n                hidden: hidden,\n            }),\n        });\n        const label = p.optional.string(args.params.label).value;\n        return new InputBindingController(args.document, {\n            binding: binding,\n            blade: createBlade(),\n            props: ValueMap.fromObject({\n                label: label || args.target.key,\n            }),\n            valueController: controller,\n        });\n    }\n\n    class MonitorBinding {\n        constructor(config) {\n            this.onTick_ = this.onTick_.bind(this);\n            this.reader_ = config.reader;\n            this.target = config.target;\n            this.emitter = new Emitter();\n            this.value = config.value;\n            this.ticker = config.ticker;\n            this.ticker.emitter.on('tick', this.onTick_);\n            this.read();\n        }\n        dispose() {\n            this.ticker.dispose();\n        }\n        read() {\n            const targetValue = this.target.read();\n            if (targetValue === undefined) {\n                return;\n            }\n            const buffer = this.value.rawValue;\n            const newValue = this.reader_(targetValue);\n            this.value.rawValue = createPushedBuffer(buffer, newValue);\n            this.emitter.emit('update', {\n                rawValue: newValue,\n                sender: this,\n            });\n        }\n        onTick_(_) {\n            this.read();\n        }\n    }\n\n    function createTicker(document, interval) {\n        return interval === 0\n            ? new ManualTicker()\n            : new IntervalTicker(document, interval !== null && interval !== void 0 ? interval : Constants.monitor.defaultInterval);\n    }\n    function createMonitorBindingController(plugin, args) {\n        var _a, _b, _c;\n        const P = ParamsParsers;\n        const result = plugin.accept(args.target.read(), args.params);\n        if (isEmpty(result)) {\n            return null;\n        }\n        const bindingArgs = {\n            target: args.target,\n            initialValue: result.initialValue,\n            params: result.params,\n        };\n        const reader = plugin.binding.reader(bindingArgs);\n        const bufferSize = (_b = (_a = P.optional.number(args.params.bufferSize).value) !== null && _a !== void 0 ? _a : (plugin.binding.defaultBufferSize &&\n            plugin.binding.defaultBufferSize(result.params))) !== null && _b !== void 0 ? _b : 1;\n        const interval = P.optional.number(args.params.interval).value;\n        const binding = new MonitorBinding({\n            reader: reader,\n            target: args.target,\n            ticker: createTicker(args.document, interval),\n            value: initializeBuffer(bufferSize),\n        });\n        const disabled = P.optional.boolean(args.params.disabled).value;\n        const hidden = P.optional.boolean(args.params.hidden).value;\n        const controller = plugin.controller({\n            document: args.document,\n            params: result.params,\n            value: binding.value,\n            viewProps: ViewProps.create({\n                disabled: disabled,\n                hidden: hidden,\n            }),\n        });\n        const label = (_c = P.optional.string(args.params.label).value) !== null && _c !== void 0 ? _c : args.target.key;\n        return new MonitorBindingController(args.document, {\n            binding: binding,\n            blade: createBlade(),\n            props: ValueMap.fromObject({\n                label: label,\n            }),\n            valueController: controller,\n        });\n    }\n\n    class PluginPool {\n        constructor() {\n            this.pluginsMap_ = {\n                blades: [],\n                inputs: [],\n                monitors: [],\n            };\n        }\n        getAll() {\n            return [\n                ...this.pluginsMap_.blades,\n                ...this.pluginsMap_.inputs,\n                ...this.pluginsMap_.monitors,\n            ];\n        }\n        register(r) {\n            if (r.type === 'blade') {\n                this.pluginsMap_.blades.unshift(r);\n            }\n            else if (r.type === 'input') {\n                this.pluginsMap_.inputs.unshift(r);\n            }\n            else if (r.type === 'monitor') {\n                this.pluginsMap_.monitors.unshift(r);\n            }\n        }\n        createInput(document, target, params) {\n            const initialValue = target.read();\n            if (isEmpty(initialValue)) {\n                throw new TpError({\n                    context: {\n                        key: target.key,\n                    },\n                    type: 'nomatchingcontroller',\n                });\n            }\n            const bc = this.pluginsMap_.inputs.reduce((result, plugin) => result ||\n                createInputBindingController(plugin, {\n                    document: document,\n                    target: target,\n                    params: params,\n                }), null);\n            if (bc) {\n                return bc;\n            }\n            throw new TpError({\n                context: {\n                    key: target.key,\n                },\n                type: 'nomatchingcontroller',\n            });\n        }\n        createMonitor(document, target, params) {\n            const bc = this.pluginsMap_.monitors.reduce((result, plugin) => result ||\n                createMonitorBindingController(plugin, {\n                    document: document,\n                    params: params,\n                    target: target,\n                }), null);\n            if (bc) {\n                return bc;\n            }\n            throw new TpError({\n                context: {\n                    key: target.key,\n                },\n                type: 'nomatchingcontroller',\n            });\n        }\n        createBlade(document, params) {\n            const bc = this.pluginsMap_.blades.reduce((result, plugin) => result ||\n                createBladeController(plugin, {\n                    document: document,\n                    params: params,\n                }), null);\n            if (!bc) {\n                throw new TpError({\n                    type: 'nomatchingview',\n                    context: {\n                        params: params,\n                    },\n                });\n            }\n            return bc;\n        }\n        createBladeApi(bc) {\n            if (bc instanceof InputBindingController) {\n                return new InputBindingApi(bc);\n            }\n            if (bc instanceof MonitorBindingController) {\n                return new MonitorBindingApi(bc);\n            }\n            if (bc instanceof RackController) {\n                return new RackApi(bc, this);\n            }\n            const api = this.pluginsMap_.blades.reduce((result, plugin) => result ||\n                plugin.api({\n                    controller: bc,\n                    pool: this,\n                }), null);\n            if (!api) {\n                throw TpError.shouldNeverHappen();\n            }\n            return api;\n        }\n    }\n\n    function createDefaultPluginPool() {\n        const pool = new PluginPool();\n        [\n            Point2dInputPlugin,\n            Point3dInputPlugin,\n            Point4dInputPlugin,\n            StringInputPlugin,\n            NumberInputPlugin,\n            StringColorInputPlugin,\n            ObjectColorInputPlugin,\n            NumberColorInputPlugin,\n            BooleanInputPlugin,\n            BooleanMonitorPlugin,\n            StringMonitorPlugin,\n            NumberMonitorPlugin,\n            ButtonBladePlugin,\n            FolderBladePlugin,\n            SeparatorBladePlugin,\n            TabBladePlugin,\n        ].forEach((p) => {\n            pool.register(p);\n        });\n        return pool;\n    }\n\n    class ListApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.emitter_ = new Emitter();\n            this.controller_.valueController.value.emitter.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(this, ev.rawValue),\n                });\n            });\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get options() {\n            return this.controller_.valueController.props.get('options');\n        }\n        set options(options) {\n            this.controller_.valueController.props.set('options', options);\n        }\n        get value() {\n            return this.controller_.valueController.value.rawValue;\n        }\n        set value(value) {\n            this.controller_.valueController.value.rawValue = value;\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    class SliderApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.emitter_ = new Emitter();\n            this.controller_.valueController.value.emitter.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(this, ev.rawValue),\n                });\n            });\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get maxValue() {\n            return this.controller_.valueController.sliderController.props.get('maxValue');\n        }\n        set maxValue(maxValue) {\n            this.controller_.valueController.sliderController.props.set('maxValue', maxValue);\n        }\n        get minValue() {\n            return this.controller_.valueController.sliderController.props.get('minValue');\n        }\n        set minValue(minValue) {\n            this.controller_.valueController.sliderController.props.set('minValue', minValue);\n        }\n        get value() {\n            return this.controller_.valueController.value.rawValue;\n        }\n        set value(value) {\n            this.controller_.valueController.value.rawValue = value;\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    class TextApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.emitter_ = new Emitter();\n            this.controller_.valueController.value.emitter.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(this, ev.rawValue),\n                });\n            });\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get formatter() {\n            return this.controller_.valueController.props.get('formatter');\n        }\n        set formatter(formatter) {\n            this.controller_.valueController.props.set('formatter', formatter);\n        }\n        get value() {\n            return this.controller_.valueController.value.rawValue;\n        }\n        set value(value) {\n            this.controller_.valueController.value.rawValue = value;\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    const ListBladePlugin = (function () {\n        return {\n            id: 'list',\n            type: 'blade',\n            accept(params) {\n                const p = ParamsParsers;\n                const result = parseParams(params, {\n                    options: p.required.custom(parseListOptions),\n                    value: p.required.raw,\n                    view: p.required.constant('list'),\n                    label: p.optional.string,\n                });\n                return result ? { params: result } : null;\n            },\n            controller(args) {\n                const ic = new ListController(args.document, {\n                    props: ValueMap.fromObject({\n                        options: normalizeListOptions(args.params.options),\n                    }),\n                    value: createValue(args.params.value),\n                    viewProps: args.viewProps,\n                });\n                return new LabeledValueController(args.document, {\n                    blade: args.blade,\n                    props: ValueMap.fromObject({\n                        label: args.params.label,\n                    }),\n                    valueController: ic,\n                });\n            },\n            api(args) {\n                if (!(args.controller instanceof LabeledValueController)) {\n                    return null;\n                }\n                if (!(args.controller.valueController instanceof ListController)) {\n                    return null;\n                }\n                return new ListApi(args.controller);\n            },\n        };\n    })();\n\n    /**\n     * @hidden\n     */\n    function exportPresetJson(targets) {\n        return targets.reduce((result, target) => {\n            return Object.assign(result, {\n                [target.presetKey]: target.read(),\n            });\n        }, {});\n    }\n    /**\n     * @hidden\n     */\n    function importPresetJson(targets, preset) {\n        targets.forEach((target) => {\n            const value = preset[target.presetKey];\n            if (value !== undefined) {\n                target.write(value);\n            }\n        });\n    }\n\n    class RootApi extends FolderApi {\n        /**\n         * @hidden\n         */\n        constructor(controller, pool) {\n            super(controller, pool);\n        }\n        get element() {\n            return this.controller_.view.element;\n        }\n        /**\n         * Imports a preset of all inputs.\n         * @param preset The preset object to import.\n         */\n        importPreset(preset) {\n            const targets = this.controller_.rackController.rack\n                .find(InputBindingController)\n                .map((ibc) => {\n                return ibc.binding.target;\n            });\n            importPresetJson(targets, preset);\n            this.refresh();\n        }\n        /**\n         * Exports a preset of all inputs.\n         * @return An exported preset object.\n         */\n        exportPreset() {\n            const targets = this.controller_.rackController.rack\n                .find(InputBindingController)\n                .map((ibc) => {\n                return ibc.binding.target;\n            });\n            return exportPresetJson(targets);\n        }\n        /**\n         * Refreshes all bindings of the pane.\n         */\n        refresh() {\n            // Force-read all input bindings\n            this.controller_.rackController.rack\n                .find(InputBindingController)\n                .forEach((ibc) => {\n                ibc.binding.read();\n            });\n            // Force-read all monitor bindings\n            this.controller_.rackController.rack\n                .find(MonitorBindingController)\n                .forEach((mbc) => {\n                mbc.binding.read();\n            });\n        }\n    }\n\n    class RootController extends FolderController {\n        constructor(doc, config) {\n            super(doc, {\n                expanded: config.expanded,\n                blade: config.blade,\n                props: config.props,\n                root: true,\n                viewProps: config.viewProps,\n            });\n        }\n    }\n\n    const SliderBladePlugin = {\n        id: 'slider',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                max: p.required.number,\n                min: p.required.number,\n                view: p.required.constant('slider'),\n                format: p.optional.function,\n                label: p.optional.string,\n                value: p.optional.number,\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            var _a, _b;\n            const v = (_a = args.params.value) !== null && _a !== void 0 ? _a : 0;\n            const vc = new SliderTextController(args.document, {\n                baseStep: 1,\n                parser: parseNumber,\n                sliderProps: ValueMap.fromObject({\n                    maxValue: args.params.max,\n                    minValue: args.params.min,\n                }),\n                textProps: ValueMap.fromObject({\n                    draggingScale: getSuitableDraggingScale(undefined, v),\n                    formatter: (_b = args.params.format) !== null && _b !== void 0 ? _b : numberToString,\n                }),\n                value: createValue(v),\n                viewProps: args.viewProps,\n            });\n            return new LabeledValueController(args.document, {\n                blade: args.blade,\n                props: ValueMap.fromObject({\n                    label: args.params.label,\n                }),\n                valueController: vc,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof LabeledValueController)) {\n                return null;\n            }\n            if (!(args.controller.valueController instanceof SliderTextController)) {\n                return null;\n            }\n            return new SliderApi(args.controller);\n        },\n    };\n\n    const TextBladePlugin = (function () {\n        return {\n            id: 'text',\n            type: 'blade',\n            accept(params) {\n                const p = ParamsParsers;\n                const result = parseParams(params, {\n                    parse: p.required.function,\n                    value: p.required.raw,\n                    view: p.required.constant('text'),\n                    format: p.optional.function,\n                    label: p.optional.string,\n                });\n                return result ? { params: result } : null;\n            },\n            controller(args) {\n                var _a;\n                const ic = new TextController(args.document, {\n                    parser: args.params.parse,\n                    props: ValueMap.fromObject({\n                        formatter: (_a = args.params.format) !== null && _a !== void 0 ? _a : ((v) => String(v)),\n                    }),\n                    value: createValue(args.params.value),\n                    viewProps: args.viewProps,\n                });\n                return new LabeledValueController(args.document, {\n                    blade: args.blade,\n                    props: ValueMap.fromObject({\n                        label: args.params.label,\n                    }),\n                    valueController: ic,\n                });\n            },\n            api(args) {\n                if (!(args.controller instanceof LabeledValueController)) {\n                    return null;\n                }\n                if (!(args.controller.valueController instanceof TextController)) {\n                    return null;\n                }\n                return new TextApi(args.controller);\n            },\n        };\n    })();\n\n    function createDefaultWrapperElement(doc) {\n        const elem = doc.createElement('div');\n        elem.classList.add(ClassName('dfw')());\n        if (doc.body) {\n            doc.body.appendChild(elem);\n        }\n        return elem;\n    }\n    function embedStyle(doc, id, css) {\n        if (doc.querySelector(`style[data-tp-style=${id}]`)) {\n            return;\n        }\n        const styleElem = doc.createElement('style');\n        styleElem.dataset.tpStyle = id;\n        styleElem.textContent = css;\n        doc.head.appendChild(styleElem);\n    }\n    /**\n     * The root pane of Tweakpane.\n     */\n    class Pane extends RootApi {\n        constructor(opt_config) {\n            var _a;\n            const config = opt_config || {};\n            const doc = (_a = config.document) !== null && _a !== void 0 ? _a : getWindowDocument();\n            const pool = createDefaultPluginPool();\n            const rootController = new RootController(doc, {\n                expanded: config.expanded,\n                blade: createBlade(),\n                props: ValueMap.fromObject({\n                    title: config.title,\n                }),\n                viewProps: ViewProps.create(),\n            });\n            super(rootController, pool);\n            this.pool_ = pool;\n            this.containerElem_ = config.container || createDefaultWrapperElement(doc);\n            this.containerElem_.appendChild(this.element);\n            this.doc_ = doc;\n            this.usesDefaultWrapper_ = !config.container;\n            this.setUpDefaultPlugins_();\n        }\n        get document() {\n            if (!this.doc_) {\n                throw TpError.alreadyDisposed();\n            }\n            return this.doc_;\n        }\n        dispose() {\n            const containerElem = this.containerElem_;\n            if (!containerElem) {\n                throw TpError.alreadyDisposed();\n            }\n            if (this.usesDefaultWrapper_) {\n                const parentElem = containerElem.parentElement;\n                if (parentElem) {\n                    parentElem.removeChild(containerElem);\n                }\n            }\n            this.containerElem_ = null;\n            this.doc_ = null;\n            super.dispose();\n        }\n        registerPlugin(bundle) {\n            const plugins = 'plugin' in bundle\n                ? [bundle.plugin]\n                : 'plugins' in bundle\n                    ? bundle.plugins\n                    : [];\n            plugins.forEach((p) => {\n                this.pool_.register(p);\n                this.embedPluginStyle_(p);\n            });\n        }\n        embedPluginStyle_(plugin) {\n            if (plugin.css) {\n                embedStyle(this.document, `plugin-${plugin.id}`, plugin.css);\n            }\n        }\n        setUpDefaultPlugins_() {\n            // NOTE: This string literal will be replaced with the default CSS by Rollup at the compilation time\n            embedStyle(this.document, 'default', '.tp-lstv_s,.tp-btnv_b,.tp-p2dv_b,.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i,.tp-grlv_g,.tp-sglv_i,.tp-mllv_i,.tp-fldv_b,.tp-rotv_b,.tp-ckbv_i,.tp-coltxtv_ms,.tp-tbiv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-lstv_s,.tp-btnv_b,.tp-p2dv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-lstv_s:hover,.tp-btnv_b:hover,.tp-p2dv_b:hover{background-color:var(--btn-bg-h)}.tp-lstv_s:focus,.tp-btnv_b:focus,.tp-p2dv_b:focus{background-color:var(--btn-bg-f)}.tp-lstv_s:active,.tp-btnv_b:active,.tp-p2dv_b:active{background-color:var(--btn-bg-a)}.tp-lstv_s:disabled,.tp-btnv_b:disabled,.tp-p2dv_b:disabled{opacity:0.5}.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-colswv_sw:hover,.tp-p2dpv_p:hover,.tp-txtv_i:hover{background-color:var(--in-bg-h)}.tp-colswv_sw:focus,.tp-p2dpv_p:focus,.tp-txtv_i:focus{background-color:var(--in-bg-f)}.tp-colswv_sw:active,.tp-p2dpv_p:active,.tp-txtv_i:active{background-color:var(--in-bg-a)}.tp-colswv_sw:disabled,.tp-p2dpv_p:disabled,.tp-txtv_i:disabled{opacity:0.5}.tp-grlv_g,.tp-sglv_i,.tp-mllv_i{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);width:100%}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono,Source Code Pro,Menlo,Courier,monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #2f3137);--bs-sh: var(--tp-base-shadow-color, rgba(0,0,0,0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #2f3137);--cnt-bg: var(--tp-container-background-color, rgba(187,188,196,0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187,188,196,0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187,188,196,0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187,188,196,0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(187,188,196,0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187,188,196,0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187,188,196,0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187,188,196,0.15));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187,188,196,0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0,0,0,0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187,188,196,0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(0,0,0,0.2))}.tp-fldv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-rotv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1 * var(--cnt-v-p))}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-rotv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-fldv_c>.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv{margin-left:4px}.tp-fldv_c>.tp-fldv>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c .tp-fldv>.tp-fldv_c,.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-tabv>.tp-tabv_i,.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-fldv_c .tp-tabv>.tp-tabv_c,.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_b,.tp-rotv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(2px * 2 + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-fldv_b:hover,.tp-rotv_b:hover{background-color:var(--cnt-bg-h)}.tp-fldv_b:focus,.tp-rotv_b:focus{background-color:var(--cnt-bg-f)}.tp-fldv_b:active,.tp-rotv_b:active{background-color:var(--cnt-bg-a)}.tp-fldv_b:disabled,.tp-rotv_b:disabled{opacity:0.5}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:\\'\\';display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px) / 2 - 2px);margin:auto;opacity:0.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{transform:none}.tp-fldv_c,.tp-rotv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c,.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c{display:none}.tp-fldv.tp-fldv-expanded>.tp-fldv_c,.tp-rotv.tp-rotv-expanded .tp-rotv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-coltxtv_m,.tp-lstv{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-coltxtv_mm,.tp-lstv_m{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-coltxtv_mm svg,.tp-lstv_m svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-coltxtv_mm svg path,.tp-lstv_m svg path{fill:currentColor}.tp-coltxtv_w,.tp-pndtxtv{display:flex}.tp-coltxtv_c,.tp-pndtxtv_a{width:100%}.tp-coltxtv_c+.tp-coltxtv_c,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-pndtxtv_a{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:0.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:\\'\\';height:2px;left:calc(-1 * var(--cnt-h-p));position:absolute;right:calc(-1 * var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us) * 4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0,0,0,0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,0.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,0.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br)}.tp-colswv.tp-v-disabled{opacity:0.5}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,0.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:\\'\\';display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us) * 3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left 0.05s, top 0.05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:0.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:0.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:0.5}.tp-mllv_i{display:block;height:calc(var(--bld-us) * 3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:0.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:0.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:0.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:0.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:\\'\\';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:\\'\\';display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:\\'\\';display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:0.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:\\'\\';height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:\\'\\';height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:0.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:0.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:0.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:\\'\\';height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:0.1;position:absolute;top:0;transition:border-radius 0.1s, height 0.1s, transform 0.1s, width 0.1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:\\'\\';font-size:0.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(2px * 2 + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}');\n            this.pool_.getAll().forEach((plugin) => {\n                this.embedPluginStyle_(plugin);\n            });\n            this.registerPlugin({\n                plugins: [\n                    SliderBladePlugin,\n                    ListBladePlugin,\n                    TabBladePlugin,\n                    TextBladePlugin,\n                ],\n            });\n        }\n    }\n\n    const VERSION = new Semver('3.0.7');\n\n    exports.BladeApi = BladeApi;\n    exports.ButtonApi = ButtonApi;\n    exports.FolderApi = FolderApi;\n    exports.InputBindingApi = InputBindingApi;\n    exports.ListApi = ListApi;\n    exports.MonitorBindingApi = MonitorBindingApi;\n    exports.Pane = Pane;\n    exports.SeparatorApi = SeparatorApi;\n    exports.SliderApi = SliderApi;\n    exports.TabApi = TabApi;\n    exports.TabPageApi = TabPageApi;\n    exports.TextApi = TextApi;\n    exports.TpChangeEvent = TpChangeEvent;\n    exports.VERSION = VERSION;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"],"names":["_applyDecoratedDescriptor","require","_arrayWithHoles","_arrayWithoutHoles","_assertThisInitialized","_asyncGenerator","_asyncGeneratorDelegate","_asyncIterator","_asyncToGenerator","_awaitAsyncGenerator","_awaitValue","_classCallCheck","_classNameTdzError","_classPrivateFieldGet","_classPrivateFieldLooseBase","_classPrivateFieldSet","_classPrivateMethodGet","_classPrivateMethodSet","_classStaticPrivateFieldSpecGet","_classStaticPrivateFieldSpecSet","_construct","_createClass","_decorate","_defaults","_defineEnumerableProperties","_defineProperty","_extends","_get","_getPrototypeOf","_inherits","_inheritsLoose","_initializerDefineProperty","_initializerWarningHelper","_instanceof","_interopRequireDefault","_interopRequireWildcard","_isNativeFunction","_iterableToArray","_iterableToArrayLimit","_iterableToArrayLimitLoose","_jsx","_newArrowCheck","_nonIterableRest","_nonIterableSpread","_objectSpread","_objectWithoutProperties","_objectWithoutPropertiesLoose","_possibleConstructorReturn","_readOnlyError","_set","_setPrototypeOf","_skipFirstGeneratorNext","_slicedToArray","_slicedToArrayLoose","_superPropBase","_taggedTemplateLiteral","_taggedTemplateLiteralLoose","_throw","_toArray","_toConsumableArray","_toPrimitive","_toPropertyKey","_typeOf","_wrapAsyncGenerator","_wrapNativeSuper","_createSuper","_isNativeReflectConstruct","target","property","decorators","descriptor","context","desc1","Object","forEach","key","enumerable","configurable","initializer","writable","slice","reverse","reduce","desc","decorator","value","call","undefined","exports","interopDefault","a","__esModule","default","defineInteropFlag","defineProperty","exportAll","source","dest","keys","hasOwnProperty","get","export","destName","arr","Array","isArray","i","arr2","length","self","ReferenceError","AsyncGenerator","gen","front","back","resume","arg1","result","wrappedAwait","_awaitValueDefault","Promise","resolve","wrapped","then","arg","settle","done","err","type","reject","next","this","_invoke","request","return","Symbol","asyncIterator","prototype","throw","inner","awaitWrap","iter","waiting","pump","iterator","iterable","method","TypeError","asyncGeneratorStep","_next","info","error","fn","args","arguments","apply","instance","Constructor","name","Error","receiver","privateMap","has","privateKey","privateSet","classConstructor","isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","e","Parent1","args1","Class1","Parent","Class","push","Function","bind","_defineProperties","props","protoProps","staticProps","_createElementDescriptor","def","_toPropertyKeyDefault","kind","_typeof","set","element","placement","static","_coalesceGetterSetter","other","_hasDecorators","_isDataDescriptor","_defineClassElement","_addElementPlacement","placements","silent","indexOf","_fromElementDescriptor","obj","toStringTag","_toElementDescriptors","elementObjects","_toArrayDefault","map","elementObject","_toElementDescriptor","_disallowProperty","String","assign","_toElementFinisherExtras","finisher","_optionalCallableProperty","extras","_fromClassDescriptor","elements","_toClassDescriptor","objectType","factory","superClass","F","proto","r","O","_initializeInstanceElements","decorated","newElements","finishers","own","elementFinishersExtras","splice","elementFinisherExtras","newExtras","j","_decorateElement","elementsAndFinisher","k","_decorateConstructor","_decorateClass","isSameElement","other1","find","_coalesceClassElements","d","constructor","newConstructor","_runClassFinishers","_arrayWithHolesDefault","_iterableToArrayDefault","_nonIterableRestDefault","from","_toPrimitiveDefault","_typeOfDefault","input","hint","prim","toPrimitive","res","Number","defaults","getOwnPropertyNames","getOwnPropertyDescriptor","descs","getOwnPropertySymbols","objectSymbols","sym","extends_","target1","property1","receiver1","base","_superPropBaseDefault","reciever","object","_getPrototypeOfDefault","getPrototypeOf","o1","setPrototypeOf","o","__proto__","subClass","create","_setPrototypeOfDefault","p1","p","left","right","hasInstance","newObj","_arr","_n","_d","_e","_s","_i","_step","_iterator","REACT_ELEMENT_TYPE","children","for","defaultProps","childrenLength","propName","childArray","$$typeof","ref","_owner","innerThis","boundThis","ownKeys","concat","filter","excluded","_objectWithoutPropertiesLooseDefault","sourceSymbolKeys","propertyIsEnumerable","sourceKeys","_assertThisInitializedDefault","value1","_definePropertyDefault","isStrict","it","_iterableToArrayLimitLooseDefault","strings","raw","freeze","defineProperties","_arrayWithoutHolesDefault","_nonIterableSpreadDefault","_asyncGeneratorDefault","wrapNativeSuper","_cache","Map","_isNativeFunctionDefault","Wrapper","_constructDefault","Derived","hasNativeReflectConstruct","_isNativeReflectConstructDefault","Super","NewTarget","_possibleConstructorReturnDefault","Boolean","valueOf","global","module","define","amd","globalThis","Tweakpane","Semver","text","_helpers","slicedToArray","split","core","prerelease","coreComps","major","parseInt","minor","patch","join","BladeApi","controller","controller_","viewProps","disabled","hidden","TpEvent","TpChangeEvent","presetKey","last","TpUpdateEvent","TpFoldEvent","expanded","isEmpty","deepEqualsArray","a1","a2","CREATE_MESSAGE_MAP","alreadydisposed","invalidparams","nomatchingcontroller","nomatchingview","JSON","stringify","params","notbindable","propertynotfound","shouldneverhappen","TpError","config","_a","message","stack","BindingTarget","opt_id","obj_","key_","presetKey_","valueObj","read","isBindable","notBindable","propertyNotFound","ButtonApi","label","valueController","title","eventName","handler","bh","emitter","on","_this","Emitter","observers_","observers","observer","event","PREFIX","ClassName","viewName","opt_elementName","opt_modifier","extractValue","ev","rawValue","bindValue","applyValue","h1","h2","bindValueMap","valueMap","valueToClassName","elem","className","active","classList","add","remove","applyClass","bindValueToTextContent","textContent","className$q","ButtonView","doc","createElement","bindClassModifiers","buttonElem","bindDisabled","appendChild","buttonElement","titleElem","ButtonController","onClick_","view","addEventListener","emit","sender","BoundValue","initialValue","constraint_","constraint","equals_","equals","v1","v2","rawValue_","setRawValue","forceEmit","options","opts","constrainedValue","constrain","PrimitiveValue","value_","createValue","ValueMap","valMap_","_this1","_loop","createCore","createParamsParserBuilder","parse","optional","v","succeeded","createParamsParserBuilders","custom","boolean","number","string","function","constant","keyToParserMap","tmp","parser","parseObject","array","itemParser","parseItem","item","toConsumableArray","ParamsParsers","required","parseParams","className$p","POS_TO_CLASS_NAME_MAP","veryfirst","first","verylast","BladeController","parent_","blade","pos","handleDispose","parentElement","removeChild","disposeElement","SVG_NS","forceReflow","offsetHeight","supportsTouch","ontouchstart","getWindowDocument","document","ICON_ID_TO_INNER_HTML_MAP","check","dropdown","p2dpad","createSvgIconElement","iconId","createElementNS","innerHTML","insertElementAt","index","insertBefore","removeElement","removeChildElements","findNextTarget","relatedTarget","explicitOriginalTarget","className$o","LabelView","labelElem","childNodes","removeChildNodes","frag","createDocumentFragment","line","createTextNode","lineNode","createLabelNode","labelElement","valueElem","valueElement","LabelController","ButtonBladePlugin","id","accept","fromObject","api","ValueBladeController","createBlade","positions","Foldable","ValueMap1","styleExpanded","exHeight","expandedClassName","coreObj","completed","expandedHeight","shouldFixHeight","temporaryExpanded","applyHeight","foldable","style","height","styleHeight","bindFoldable","folder","containerElement","callback","t","clientHeight","transition","propertyName","RackLikeApi","rackApi","rackApi_","NestedOrderedSet","extract","items_","cache_","Set","onSubListAdd_","onSubListRemove_","extract_","_iteratorNormalCompletion","_didIteratorError","_iteratorError","allItems","item1","opt_index","includes","shouldNeverHappen","subList","root","delete","off","InputBindingApi","onBindingChange_","assertThisInitialized","emitter_","binding","InputBindingController","MonitorBindingApi","onBindingUpdate_","MonitorBindingController","ticker","dispose","findSubBladeApiSet","RackApi","getApiByController","apiSet","api1","createBindingTarget","pool","onRackAdd_","onRackRemove_","onRackInputChange_","onRackMonitorUpdate_","apiSet_","pool_","rack","bc","setUpApi_","opt_params","ownerDocument","createInput","createMonitor","addBlade","addFolderAsBlade","addButtonAsBlade","addSeparatorAsBlade","addTabAsBlade","gapi","createBladeApi","bladeController","isRoot","api3","FolderApi","rackController","addInput","addMonitor","addFolder","addButton","addSeparator","addTab","RackLikeController","PlainView","findSubRack","RackController","findSubBladeControllerSet","BladeRack","onBladePositionsChange_","onSetAdd_","onSetRemove_","onChildDispose_","onChildPositionsChange_","onChildInputChange_","onChildMonitorUpdate_","onChildValueChange_","onChildViewPropsChange_","onDescendantLayout_","onDescendantInputChange_","onDescendantMonitorUpdate_","blade_","bcSet_","items","parent","controllerClass","updatePositions_","visibleItems","firstVisibleItem","lastVisibleItem","ps","_ev","bcs","b","findInputBindingController","findMonitorBindingController","findValueBladeController","_","bladeContainerClassName","FolderView","className_","foldable_","bindExpandedClass","titleElement","markElem","containerElem","FolderController","rc","onTitleClick_","FolderBladePlugin","LabeledValueController","SeparatorApi","className$n","SeparatorView","hrElem","SeparatorController","SeparatorBladePlugin","className$m","valueToModifier","modifier","ViewProps","ValueMap2","tabIndex","disposed","opt_initialValue","_b","className$l","TabItemView","selected","TabItemController","TabPageController","onItemClick_","ic_","itemProps","cc_","itemController","contentController","TabPageApi","contentRackApi","TabApi","onPageAdd_","onPageRemove_","pageApiMap_","pageSet","pc","setUpPageApi_","api4","className$k","TabView","empty","itemsElem","itemsElement","contentsElem","contentsElement","TabController","cr","onPageSelectedChange_","pageSet_","empty_","applyPages_","keepSelection_","firstSelIndex","findIndex","TabBladePlugin","pages","c","createBladeController","plugin","ac","ManualTicker","IntervalTicker","interval","disabled_","timerId_","onTick_","doc_","interval_","setTimer_","inactive","clearTimer_","win","defaultView","clearInterval","setInterval","CompositeConstraint","constraints","findConstraint","constraintClass","tmpResult","sc","ListConstraint","RangeConstraint","maxValue","max","minValue","min","Math","StepConstraint","step","round","className$j","ListView","onValueChange_","props_","selectElem","optionElem","dataset","selectElement","update_","ListController","onSelectChange_","optElem","currentTarget","selectedOptions","itemIndex","className$i","PopupView","shows","PopupController","className$h","TextView","onChange_","inputElem","inputElement","refresh","formatter","TextController","onInputChange_","parser_","parsedValue","boolFromUnknown","BooleanFormatter","boolToString","NumberLiteralNode","BINARY_OPERATION_MAP","pow","BinaryOperationNode","operator","op","evaluate","UNARY_OPERATION_MAP","UnaryOperationNode","expr","expression","combineReader","parsers","cursor","readWhitespace","m","substr","match","readDecimalDigits","readExponentPart","toLowerCase","si","ds","sign","sds","readSignedInteger","readDecimalIntegerLiteral","ch","nzd","readNonZeroDigit","readDecimalLiteral","dil","dot","dds","readNonDecimalIntegerLiteral","prefix","bds","parseBinaryDigits","ods","readOctalDigits","hds","readHexDigits","readNumericLiteral","parsePrimaryExpression","num","evaluable","parseLiteral","parseExpression","cl","parseParenthesizedExpression","readBinaryOperator","ops","op1","startsWith","parseBinaryOperationExpression","exprParser","firstExpr","nextExpr","createBinaryOperationExpressionParser","parseUnaryExpression","parseNumber","parseEcmaNumberExpression","numberFromUnknown","pv","numberToString","createNumberFormatter","digits","toFixed","innerFormatter","formatPercentage","stringFromUnknown","formatString","fillBuffer","buffer","bufferSize","initializeBuffer","connectValues","param","primary","secondary","forward","backward","changing","preventFeedback","getStepForKey","baseStep","altKey","shiftKey","upKey","downKey","getVerticalStepKeys","getHorizontalStepKeys","isArrowKey","isVerticalArrowKey","computeOffset$1","rect","getBoundingClientRect","x","pageX","scrollX","y","pageY","scrollY","top","PointerHandler","lastTouch_","onDocumentMouseMove_","onDocumentMouseUp_","onMouseDown_","onTouchEnd_","onTouchMove_","onTouchStart_","elem_","passive","offset","bounds","width","point","preventDefault","focus","data","computePosition_","removeEventListener","touch","targetTouches","clientX","clientY","mapRange","start1","end1","start2","end2","getDecimalDigits","replace","constrainRange","loopRange","className$g","NumberTextView","arrayPosition","onDraggingChange_","dragging_","dragging","knobElem","knobElement","guideElem","bodyElem","guideBodyElem_","headElem","guideHeadElem_","tooltipElem","tooltipElem_","aox","adx","setAttributeNS","NumberTextController","originRawValue_","onInputKeyDown_","onInputKeyUp_","onPointerDown_","onPointerMove_","onPointerUp_","baseStep_","ph","dx","computeDraggingValue_","className$f","SliderView","trackElem","bindTabIndex","trackElement","SliderController","onKeyDown_","onKeyUp_","onPointerDownOrMove_","ptHandler_","handlePointerEvent_","className$e","SliderTextView","sliderElem","sliderView_","sliderView","textElem","textView_","textView","SliderTextController","sliderC_","sliderProps","textC_","textProps","writePrimitive","write","parseListOptions","parsePickerLayout","parsePointDimensionParams","normalizeListOptions","createListConstraint","findListItems","getSuitableDecimalDigits","getBaseStep","findStep","getSuitableDraggingScale","abs","floor","log10","className$d","CheckboxView","wrapperElem","checked","CheckboxController","BooleanInputPlugin","reader","_args","lc","writer","className$c","ColorView","swatchElem","swatchElement","textElement","pickerLayout","pickerElem","pickerElement","hsvToRgb","h","s","rp","gp","bp","hp","sp","vp","ref6","ref7","ref8","ref9","ref10","removeAlphaComponent","comps","appendAlphaComponent","alpha","MODE_CONVERTER_MAP","hsl","l","hsv","sd","rgb","lp","ref1","ref2","ref3","ref4","ref5","g","cmax","cmin","CONSTRAINT_MAP","isRgbColorComponent","Color","mode","mode_","comps_","opt_mode","components","fromMode","toMode","_fromMode","rgbComps","getComponents","color","toRgbaObject","isRgbColorObject","comps1","comps2","className$b","ColorPickerView","alphaViews_","hsvElem","svElem","svPaletteView_","svPaletteView","hElem","hPaletteView_","hPaletteView","rgbElem","alphaViews","palette","aElem","apElem","atElem","elems","modeSelectElement","textViews","parseColorInputParams","picker","getBaseStepForColor","forAlpha","parseCssNumberOrPercentage","parseFloat","ANGLE_TO_DEG_MAP","deg","angle","grad","rad","PI","turn","parseCssNumberOrAngle","unit","NOTATION_TO_PARSER_MAP","isNaN","mRgb","mRrggbb","getColorNotation","notation","subparser","CompositeColorParser","hasAlphaComponent","colorFromString","cv","black","zerofill","comp","hex","colorToHexRgbString","hexes","colorToHexRgbaString","rgbaComps","colorToFunctionalRgbString","colorToFunctionalRgbaString","aFormatter","rgbFormatter","NOTATION_TO_STRINGIFIER_MAP","formatters","getColorStringifier","className$a","APaletteView","barElem","colorElem","colorElem_","markerElem","markerElem_","previewElem","previewElem_","leftColor","rightColor","gradientComps","background","backgroundColor","APaletteController","className$9","ColorTextView","modeElem","modeElem_","createModeSelectElement","modeMarkerElem","textsElem","textsElem_","textViews_","applyTextViews_","colorMode","compElem","FORMATTER","MODE_TO_CONSTRAINT_MAP","createComponentController","draggingScale","ColorTextController","onModeSelectChange_","ccs_","createComponentControllers_","cc","ccs","cs","_this2","pickedMode","className$8","HPaletteView","HPaletteController","hue","className$7","SvPaletteView","canvasElem","canvasElement","ctx","getContext","hsvComps","imgData","getImageData","iy","ix","putImageData","SvPaletteController","saturation","dv","ColorPickerController","hPaletteC_","svPaletteC_","alphaIcs_","supportsAlpha","className$6","ColorSwatchView","swatchElem_","ColorSwatchController","ColorController","onButtonBlur_","onButtonClick_","onPopupChildBlur_","onPopupChildKeydown_","swatchC_","popC_","pickerC","allFocusableElements","pickerC_","nextTarget","contains","colorFromObject","isColorObject","colorToRgbNumber","colorToRgbaNumber","colorFromRgbNumber","colorFromRgbaNumber","writeRgbaColorObject","writeProperty","writeRgbColorObject","shouldSupportAlpha$1","inputParams","createFormatter$1","NumberColorInputPlugin","colorToNumber","ObjectColorInputPlugin","isRgbaColorObject","StringColorInputPlugin","createColorStringWriter","stringifier","PointNdConstraint","asm_","assembly","toComponents","fromComponents","className$5","PointNdTextView","axisElem","PointNdTextController","acs_","axes","createAxisController","createConstraint$4","createStepConstraint","createRangeConstraint","estimateSuitableRange","findRange","NumberInputPlugin","format","Point2d","Point2dAssembly","className$4","Point2dView","className$3","Point2dPickerView","onFoldableChange_","invertsY_","invertsY","maxValue_","layout","padElem","padElement","svgElem","svgElem_","xAxisElem","yAxisElem","lineElem","lineElem_","px","py","ipy","computeOffset","baseSteps","Point2dPickerController","onPadKeyDown_","onPadKeyUp_","baseSteps_","dy","Point2dController","onPadButtonBlur_","onPadButtonClick_","padC","point2dFromUnknown","isObject","writePoint2d","createDimensionConstraint$2","getSuitableMaxDimensionValue","createAxis$2","shouldInvertY","yParams","inverted","Point2dInputPlugin","xc","yc","xr","yr","Point3d","z","Point3dAssembly","point3dFromUnknown","writePoint3d","createDimensionConstraint$1","createAxis$1","Point3dInputPlugin","Point4d","w","Point4dAssembly","point4dFromUnknown","writePoint4d","createDimensionConstraint","Point4dInputPlugin","StringInputPlugin","Constants","defaultInterval","defaultLineCount","className$2","MultiLogView","onValueUpdate_","formatter_","textareaElem","lineCount","readOnly","textareaElem_","shouldScroll","scrollTop","scrollHeight","lines","MultiLogController","className$1","SingleLogView","values","lastValue","SingleLogController","BooleanMonitorPlugin","GraphCursor","index_","className1","GraphLogView","onCursorChange_","minValue_","cursor_","maxIndex","points","tx","ty","GraphLogController","onGraphMouseMove_","onGraphMouseLeave_","onGraphPointerDown_","onGraphPointerMove_","onGraphPointerUp_","offsetX","createFormatter","shouldShowGraph","NumberMonitorPlugin","defaultBufferSize","_c","createGraphMonitor","createTextMonitor","StringMonitorPlugin","multiline","InputBinding","targetValue","write_","MonitorBinding","reader_","newValue","newBuffer","createTrimmedBuffer","createPushedBuffer","createTicker","PluginPool","pluginsMap_","blades","inputs","monitors","unshift","valueArgs","createInputBindingController","P","bindingArgs","createMonitorBindingController","ListApi","SliderApi","sliderController","TextApi","ListBladePlugin","ic","RootApi","preset","targets","importPresetJson","ibc","exportPresetJson","mbc","RootController","SliderBladePlugin","vc","TextBladePlugin","embedStyle","css","querySelector","styleElem","tpStyle","head","Pane","opt_config","register","createDefaultPluginPool","rootController","containerElem_","container","body","createDefaultWrapperElement","usesDefaultWrapper_","setUpDefaultPlugins_","alreadyDisposed","parentElem","bundle","plugins","embedPluginStyle_","getAll","registerPlugin","VERSION"],"version":3,"file":"index.ba31ca7d.js.map"}