!function(e,r,t,n,o){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof a.parcelRequire9b6a&&a.parcelRequire9b6a,u=i.cache||{},f="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(r,t){if(!u[r]){if(!e[r]){var n="function"==typeof a.parcelRequire9b6a&&a.parcelRequire9b6a;if(!t&&n)return n(r,!0);if(i)return i(r,!0);if(f&&"string"==typeof r)return f(r);var o=new Error("Cannot find module '"+r+"'");throw o.code="MODULE_NOT_FOUND",o}l.resolve=function(t){var n=e[r][1][t];return null!=n?n:t},l.cache={};var s=u[r]=new c.Module(r);e[r][0].call(s.exports,l,s,s.exports,this)}return u[r].exports;function l(e){var r=l.resolve(e);return!1===r?{}:c(r)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=u,c.parent=i,c.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]},Object.defineProperty(c,"root",{get:function(){return a.parcelRequire9b6a}}),a.parcelRequire9b6a=c;for(var s=0;s<r.length;s++)c(r[s])}({bpC7N:[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(t),n.export(t,"addExtensionsToContext",(function(){return vo})),n.export(t,"attributes",(function(){return ue})),n.export(t,"bindFramebufferInfo",(function(){return ao})),n.export(t,"bindTransformFeedbackInfo",(function(){return _n})),n.export(t,"bindUniformBlock",(function(){return Rn})),n.export(t,"canFilter",(function(){return ot})),n.export(t,"canGenerateMipmap",(function(){return nt})),n.export(t,"createAttribsFromArrays",(function(){return re})),n.export(t,"createAttributeSetters",(function(){return Dn})),n.export(t,"createBufferFromArray",(function(){return ae})),n.export(t,"createBufferFromTypedArray",(function(){return Y})),n.export(t,"createBufferInfoFromArrays",(function(){return oe})),n.export(t,"createBuffersFromArrays",(function(){return ie})),n.export(t,"createFramebufferInfo",(function(){return no})),n.export(t,"createProgram",(function(){return hn})),n.export(t,"createProgramFromScripts",(function(){return gn})),n.export(t,"createProgramFromSources",(function(){return Fn})),n.export(t,"createProgramInfo",(function(){return Wn})),n.export(t,"createProgramInfoFromProgram",(function(){return Gn})),n.export(t,"createSampler",(function(){return bt})),n.export(t,"createSamplers",(function(){return yt})),n.export(t,"createTexture",(function(){return Ct})),n.export(t,"createTextures",(function(){return Mt})),n.export(t,"createTransformFeedback",(function(){return Sn})),n.export(t,"createTransformFeedbackInfo",(function(){return Pn})),n.export(t,"createUniformBlockInfo",(function(){return Cn})),n.export(t,"createUniformBlockInfoFromProgram",(function(){return zn})),n.export(t,"createUniformBlockSpecFromProgram",(function(){return In})),n.export(t,"createUniformSetters",(function(){return Tn})),n.export(t,"createVAOAndSetAttributes",(function(){return fo})),n.export(t,"createVAOFromBufferInfo",(function(){return co})),n.export(t,"createVertexArrayInfo",(function(){return uo})),n.export(t,"draw",(function(){return Yn})),n.export(t,"drawBufferInfo",(function(){return qn})),n.export(t,"drawObjectList",(function(){return Xn})),n.export(t,"framebuffers",(function(){return io})),n.export(t,"getArray_",(function(){return Q})),n.export(t,"getBytesPerElementForInternalFormat",(function(){return et})),n.export(t,"getContext",(function(){return xo})),n.export(t,"getFormatAndTypeForInternalFormat",(function(){return rt})),n.export(t,"getGLTypeForTypedArray",(function(){return C})),n.export(t,"getGLTypeForTypedArrayType",(function(){return R})),n.export(t,"getNumComponentsForFormat",(function(){return at})),n.export(t,"getNumComponents_",(function(){return J})),n.export(t,"getTypedArrayTypeForGLType",(function(){return M})),n.export(t,"getWebGLContext",(function(){return ho})),n.export(t,"glEnumToString",(function(){return mr})),n.export(t,"isArrayBuffer",(function(){return k})),n.export(t,"isWebGL1",(function(){return ur})),n.export(t,"isWebGL2",(function(){return ir})),n.export(t,"loadTextureFromUrl",(function(){return _t})),n.export(t,"m4",(function(){return A})),n.export(t,"primitives",(function(){return ar})),n.export(t,"programs",(function(){return Nn})),n.export(t,"resizeCanvasToDisplaySize",(function(){return go})),n.export(t,"resizeFramebufferInfo",(function(){return oo})),n.export(t,"resizeTexture",(function(){return Rt})),n.export(t,"setAttribInfoBufferFromArray",(function(){return te})),n.export(t,"setAttributeDefaults_",(function(){return q})),n.export(t,"setAttributePrefix",(function(){return N})),n.export(t,"setAttributes",(function(){return jn})),n.export(t,"setBlockUniforms",(function(){return kn})),n.export(t,"setBuffersAndAttributes",(function(){return Vn})),n.export(t,"setDefaultTextureColor",(function(){return ft})),n.export(t,"setDefaults",(function(){return mo})),n.export(t,"setEmptyTexture",(function(){return zt})),n.export(t,"setSamplerParameters",(function(){return dt})),n.export(t,"setTextureDefaults_",(function(){return ct})),n.export(t,"setTextureFilteringForSize",(function(){return vt})),n.export(t,"setTextureFromArray",(function(){return Bt})),n.export(t,"setTextureFromElement",(function(){return Ft})),n.export(t,"setTextureParameters",(function(){return pt})),n.export(t,"setUniformBlock",(function(){return Mn})),n.export(t,"setUniforms",(function(){return On})),n.export(t,"setUniformsAndBindTextures",(function(){return Ln})),n.export(t,"textures",(function(){return kt})),n.export(t,"typedarrays",(function(){return U})),n.export(t,"utils",(function(){return pr})),n.export(t,"v3",(function(){return b})),n.export(t,"vertexArrays",(function(){return so}));var o=e("@swc/helpers"),a=Float32Array;
/* @license twgl.js 4.21.2 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */function i(e,r,t){var n=new a(3);return e&&(n[0]=e),r&&(n[1]=r),t&&(n[2]=t),n}function u(e,r,t){return(t=t||new a(3))[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function f(e,r,t){return(t=t||new a(3))[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function c(e,r,t){t=t||new a(3);var n=e[2]*r[0]-e[0]*r[2],o=e[0]*r[1]-e[1]*r[0];return t[0]=e[1]*r[2]-e[2]*r[1],t[1]=n,t[2]=o,t}function s(e,r){r=r||new a(3);var t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=Math.sqrt(t);return n>1e-5?(r[0]=e[0]/n,r[1]=e[1]/n,r[2]=e[2]/n):(r[0]=0,r[1]=0,r[2]=0),r}function l(e,r,t){return(t=t||new a(3))[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}var m,p,d,b=Object.freeze({__proto__:null,add:u,copy:function(e,r){return(r=r||new a(3))[0]=e[0],r[1]=e[1],r[2]=e[2],r},create:i,cross:c,distance:function(e,r){var t=e[0]-r[0],n=e[1]-r[1],o=e[2]-r[2];return Math.sqrt(t*t+n*n+o*o)},distanceSq:function(e,r){var t=e[0]-r[0],n=e[1]-r[1],o=e[2]-r[2];return t*t+n*n+o*o},divide:function(e,r,t){return(t=t||new a(3))[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},divScalar:function(e,r,t){return(t=t||new a(3))[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r,t},dot:function(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]},lerp:function(e,r,t,n){return(n=n||new a(3))[0]=e[0]+t*(r[0]-e[0]),n[1]=e[1]+t*(r[1]-e[1]),n[2]=e[2]+t*(r[2]-e[2]),n},lerpV:function(e,r,t,n){return(n=n||new a(3))[0]=e[0]+t[0]*(r[0]-e[0]),n[1]=e[1]+t[1]*(r[1]-e[1]),n[2]=e[2]+t[2]*(r[2]-e[2]),n},length:function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])},lengthSq:function(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]},max:function(e,r,t){return(t=t||new a(3))[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},min:function(e,r,t){return(t=t||new a(3))[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},mulScalar:function(e,r,t){return(t=t||new a(3))[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},multiply:l,negate:function(e,r){return(r=r||new a(3))[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r},normalize:s,setDefaultType:function(e){var r=a;return a=e,r},subtract:f}),y=Float32Array;function v(e,r){return(r=r||new y(16))[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function h(e){return(e=e||new y(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function x(e,r){r=r||new y(16);var t=e[0],n=e[1],o=e[2],a=e[3],i=e[4],u=e[5],f=e[6],c=e[7],s=e[8],l=e[9],m=e[10],p=e[11],d=e[12],b=e[13],v=e[14],h=e[15],x=m*h,g=v*p,F=f*h,A=v*c,w=f*p,E=m*c,T=o*h,P=v*a,_=o*p,S=m*a,I=o*c,B=f*a,z=s*b,C=d*l,R=i*b,M=d*u,k=i*l,U=s*u,O=t*b,L=d*n,D=t*l,j=s*n,V=t*u,G=i*n,W=x*u+A*l+w*b-(g*u+F*l+E*b),N=g*n+T*l+S*b-(x*n+P*l+_*b),q=F*n+P*u+I*b-(A*n+T*u+B*b),X=E*n+_*u+B*l-(w*n+S*u+I*l),Y=1/(t*W+i*N+s*q+d*X);return r[0]=Y*W,r[1]=Y*N,r[2]=Y*q,r[3]=Y*X,r[4]=Y*(g*i+F*s+E*d-(x*i+A*s+w*d)),r[5]=Y*(x*t+P*s+_*d-(g*t+T*s+S*d)),r[6]=Y*(A*t+T*i+B*d-(F*t+P*i+I*d)),r[7]=Y*(w*t+S*i+I*s-(E*t+_*i+B*s)),r[8]=Y*(z*c+M*p+k*h-(C*c+R*p+U*h)),r[9]=Y*(C*a+O*p+j*h-(z*a+L*p+D*h)),r[10]=Y*(R*a+L*c+V*h-(M*a+O*c+G*h)),r[11]=Y*(U*a+D*c+G*p-(k*a+j*c+V*p)),r[12]=Y*(R*m+U*v+C*f-(k*v+z*f+M*m)),r[13]=Y*(D*v+z*o+L*m-(O*m+j*v+C*o)),r[14]=Y*(O*f+G*v+M*o-(V*v+R*o+L*f)),r[15]=Y*(V*m+k*o+j*f-(D*f+G*m+U*o)),r}function g(e,r,t){t=t||i();var n=r[0],o=r[1],a=r[2],u=n*e[3]+o*e[7]+a*e[11]+e[15];return t[0]=(n*e[0]+o*e[4]+a*e[8]+e[12])/u,t[1]=(n*e[1]+o*e[5]+a*e[9]+e[13])/u,t[2]=(n*e[2]+o*e[6]+a*e[10]+e[14])/u,t}function F(e,r,t){t=t||i();var n=r[0],o=r[1],a=r[2];return t[0]=n*e[0]+o*e[4]+a*e[8],t[1]=n*e[1]+o*e[5]+a*e[9],t[2]=n*e[2]+o*e[6]+a*e[10],t}var A=Object.freeze({__proto__:null,axisRotate:function(e,r,t,n){n=n||new y(16);var o=r[0],a=r[1],i=r[2],u=Math.sqrt(o*o+a*a+i*i),f=(o/=u)*o,c=(a/=u)*a,s=(i/=u)*i,l=Math.cos(t),m=Math.sin(t),p=1-l,d=f+(1-f)*l,b=o*a*p+i*m,v=o*i*p-a*m,h=o*a*p-i*m,x=c+(1-c)*l,g=a*i*p+o*m,F=o*i*p+a*m,A=a*i*p-o*m,w=s+(1-s)*l,E=e[0],T=e[1],P=e[2],_=e[3],S=e[4],I=e[5],B=e[6],z=e[7],C=e[8],R=e[9],M=e[10],k=e[11];return n[0]=d*E+b*S+v*C,n[1]=d*T+b*I+v*R,n[2]=d*P+b*B+v*M,n[3]=d*_+b*z+v*k,n[4]=h*E+x*S+g*C,n[5]=h*T+x*I+g*R,n[6]=h*P+x*B+g*M,n[7]=h*_+x*z+g*k,n[8]=F*E+A*S+w*C,n[9]=F*T+A*I+w*R,n[10]=F*P+A*B+w*M,n[11]=F*_+A*z+w*k,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n},axisRotation:function(e,r,t){t=t||new y(16);var n=e[0],o=e[1],a=e[2],i=Math.sqrt(n*n+o*o+a*a),u=(n/=i)*n,f=(o/=i)*o,c=(a/=i)*a,s=Math.cos(r),l=Math.sin(r),m=1-s;return t[0]=u+(1-u)*s,t[1]=n*o*m+a*l,t[2]=n*a*m-o*l,t[3]=0,t[4]=n*o*m-a*l,t[5]=f+(1-f)*s,t[6]=o*a*m+n*l,t[7]=0,t[8]=n*a*m+o*l,t[9]=o*a*m-n*l,t[10]=c+(1-c)*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},copy:v,frustum:function(e,r,t,n,o,a,i){var u=r-e,f=n-t,c=o-a;return(i=i||new y(16))[0]=2*o/u,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*o/f,i[6]=0,i[7]=0,i[8]=(e+r)/u,i[9]=(n+t)/f,i[10]=a/c,i[11]=-1,i[12]=0,i[13]=0,i[14]=o*a/c,i[15]=0,i},getAxis:function(e,r,t){var n=4*r;return(t=t||i())[0]=e[n+0],t[1]=e[n+1],t[2]=e[n+2],t},getTranslation:function(e,r){return(r=r||i())[0]=e[12],r[1]=e[13],r[2]=e[14],r},identity:h,inverse:x,lookAt:function(e,r,t,n){return n=n||new y(16),m=m||i(),p=p||i(),s(f(e,r,d=d||i()),d),s(c(t,d,m),m),s(c(d,m,p),p),n[0]=m[0],n[1]=m[1],n[2]=m[2],n[3]=0,n[4]=p[0],n[5]=p[1],n[6]=p[2],n[7]=0,n[8]=d[0],n[9]=d[1],n[10]=d[2],n[11]=0,n[12]=e[0],n[13]=e[1],n[14]=e[2],n[15]=1,n},multiply:function(e,r,t){t=t||new y(16);var n=e[0],o=e[1],a=e[2],i=e[3],u=e[4],f=e[5],c=e[6],s=e[7],l=e[8],m=e[9],p=e[10],d=e[11],b=e[12],v=e[13],h=e[14],x=e[15],g=r[0],F=r[1],A=r[2],w=r[3],E=r[4],T=r[5],P=r[6],_=r[7],S=r[8],I=r[9],B=r[10],z=r[11],C=r[12],R=r[13],M=r[14],k=r[15];return t[0]=n*g+u*F+l*A+b*w,t[1]=o*g+f*F+m*A+v*w,t[2]=a*g+c*F+p*A+h*w,t[3]=i*g+s*F+d*A+x*w,t[4]=n*E+u*T+l*P+b*_,t[5]=o*E+f*T+m*P+v*_,t[6]=a*E+c*T+p*P+h*_,t[7]=i*E+s*T+d*P+x*_,t[8]=n*S+u*I+l*B+b*z,t[9]=o*S+f*I+m*B+v*z,t[10]=a*S+c*I+p*B+h*z,t[11]=i*S+s*I+d*B+x*z,t[12]=n*C+u*R+l*M+b*k,t[13]=o*C+f*R+m*M+v*k,t[14]=a*C+c*R+p*M+h*k,t[15]=i*C+s*R+d*M+x*k,t},negate:function(e,r){return(r=r||new y(16))[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=-e[3],r[4]=-e[4],r[5]=-e[5],r[6]=-e[6],r[7]=-e[7],r[8]=-e[8],r[9]=-e[9],r[10]=-e[10],r[11]=-e[11],r[12]=-e[12],r[13]=-e[13],r[14]=-e[14],r[15]=-e[15],r},ortho:function(e,r,t,n,o,a,i){return(i=i||new y(16))[0]=2/(r-e),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(n-t),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2/(o-a),i[11]=0,i[12]=(r+e)/(e-r),i[13]=(n+t)/(t-n),i[14]=(a+o)/(o-a),i[15]=1,i},perspective:function(e,r,t,n,o){o=o||new y(16);var a=Math.tan(.5*Math.PI-.5*e),i=1/(t-n);return o[0]=a/r,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=a,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(t+n)*i,o[11]=-1,o[12]=0,o[13]=0,o[14]=t*n*i*2,o[15]=0,o},rotateX:function(e,r,t){t=t||new y(16);var n=e[4],o=e[5],a=e[6],i=e[7],u=e[8],f=e[9],c=e[10],s=e[11],l=Math.cos(r),m=Math.sin(r);return t[4]=l*n+m*u,t[5]=l*o+m*f,t[6]=l*a+m*c,t[7]=l*i+m*s,t[8]=l*u-m*n,t[9]=l*f-m*o,t[10]=l*c-m*a,t[11]=l*s-m*i,e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t},rotateY:function(e,r,t){t=t||new y(16);var n=e[0],o=e[1],a=e[2],i=e[3],u=e[8],f=e[9],c=e[10],s=e[11],l=Math.cos(r),m=Math.sin(r);return t[0]=l*n-m*u,t[1]=l*o-m*f,t[2]=l*a-m*c,t[3]=l*i-m*s,t[8]=l*u+m*n,t[9]=l*f+m*o,t[10]=l*c+m*a,t[11]=l*s+m*i,e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t},rotateZ:function(e,r,t){t=t||new y(16);var n=e[0],o=e[1],a=e[2],i=e[3],u=e[4],f=e[5],c=e[6],s=e[7],l=Math.cos(r),m=Math.sin(r);return t[0]=l*n+m*u,t[1]=l*o+m*f,t[2]=l*a+m*c,t[3]=l*i+m*s,t[4]=l*u-m*n,t[5]=l*f-m*o,t[6]=l*c-m*a,t[7]=l*s-m*i,e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t},rotationX:function(e,r){r=r||new y(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=t,r[6]=n,r[7]=0,r[8]=0,r[9]=-n,r[10]=t,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},rotationY:function(e,r){r=r||new y(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=t,r[1]=0,r[2]=-n,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=n,r[9]=0,r[10]=t,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},rotationZ:function(e,r){r=r||new y(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=t,r[1]=n,r[2]=0,r[3]=0,r[4]=-n,r[5]=t,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},scale:function(e,r,t){t=t||new y(16);var n=r[0],o=r[1],a=r[2];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=n*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=o*e[6],t[7]=o*e[7],t[8]=a*e[8],t[9]=a*e[9],t[10]=a*e[10],t[11]=a*e[11],e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t},scaling:function(e,r){return(r=r||new y(16))[0]=e[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=e[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},setAxis:function(e,r,t,n){n!==e&&(n=v(e,n));var o=4*t;return n[o+0]=r[0],n[o+1]=r[1],n[o+2]=r[2],n},setDefaultType:function(e){var r=y;return y=e,r},setTranslation:function(e,r,t){return e!==(t=t||h())&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},transformDirection:F,transformNormal:function(e,r,t){t=t||i();var n=x(e),o=r[0],a=r[1],u=r[2];return t[0]=o*n[0]+a*n[1]+u*n[2],t[1]=o*n[4]+a*n[5]+u*n[6],t[2]=o*n[8]+a*n[9]+u*n[10],t},transformPoint:g,translate:function(e,r,t){t=t||new y(16);var n=r[0],o=r[1],a=r[2],i=e[0],u=e[1],f=e[2],c=e[3],s=e[4],l=e[5],m=e[6],p=e[7],d=e[8],b=e[9],v=e[10],h=e[11],x=e[12],g=e[13],F=e[14],A=e[15];return e!==t&&(t[0]=i,t[1]=u,t[2]=f,t[3]=c,t[4]=s,t[5]=l,t[6]=m,t[7]=p,t[8]=d,t[9]=b,t[10]=v,t[11]=h),t[12]=i*n+s*o+d*a+x,t[13]=u*n+l*o+b*a+g,t[14]=f*n+m*o+v*a+F,t[15]=c*n+p*o+h*a+A,t},translation:function(e,r){return(r=r||new y(16))[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r},transpose:function(e,r){var t;if((r=r||new y(16))===e)return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,r;var n=e[0],o=e[1],a=e[2],i=e[3],u=e[4],f=e[5],c=e[6],s=e[7],l=e[8],m=e[9],p=e[10],d=e[11],b=e[12],v=e[13],h=e[14],x=e[15];return r[0]=n,r[1]=u,r[2]=l,r[3]=b,r[4]=o,r[5]=f,r[6]=m,r[7]=v,r[8]=a,r[9]=c,r[10]=p,r[11]=h,r[12]=i,r[13]=s,r[14]=d,r[15]=x,r}}),w=5120,E=5121,T=5122,P=5123,_=5124,S=5125,I=5126,B={},z=B;function C(e){if(e instanceof Int8Array)return w;if(e instanceof Uint8Array)return E;if(e instanceof Uint8ClampedArray)return E;if(e instanceof Int16Array)return T;if(e instanceof Uint16Array)return P;if(e instanceof Int32Array)return _;if(e instanceof Uint32Array)return S;if(e instanceof Float32Array)return I;throw new Error("unsupported typed array type")}function R(e){if(e===Int8Array)return w;if(e===Uint8Array)return E;if(e===Uint8ClampedArray)return E;if(e===Int16Array)return T;if(e===Uint16Array)return P;if(e===Int32Array)return _;if(e===Uint32Array)return S;if(e===Float32Array)return I;throw new Error("unsupported typed array type")}function M(e){var r=B[e];if(!r)throw new Error("unknown gl type");return r}z[w]=Int8Array,z[5121]=Uint8Array,z[5122]=Int16Array,z[5123]=Uint16Array,z[_]=Int32Array,z[5125]=Uint32Array,z[5126]=Float32Array,z[32819]=Uint16Array,z[32820]=Uint16Array,z[33635]=Uint16Array,z[5131]=Uint16Array,z[33640]=Uint32Array,z[35899]=Uint32Array,z[35902]=Uint32Array,z[36269]=Uint32Array,z[34042]=Uint32Array;var k="undefined"!=typeof SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer},U=Object.freeze({__proto__:null,getGLTypeForTypedArray:C,getGLTypeForTypedArrayType:R,getTypedArrayTypeForGLType:M,isArrayBuffer:k});function O(e,r){Object.keys(r).forEach((function(t){r.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(r[t]=e[t])}))}function L(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var n;(n=console).error.apply(n,o.toConsumableArray(r))}function D(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var n;(n=console).warn.apply(n,o.toConsumableArray(r))}function j(e,r){return"undefined"!=typeof WebGLRenderbuffer&&r instanceof WebGLRenderbuffer}function V(e,r){return"undefined"!=typeof WebGLTexture&&r instanceof WebGLTexture}var G=34962,W={attribPrefix:""};function N(e){W.attribPrefix=e}function q(e){O(e,W)}function X(e,r,t,n,o){e.bindBuffer(r,t),e.bufferData(r,n,o||35044)}function Y(e,r,t,n){if(o=r,"undefined"!=typeof WebGLBuffer&&o instanceof WebGLBuffer)return r;var o;t=t||G;var a=e.createBuffer();return X(e,t,a,r,n),a}function H(e){return"indices"===e}function Q(e){return e.length?e:e.data}var Z=/coord|texture/i,K=/color|colour/i;function $(e,r){var t;if(r%(t=Z.test(e)?2:K.test(e)?4:3)>0)throw new Error("Can not guess numComponents for attribute '".concat(e,"'. Tried ").concat(t," but ").concat(r," values is not evenly divisible by ").concat(t,". You should specify it."));return t}function J(e,r){return e.numComponents||e.size||$(r,Q(e).length)}function ee(e,r){if(k(e))return e;if(k(e.data))return e.data;Array.isArray(e)&&(e={data:e});var t=e.type;return t||(t=H(r)?Uint16Array:Float32Array),new t(e.data)}function re(e,r){var t={};return Object.keys(r).forEach((function(n){if(!H(n)){var o=r[n],a=o.attrib||o.name||o.attribName||W.attribPrefix+n;if(o.value){if(!Array.isArray(o.value)&&!k(o.value))throw new Error("array.value is not array or typedarray");t[a]={value:o.value}}else{var i,u,f,c;if(o.buffer&&o.buffer instanceof WebGLBuffer)i=o.buffer,c=o.numComponents||o.size,u=o.type,f=o.normalize;else if("number"==typeof o||"number"==typeof o.data){var s=o.data||o,l=o.type||Float32Array,m=s*l.BYTES_PER_ELEMENT;u=R(l),f=void 0!==o.normalize?o.normalize:(d=l)===Int8Array||d===Uint8Array,c=o.numComponents||o.size||$(n,s),i=e.createBuffer(),e.bindBuffer(G,i),e.bufferData(G,m,o.drawType||35044)}else{var p=ee(o,n);i=Y(e,p,void 0,o.drawType),u=C(p),f=void 0!==o.normalize?o.normalize:function(e){return e instanceof Int8Array||e instanceof Uint8Array}(p),c=J(o,n)}t[a]={buffer:i,numComponents:c,type:u,normalize:f,stride:o.stride||0,offset:o.offset||0,divisor:void 0===o.divisor?void 0:o.divisor,drawType:o.drawType}}}var d})),e.bindBuffer(G,null),t}function te(e,r,t,n){t=ee(t),void 0!==n?(e.bindBuffer(G,r.buffer),e.bufferSubData(G,n,t)):X(e,G,r.buffer,t,r.drawType)}var ne=["position","positions","a_position"];function oe(e,r,t){var n=re(e,r),o=Object.assign({},t||{});o.attribs=Object.assign({},t?t.attribs:{},n);var a=r.indices;if(a){var i=ee(a,"indices");o.indices=Y(e,i,34963),o.numElements=i.length,o.elementType=C(i)}else o.numElements||(o.numElements=function(e,r){var t,n;for(n=0;n<ne.length&&!((t=ne[n])in r)&&!((t=W.attribPrefix+t)in r);++n);n===ne.length&&(t=Object.keys(r)[0]);var o=r[t];e.bindBuffer(G,o.buffer);var a=e.getBufferParameter(G,34660);e.bindBuffer(G,null);var i,u=a/(5120===(i=o.type)||5121===i?1:5122===i||5123===i?2:5124===i||5125===i||5126===i?4:0),f=o.numComponents||o.size,c=u/f;if(c%1!=0)throw new Error("numComponents ".concat(f," not correct for length ").concat(length));return c}(e,o.attribs));return o}function ae(e,r,t){var n="indices"===t?34963:G;return Y(e,ee(r,t),n)}function ie(e,r){var t={};return Object.keys(r).forEach((function(n){t[n]=ae(e,r[n],n)})),r.indices?(t.numElements=r.indices.length,t.elementType=C(ee(r.indices))):t.numElements=function(e){var r,t;for(t=0;t<ne.length&&!((r=ne[t])in e);++t);t===ne.length&&(r=Object.keys(e)[0]);var n=e[r],o=Q(n).length,a=J(n,r),i=o/a;if(o%a>0)throw new Error("numComponents ".concat(a," not correct for length ").concat(o));return i}(r),t}var ue=Object.freeze({__proto__:null,createAttribsFromArrays:re,createBuffersFromArrays:ie,createBufferFromArray:ae,createBufferFromTypedArray:Y,createBufferInfoFromArrays:oe,setAttribInfoBufferFromArray:te,setAttributePrefix:N,setAttributeDefaults_:q,getNumComponents_:J,getArray_:Q}),fe=Q,ce=J;function se(e,r){var t=0;return e.push=function(){for(var r=0;r<arguments.length;++r){var n=arguments[r];if(n instanceof Array||k(n))for(var o=0;o<n.length;++o)e[t++]=n[o];else e[t++]=n}},e.reset=function(e){t=e||0},e.numComponents=r,Object.defineProperty(e,"numElements",{get:function(){return this.length/this.numComponents|0}}),e}function le(e,r,t){return se(new(t||Float32Array)(e*r),e)}function me(e){return"indices"!==e}function pe(e,r,t){for(var n=e.length,o=new Float32Array(3),a=0;a<n;a+=3)t(r,[e[a],e[a+1],e[a+2]],o),e[a]=o[0],e[a+1]=o[1],e[a+2]=o[2]}function de(e,r,t){t=t||i();var n=r[0],o=r[1],a=r[2];return t[0]=n*e[0]+o*e[1]+a*e[2],t[1]=n*e[4]+o*e[5]+a*e[6],t[2]=n*e[8]+o*e[9]+a*e[10],t}function be(e,r){return pe(e,r,F),e}function ye(e,r){return pe(e,x(r),de),e}function ve(e,r){return pe(e,r,g),e}function he(e,r){return Object.keys(e).forEach((function(t){var n=e[t];t.indexOf("pos")>=0?ve(n,r):t.indexOf("tan")>=0||t.indexOf("binorm")>=0?be(n,r):t.indexOf("norm")>=0&&ye(n,r)})),e}function xe(e,r,t){return e=e||2,{position:{numComponents:2,data:[(r=r||0)+-1*(e*=.5),(t=t||0)+-1*e,r+1*e,t+-1*e,r+-1*e,t+1*e,r+1*e,t+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function ge(e,r,t,n,o){e=e||1,r=r||1,t=t||1,n=n||1,o=o||h();for(var a=(t+1)*(n+1),i=le(3,a),u=le(3,a),f=le(2,a),c=0;c<=n;c++)for(var s=0;s<=t;s++){var l=s/t,m=c/n;i.push(e*l-.5*e,0,r*m-.5*r),u.push(0,1,0),f.push(l,m)}for(var p=t+1,d=le(3,t*n*2,Uint16Array),b=0;b<n;b++)for(var y=0;y<t;y++)d.push((b+0)*p+y,(b+1)*p+y,(b+0)*p+y+1),d.push((b+1)*p+y,(b+1)*p+y+1,(b+0)*p+y+1);return he({position:i,normal:u,texcoord:f,indices:d},o)}function Fe(e,r,t,n,o,a,i){if(r<=0||t<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,a=a||0;for(var u=(o=o||Math.PI)-n,f=(i=i||2*Math.PI)-a,c=(r+1)*(t+1),s=le(3,c),l=le(3,c),m=le(2,c),p=0;p<=t;p++)for(var d=0;d<=r;d++){var b=d/r,y=p/t,v=f*b+a,h=u*y+n,x=Math.sin(v),g=Math.cos(v),F=Math.sin(h),A=g*F,w=Math.cos(h),E=x*F;s.push(e*A,e*w,e*E),l.push(A,w,E),m.push(1-b,y)}for(var T=r+1,P=le(3,r*t*2,Uint16Array),_=0;_<r;_++)for(var S=0;S<t;S++)P.push((S+0)*T+_,(S+0)*T+_+1,(S+1)*T+_),P.push((S+1)*T+_,(S+0)*T+_+1,(S+1)*T+_+1);return{position:s,normal:l,texcoord:m,indices:P}}var Ae=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function we(e){for(var r=(e=e||1)/2,t=[[-r,-r,-r],[+r,-r,-r],[-r,+r,-r],[+r,+r,-r],[-r,-r,+r],[+r,-r,+r],[-r,+r,+r],[+r,+r,+r]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],o=[[1,0],[0,0],[0,1],[1,1]],a=le(3,24),i=le(3,24),u=le(2,24),f=le(3,12,Uint16Array),c=0;c<6;++c){for(var s=Ae[c],l=0;l<4;++l){var m=t[s[l]],p=n[c],d=o[l];a.push(m),i.push(p),u.push(d)}var b=4*c;f.push(b+0,b+1,b+2),f.push(b+0,b+2,b+3)}return{position:a,normal:i,texcoord:u,indices:f}}function Ee(e,r,t,n,o,a,i){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(o<1)throw new Error("verticalSubdivisions must be 1 or greater");for(var u=void 0===a||a,f=void 0===i||i,c=(u?2:0)+(f?2:0),s=(n+1)*(o+1+c),l=le(3,s),m=le(3,s),p=le(2,s),d=le(3,n*(o+c/2)*2,Uint16Array),b=n+1,y=Math.atan2(e-r,t),v=Math.cos(y),h=Math.sin(y),x=o+(f?2:0),g=u?-2:0;g<=x;++g){var F=g/o,A=t*F,w=void 0;g<0?(A=0,F=1,w=e):g>o?(A=t,F=1,w=r):w=e+g/o*(r-e),-2!==g&&g!==o+2||(w=0,F=0),A-=t/2;for(var E=0;E<b;++E){var T=Math.sin(E*Math.PI*2/n),P=Math.cos(E*Math.PI*2/n);l.push(T*w,A,P*w),g<0?m.push(0,-1,0):g>o?m.push(0,1,0):0===w?m.push(0,0,0):m.push(T*v,h,P*v),p.push(E/n,1-F)}}for(var _=0;_<o+c;++_)if(!(1===_&&u||_===o+c-2&&f))for(var S=0;S<n;++S)d.push(b*(_+0)+0+S,b*(_+0)+1+S,b*(_+1)+1+S),d.push(b*(_+0)+0+S,b*(_+1)+1+S,b*(_+1)+0+S);return{position:l,normal:m,texcoord:p,indices:d}}function Te(e,r){r=r||[];for(var t=[],n=0;n<e.length;n+=4){var o=e[n],a=e.slice(n+1,n+4);a.push.apply(a,r);for(var i=0;i<o;++i)t.push.apply(t,a)}return t}function Pe(){var e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],r=Te([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),t=Te([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=e.length/3,o={position:le(3,n),texcoord:le(2,n),normal:le(3,n),color:le(4,n,Uint8Array),indices:le(3,n/3,Uint16Array)};o.position.push(e),o.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),o.normal.push(r),o.color.push(t);for(var a=0;a<n;++a)o.indices.push(a);return o}function _e(e,r,t,n,o,a,i){if(o<=0)throw new Error("subdivisionDown must be > 0");var f=(i=i||1)-(a=a||0),c=2*(o+1)*4,s=le(3,c),m=le(3,c),p=le(2,c);function d(e,r,t){return e+(r-e)*t}function b(r,t,i,c,b,y){for(var v=0;v<=o;v++){var h=t/1,x=v/o,g=2*(h-.5),F=(a+x*f)*Math.PI,A=Math.sin(F),w=Math.cos(F),E=d(e,r,A),T=g*n,P=w*e,_=A*E;s.push(T,P,_);var S=u(l([0,A,w],i),c);m.push(S),p.push(h*b+y,x)}}for(var y=0;y<2;y++){var v=2*(y/1-.5);b(r,y,[1,1,1],[0,0,0],1,0),b(r,y,[0,0,0],[v,0,0],0,0),b(t,y,[1,1,1],[0,0,0],1,0),b(t,y,[0,0,0],[v,0,0],0,1)}var h=le(3,2*o*4,Uint16Array);function x(e,r){for(var t=0;t<o;++t)h.push(e+t+0,e+t+1,r+t+0),h.push(e+t+1,r+t+1,r+t+0)}var g=o+1;return x(0*g,4*g),x(5*g,7*g),x(6*g,2*g),x(3*g,1*g),{position:s,normal:m,texcoord:p,indices:h}}function Se(e,r,t,n,o,a){return Ee(e,e,r,t,n,o,a)}function Ie(e,r,t,n,o,a){if(t<3)throw new Error("radialSubdivisions must be 3 or greater");if(n<3)throw new Error("verticalSubdivisions must be 3 or greater");o=o||0;for(var i=(a=a||2*Math.PI)-o,u=t+1,f=n+1,c=u*f,s=le(3,c),l=le(3,c),m=le(2,c),p=le(3,t*n*2,Uint16Array),d=0;d<f;++d)for(var b=d/n,y=b*Math.PI*2,v=Math.sin(y),h=e+v*r,x=Math.cos(y),g=x*r,F=0;F<u;++F){var A=F/t,w=o+A*i,E=Math.sin(w),T=Math.cos(w),P=E*h,_=T*h,S=E*v,I=T*v;s.push(P,g,_),l.push(S,x,I),m.push(A,1-b)}for(var B=0;B<n;++B)for(var z=0;z<t;++z){var C=1+z,R=1+B;p.push(u*B+z,u*R+z,u*B+C),p.push(u*R+z,u*R+C,u*B+C)}return{position:s,normal:l,texcoord:m,indices:p}}function Be(e,r,t,n,o){if(r<3)throw new Error("divisions must be at least 3");o=o||1,n=n||0;for(var a=(r+1)*((t=t||1)+1),i=le(3,a),u=le(3,a),f=le(2,a),c=le(3,t*r*2,Uint16Array),s=0,l=e-n,m=r+1,p=0;p<=t;++p){for(var d=n+l*Math.pow(p/t,o),b=0;b<=r;++b){var y=2*Math.PI*b/r,v=d*Math.cos(y),h=d*Math.sin(y);if(i.push(v,0,h),u.push(0,1,0),f.push(1-b/r,p/t),p>0&&b!==r){var x=s+(b+1),g=s+b,F=s+b-m,A=s+(b+1)-m;c.push(x,g,F),c.push(x,F,A)}}s+=r+1}return{position:i,normal:u,texcoord:f,indices:c}}function ze(e){return function(r){var t=e.apply(this,Array.prototype.slice.call(arguments,1));return ie(r,t)}}function Ce(e){return function(r){var t=e.apply(null,Array.prototype.slice.call(arguments,1));return oe(r,t)}}var Re=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function Me(e,r,t,n){n=n||0;for(var o=e.length,a=0;a<o;++a)r[t+a]=e[a]+n}function ke(e,r){var t,n,o=fe(e),a=new o.constructor(r),i=a;return o.numComponents&&o.numElements&&se(a,o.numComponents),e.data&&(t=e,n=i={data:a},Re.forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)}))),i}var Ue=Ce(Pe),Oe=ze(Pe),Le=Ce(we),De=ze(we),je=Ce(ge),Ve=ze(ge),Ge=Ce(Fe),We=ze(Fe),Ne=Ce(Ee),qe=ze(Ee),Xe=Ce(xe),Ye=ze(xe),He=Ce(_e),Qe=ze(_e),Ze=Ce(Se),Ke=ze(Se),$e=Ce(Ie),Je=ze(Ie),er=Ce(Be),rr=ze(Be),tr=He,nr=Qe,or=_e,ar=Object.freeze({__proto__:null,create3DFBufferInfo:Ue,create3DFBuffers:Oe,create3DFVertices:Pe,createAugmentedTypedArray:le,createCubeBufferInfo:Le,createCubeBuffers:De,createCubeVertices:we,createPlaneBufferInfo:je,createPlaneBuffers:Ve,createPlaneVertices:ge,createSphereBufferInfo:Ge,createSphereBuffers:We,createSphereVertices:Fe,createTruncatedConeBufferInfo:Ne,createTruncatedConeBuffers:qe,createTruncatedConeVertices:Ee,createXYQuadBufferInfo:Xe,createXYQuadBuffers:Ye,createXYQuadVertices:xe,createCresentBufferInfo:tr,createCresentBuffers:nr,createCresentVertices:or,createCrescentBufferInfo:He,createCrescentBuffers:Qe,createCrescentVertices:_e,createCylinderBufferInfo:Ze,createCylinderBuffers:Ke,createCylinderVertices:Se,createTorusBufferInfo:$e,createTorusBuffers:Je,createTorusVertices:Ie,createDiscBufferInfo:er,createDiscBuffers:rr,createDiscVertices:Be,deindexVertices:function(e){var r=e.indices,t={},n=r.length;return Object.keys(e).filter(me).forEach((function(o){for(var a=e[o],i=a.numComponents,u=le(i,n,a.constructor),f=0;f<n;++f)for(var c=r[f]*i,s=0;s<i;++s)u.push(a[c+s]);t[o]=u})),t},flattenNormals:function(e){if(e.indices)throw new Error("can not flatten normals of indexed vertices. deindex them first");for(var r=e.normal,t=r.length,n=0;n<t;n+=9){var o=r[n+0],a=r[n+1],i=r[n+2],u=r[n+3],f=r[n+4],c=r[n+5],s=o+u+r[n+6],l=a+f+r[n+7],m=i+c+r[n+8],p=Math.sqrt(s*s+l*l+m*m);s/=p,l/=p,m/=p,r[n+0]=s,r[n+1]=l,r[n+2]=m,r[n+3]=s,r[n+4]=l,r[n+5]=m,r[n+6]=s,r[n+7]=l,r[n+8]=m}return e},makeRandomVertexColors:function(e,r){r=r||{};var t=e.position.numElements,n=le(4,t,Uint8Array),o=r.rand||function(e,r){return r<3?(t=256,Math.random()*t|0):255;var t};if(e.color=n,e.indices)for(var a=0;a<t;++a)n.push(o(a,0),o(a,1),o(a,2),o(a,3));else for(var i=r.vertsPerColor||3,u=t/i,f=0;f<u;++f)for(var c=[o(f,0),o(f,1),o(f,2),o(f,3)],s=0;s<i;++s)n.push(c);return e},reorientDirections:be,reorientNormals:ye,reorientPositions:ve,reorientVertices:he,concatVertices:function(e){for(var r,t=function(t){var o=e[t];Object.keys(o).forEach((function(e){n[e]||(n[e]=[]),r||"indices"===e||(r=e);var t=o[e],a=ce(t,e),i=fe(t).length/a;n[e].push(i)}))},n={},o=0;o<e.length;++o)t(o);var a=n[r],i={};return Object.keys(n).forEach((function(r){var t=function(r){for(var t,n=0,o=0;o<e.length;++o){var a=e[o][r];n+=fe(a).length,t&&!a.data||(t=a)}return{length:n,spec:t}}(r),n=ke(t.spec,t.length);!function(r,t,n){for(var o=0,a=0,i=0;i<e.length;++i){var u=e[i][r],f=fe(u);"indices"===r?(Me(f,n,a,o),o+=t[i]):Me(f,n,a),a+=f.length}}(r,a,fe(n)),i[r]=n})),i},duplicateVertices:function(e){var r={};return Object.keys(e).forEach((function(t){var n=e[t],o=fe(n),a=ke(n,o.length);Me(o,fe(a),0),r[t]=a})),r}});function ir(e){return!!e.texStorage2D}function ur(e){return!e.texStorage2D}var fr,cr,sr,lr,mr=(fr={},cr={},function(e,r){return function(e){var r=e.constructor.name;if(!fr[r]){for(var t in e)if("number"==typeof e[t]){var n=cr[e[t]];cr[e[t]]=n?"".concat(n," | ").concat(t):t}fr[r]=!0}}(e),cr[r]||("number"==typeof r?"0x".concat(r.toString(16)):r)}),pr=Object.freeze({__proto__:null,glEnumToString:mr,isWebGL1:ur,isWebGL2:ir}),dr={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},br=k,yr=function(){return sr=sr||("undefined"!=typeof document&&document.createElement?document.createElement("canvas").getContext("2d"):null)},vr=6406,hr=6407,xr=6408,gr=6409,Fr=6410,Ar=6402,wr=34041,Er=33071,Tr=3553,Pr=34067,_r=32879,Sr=35866,Ir=34069,Br=10241,zr=10240,Cr=10242,Rr=10243,Mr=3317,kr=5120,Ur=5121,Or=5122,Lr=5123,Dr=5124,jr=5125,Vr=5126,Gr=5131,Wr=36193,Nr=33640,qr=33319,Xr=33320,Yr=6403,Hr=36244,Qr=36248,Zr=36249,Kr={},$r=Kr;function Jr(e){if(!lr){var r={};r[6406]={textureFormat:vr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Ur,Gr,Wr,Vr]},r[6409]={textureFormat:gr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[Ur,Gr,Wr,Vr]},r[6410]={textureFormat:Fr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[Ur,Gr,Wr,Vr]},r[hr]={textureFormat:hr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[Ur,Gr,Wr,Vr,33635]},r[xr]={textureFormat:xr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[Ur,Gr,Wr,Vr,32819,32820]},r[6402]={textureFormat:Ar,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[jr,Lr]},r[33321]={textureFormat:Yr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1],type:[Ur]},r[36756]={textureFormat:Yr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[1],type:[kr]},r[33325]={textureFormat:Yr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[Vr,Gr]},r[33326]={textureFormat:Yr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[4],type:[Vr]},r[33330]={textureFormat:Hr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[Ur]},r[33329]={textureFormat:Hr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[1],type:[kr]},r[33332]={textureFormat:Hr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Lr]},r[33331]={textureFormat:Hr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Or]},r[33334]={textureFormat:Hr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[jr]},r[33333]={textureFormat:Hr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Dr]},r[33323]={textureFormat:qr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2],type:[Ur]},r[36757]={textureFormat:qr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[2],type:[kr]},r[33327]={textureFormat:qr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[Vr,Gr]},r[33328]={textureFormat:qr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[8],type:[Vr]},r[33336]={textureFormat:Xr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[Ur]},r[33335]={textureFormat:Xr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2],type:[kr]},r[33338]={textureFormat:Xr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Lr]},r[33337]={textureFormat:Xr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Or]},r[33340]={textureFormat:Xr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[jr]},r[33339]={textureFormat:Xr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Dr]},r[32849]={textureFormat:hr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3],type:[Ur]},r[35905]={textureFormat:hr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[Ur]},r[36194]={textureFormat:hr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[Ur,33635]},r[36758]={textureFormat:hr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[3],type:[kr]},r[35898]={textureFormat:hr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Vr,Gr,35899]},r[35901]={textureFormat:hr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[Vr,Gr,35902]},r[34843]={textureFormat:hr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[Vr,Gr]},r[34837]={textureFormat:hr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Vr]},r[36221]={textureFormat:Qr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[Ur]},r[36239]={textureFormat:Qr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[3],type:[kr]},r[36215]={textureFormat:Qr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Lr]},r[36233]={textureFormat:Qr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[6],type:[Or]},r[36209]={textureFormat:Qr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[jr]},r[36227]={textureFormat:Qr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[12],type:[Dr]},r[32856]={textureFormat:xr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ur]},r[35907]={textureFormat:xr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Ur]},r[36759]={textureFormat:xr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4],type:[kr]},r[32855]={textureFormat:xr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[Ur,32820,Nr]},r[32854]={textureFormat:xr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[Ur,32819]},r[32857]={textureFormat:xr,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4],type:[Nr]},r[34842]={textureFormat:xr,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[Vr,Gr]},r[34836]={textureFormat:xr,colorRenderable:!1,textureFilterable:!1,bytesPerElement:[16],type:[Vr]},r[36220]={textureFormat:Zr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Ur]},r[36238]={textureFormat:Zr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[kr]},r[36975]={textureFormat:Zr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Nr]},r[36214]={textureFormat:Zr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Lr]},r[36232]={textureFormat:Zr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[8],type:[Or]},r[36226]={textureFormat:Zr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[Dr]},r[36208]={textureFormat:Zr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[16],type:[jr]},r[33189]={textureFormat:Ar,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[Lr,jr]},r[33190]={textureFormat:Ar,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[jr]},r[36012]={textureFormat:Ar,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[Vr]},r[35056]={textureFormat:wr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[34042]},r[36013]={textureFormat:wr,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[4],type:[36269]},Object.keys(r).forEach((function(e){var t=r[e];t.bytesPerElementMap={},t.bytesPerElement.forEach((function(e,r){var n=t.type[r];t.bytesPerElementMap[n]=e}))})),lr=r}return lr[e]}function et(e,r){var t=Jr(e);if(!t)throw"unknown internal format";var n=t.bytesPerElementMap[r];if(void 0===n)throw"unknown internal format";return n}function rt(e){var r=Jr(e);if(!r)throw"unknown internal format";return{format:r.textureFormat,type:r.type[0]}}function tt(e){return 0==(e&e-1)}function nt(e,r,t,n){if(!ir(e))return tt(r)&&tt(t);var o=Jr(n);if(!o)throw"unknown internal format";return o.colorRenderable&&o.textureFilterable}function ot(e){var r=Jr(e);if(!r)throw"unknown internal format";return r.textureFilterable}function at(e){var r=Kr[e];if(!r)throw"unknown format: "+e;return r.numColorComponents}function it(e,r,t){return br(r)?C(r):t||Ur}function ut(e,r,t,n,o){if(o%1!=0)throw"can't guess dimensions";if(t||n){if(n){if(!t&&(t=o/n)%1)throw"can't guess dimensions"}else if((n=o/t)%1)throw"can't guess dimensions"}else{var a=Math.sqrt(o/(r===Pr?6:1));a%1==0?(t=a,n=a):(t=o,n=1)}return{width:t,height:n}}function ft(e){dr.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}function ct(e){O(e,dr),e.textureColor&&ft(e.textureColor)}function st(e,r){void 0!==r.colorspaceConversion&&e.pixelStorei(37443,r.colorspaceConversion),void 0!==r.premultiplyAlpha&&e.pixelStorei(37441,r.premultiplyAlpha),void 0!==r.flipY&&e.pixelStorei(37440,r.flipY)}function lt(e){e.pixelStorei(Mr,4),ir(e)&&(e.pixelStorei(3314,0),e.pixelStorei(32878,0),e.pixelStorei(3316,0),e.pixelStorei(3315,0),e.pixelStorei(32877,0))}function mt(e,r,t,n){var o;n.minMag&&(t.call(e,r,Br,n.minMag),t.call(e,r,zr,n.minMag)),n.min&&t.call(e,r,Br,n.min),n.mag&&t.call(e,r,zr,n.mag),n.wrap&&(t.call(e,r,Cr,n.wrap),t.call(e,r,Rr,n.wrap),(r===_r||(o=r,"undefined"!=typeof WebGLSampler&&o instanceof WebGLSampler))&&t.call(e,r,32882,n.wrap)),n.wrapR&&t.call(e,r,32882,n.wrapR),n.wrapS&&t.call(e,r,Cr,n.wrapS),n.wrapT&&t.call(e,r,Rr,n.wrapT),n.minLod&&t.call(e,r,33082,n.minLod),n.maxLod&&t.call(e,r,33083,n.maxLod),n.baseLevel&&t.call(e,r,33084,n.baseLevel),n.maxLevel&&t.call(e,r,33085,n.maxLevel)}function pt(e,r,t){var n=t.target||Tr;e.bindTexture(n,r),mt(e,n,e.texParameteri,t)}function dt(e,r,t){mt(e,r,e.samplerParameteri,t)}function bt(e,r){var t=e.createSampler();return dt(e,t,r),t}function yt(e,r){var t={};return Object.keys(r).forEach((function(n){t[n]=bt(e,r[n])})),t}function vt(e,r,t,n,o,a){t=t||dr.textureOptions,a=a||xr;var i=t.target||Tr;if(n=n||t.width,o=o||t.height,e.bindTexture(i,r),nt(e,n,o,a))e.generateMipmap(i);else{var u=ot(a)?9729:9728;e.texParameteri(i,Br,u),e.texParameteri(i,zr,u),e.texParameteri(i,Cr,Er),e.texParameteri(i,Rr,Er)}}function ht(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function xt(e,r){return(r=r||{}).cubeFaceOrder||[Ir,34070,34071,34072,34073,34074]}function gt(e,r){var t=xt(0,r).map((function(e,r){return{face:e,ndx:r}}));return t.sort((function(e,r){return e.face-r.face})),t}function Ft(e,r,t,n){var o=(n=n||dr.textureOptions).target||Tr,a=n.level||0,i=t.width,u=t.height,f=n.internalFormat||n.format||xr,c=rt(f),s=n.format||c.format,l=n.type||c.type;if(st(e,n),e.bindTexture(o,r),o===Pr){var m,p,d=t.width,b=t.height;if(d/6===b)m=b,p=[0,0,1,0,2,0,3,0,4,0,5,0];else if(b/6===d)m=d,p=[0,0,0,1,0,2,0,3,0,4,0,5];else if(d/3==b/2)m=d/3,p=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(d/2!=b/3)throw"can't figure out cube map from element: "+(t.src?t.src:t.nodeName);m=d/2,p=[0,0,1,0,0,1,1,1,0,2,1,2]}var y=yr();y?(y.canvas.width=m,y.canvas.height=m,i=m,u=m,gt(0,n).forEach((function(r){var n=p[2*r.ndx+0]*m,o=p[2*r.ndx+1]*m;y.drawImage(t,n,o,m,m,0,0,m,m),e.texImage2D(r.face,a,f,s,l,y.canvas)})),y.canvas.width=1,y.canvas.height=1):"undefined"!=typeof createImageBitmap&&(i=m,u=m,gt(0,n).forEach((function(c){var d=p[2*c.ndx+0]*m,b=p[2*c.ndx+1]*m;e.texImage2D(c.face,a,f,m,m,0,s,l,null),createImageBitmap(t,d,b,m,m,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then((function(t){st(e,n),e.bindTexture(o,r),e.texImage2D(c.face,a,f,s,l,t),ht(n)&&vt(e,r,n,i,u,f)}))})))}else if(o===_r||o===Sr){var v=Math.min(t.width,t.height),h=Math.max(t.width,t.height),x=h/v;if(x%1!=0)throw"can not compute 3D dimensions of element";var g=t.width===h?1:0,F=t.height===h?1:0;e.pixelStorei(Mr,1),e.pixelStorei(3314,t.width),e.pixelStorei(32878,0),e.pixelStorei(32877,0),e.texImage3D(o,a,f,v,v,v,0,s,l,null);for(var A=0;A<x;++A){var w=A*v*g,E=A*v*F;e.pixelStorei(3316,w),e.pixelStorei(3315,E),e.texSubImage3D(o,a,0,0,A,v,v,1,s,l,t)}lt(e)}else e.texImage2D(o,a,f,s,l,t);ht(n)&&vt(e,r,n,i,u,f),pt(e,r,n)}function At(){}function wt(e,r){return void 0!==r||function(e){if("undefined"!=typeof document){var r=document.createElement("a");return r.href=e,r.hostname===location.hostname&&r.port===location.port&&r.protocol===location.protocol}var t=new URL(location.href).origin;return new URL(e,location.href).origin===t}(e)?r:"anonymous"}function Et(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof ImageData&&e instanceof ImageData||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}function Tt(e,r,t){return Et(e)?(setTimeout((function(){t(null,e)})),e):function(e,r,t){var n;if(t=t||At,r=void 0!==r?r:dr.crossOrigin,r=wt(e,r),"undefined"!=typeof Image){n=new Image,void 0!==r&&(n.crossOrigin=r);var o=function(){n.removeEventListener("error",a),n.removeEventListener("load",i),n=null},a=function(){var r="couldn't load image: "+e;L(r),t(r,n),o()},i=function(){t(null,n),o()};return n.addEventListener("error",a),n.addEventListener("load",i),n.src=e,n}if("undefined"!=typeof ImageBitmap){var u,f,c=function(){t(u,f)},s={};r&&(s.mode="cors"),fetch(e,s).then((function(e){if(!e.ok)throw e;return e.blob()})).then((function(e){return createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(e){f=e,setTimeout(c)})).catch((function(e){u=e,setTimeout(c)})),n=null}return n}(e,r,t)}function Pt(e,r,t){var n=(t=t||dr.textureOptions).target||Tr;if(e.bindTexture(n,r),!1!==t.color){var o=function(e){return e=e||dr.textureColor,br(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(t.color);if(n===Pr)for(var a=0;a<6;++a)e.texImage2D(Ir+a,0,xr,1,1,0,xr,Ur,o);else n===_r||n===Sr?e.texImage3D(n,0,xr,1,1,1,0,xr,Ur,o):e.texImage2D(n,0,xr,1,1,0,xr,Ur,o)}}function _t(e,r,t,n){return n=n||At,t=t||dr.textureOptions,Pt(e,r,t),Tt((t=Object.assign({},t)).src,t.crossOrigin,(function(o,a){o?n(o,r,a):(Ft(e,r,a,t),n(null,r,a))}))}function St(e,r,t,n){n=n||At;var o=t.src;if(6!==o.length)throw"there must be 6 urls for a cubemap";var a=t.level||0,i=t.internalFormat||t.format||xr,u=rt(i),f=t.format||u.format,c=t.type||Ur,s=t.target||Tr;if(s!==Pr)throw"target must be TEXTURE_CUBE_MAP";Pt(e,r,t),t=Object.assign({},t);var l,m=6,p=[],d=xt(0,t);l=o.map((function(o,u){return Tt(o,t.crossOrigin,(b=d[u],function(o,u){--m,o?p.push(o):u.width!==u.height?p.push("cubemap face img is not a square: "+u.src):(st(e,t),e.bindTexture(s,r),5===m?xt().forEach((function(r){e.texImage2D(r,a,i,f,c,u)})):e.texImage2D(b,a,i,f,c,u),ht(t)&&e.generateMipmap(s)),0===m&&n(p.length?p:void 0,r,l)}));var b}))}function It(e,r,t,n){n=n||At;var o=t.src,a=t.internalFormat||t.format||xr,i=rt(a),u=t.format||i.format,f=t.type||Ur,c=t.target||Sr;if(c!==_r&&c!==Sr)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";Pt(e,r,t),t=Object.assign({},t);var s,l=o.length,m=[],p=t.level||0,d=t.width,b=t.height,y=o.length,v=!0;s=o.map((function(o,i){return Tt(o,t.crossOrigin,(h=i,function(o,i){if(--l,o)m.push(o);else{if(st(e,t),e.bindTexture(c,r),v){v=!1,d=t.width||i.width,b=t.height||i.height,e.texImage3D(c,p,a,d,b,y,0,u,f,null);for(var x=0;x<y;++x)e.texSubImage3D(c,p,0,0,x,d,b,1,u,f,i)}else{var g=i,F=void 0;i.width===d&&i.height===b||(g=(F=yr()).canvas,F.canvas.width=d,F.canvas.height=b,F.drawImage(i,0,0,d,b)),e.texSubImage3D(c,p,0,0,h,d,b,1,u,f,g),F&&g===F.canvas&&(F.canvas.width=0,F.canvas.height=0)}ht(t)&&e.generateMipmap(c)}0===l&&n(m.length?m:void 0,r,s)}));var h}))}function Bt(e,r,t,n){var o=(n=n||dr.textureOptions).target||Tr;e.bindTexture(o,r);var a=n.width,i=n.height,u=n.depth,f=n.level||0,c=n.internalFormat||n.format||xr,s=rt(c),l=n.format||s.format,m=n.type||it(0,t,s.type);if(br(t))t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));else{var p=M(m);t=new p(t)}var d,b=et(c,m),y=t.byteLength/b;if(y%1)throw"length wrong size for format: "+mr(e,l);if(o===_r||o===Sr)if(a||i||u)!a||i&&u?!i||a&&u?(d=ut(0,o,a,i,y/u),a=d.width,i=d.height):(d=ut(0,o,a,u,y/i),a=d.width,u=d.height):(d=ut(0,o,i,u,y/a),i=d.width,u=d.height);else{var v=Math.cbrt(y);if(v%1!=0)throw"can't guess cube size of array of numElements: "+y;a=v,i=v,u=v}else d=ut(0,o,a,i,y),a=d.width,i=d.height;if(lt(e),e.pixelStorei(Mr,n.unpackAlignment||1),st(e,n),o===Pr){var h=y/6*(b/t.BYTES_PER_ELEMENT);gt(0,n).forEach((function(r){var n=h*r.ndx,o=t.subarray(n,n+h);e.texImage2D(r.face,f,c,a,i,0,l,m,o)}))}else o===_r||o===Sr?e.texImage3D(o,f,c,a,i,u,0,l,m,t):e.texImage2D(o,f,c,a,i,0,l,m,t);return{width:a,height:i,depth:u,type:m}}function zt(e,r,t){var n=t.target||Tr;e.bindTexture(n,r);var o=t.level||0,a=t.internalFormat||t.format||xr,i=rt(a),u=t.format||i.format,f=t.type||i.type;if(st(e,t),n===Pr)for(var c=0;c<6;++c)e.texImage2D(Ir+c,o,a,t.width,t.height,0,u,f,null);else n===_r||n===Sr?e.texImage3D(n,o,a,t.width,t.height,t.depth,0,u,f,null):e.texImage2D(n,o,a,t.width,t.height,0,u,f,null)}function Ct(e,r,t){t=t||At,r=r||dr.textureOptions;var n=e.createTexture(),o=r.target||Tr,a=r.width||1,i=r.height||1,u=r.internalFormat||xr;e.bindTexture(o,n),o===Pr&&(e.texParameteri(o,Cr,Er),e.texParameteri(o,Rr,Er));var f=r.src;if(f)if("function"==typeof f&&(f=f(e,r)),"string"==typeof f)_t(e,n,r,t);else if(br(f)||Array.isArray(f)&&("number"==typeof f[0]||Array.isArray(f[0])||br(f[0]))){var c=Bt(e,n,f,r);a=c.width,i=c.height}else Array.isArray(f)&&("string"==typeof f[0]||Et(f[0]))?o===Pr?St(e,n,r,t):It(e,n,r,t):(Ft(e,n,f,r),a=f.width,i=f.height);else zt(e,n,r);return ht(r)&&vt(e,n,r,a,i,u),pt(e,n,r),n}function Rt(e,r,t,n,o,a){n=n||t.width,o=o||t.height,a=a||t.depth;var i=t.target||Tr;e.bindTexture(i,r);var u,f=t.level||0,c=t.internalFormat||t.format||xr,s=rt(c),l=t.format||s.format,m=t.src;if(u=m&&(br(m)||Array.isArray(m)&&"number"==typeof m[0])?t.type||it(0,m,s.type):t.type||s.type,i===Pr)for(var p=0;p<6;++p)e.texImage2D(Ir+p,f,c,n,o,0,l,u,null);else i===_r||i===Sr?e.texImage3D(i,f,c,n,o,a,0,l,u,null):e.texImage2D(i,f,c,n,o,0,l,u,null)}function Mt(e,r,t){t=t||At;var n=0,o=[],a={},i={};function u(){0===n&&setTimeout((function(){t(o.length?o:void 0,a,i)}),0)}return Object.keys(r).forEach((function(t){var f,c,s=r[t];("string"==typeof(c=s.src)||Array.isArray(c)&&"string"==typeof c[0])&&(f=function(e,r,a){i[t]=a,--n,e&&o.push(e),u()},++n),a[t]=Ct(e,s,f)})),u(),a}$r[6406]={numColorComponents:1},$r[6409]={numColorComponents:1},$r[6410]={numColorComponents:2},$r[hr]={numColorComponents:3},$r[xr]={numColorComponents:4},$r[Yr]={numColorComponents:1},$r[36244]={numColorComponents:1},$r[qr]={numColorComponents:2},$r[33320]={numColorComponents:2},$r[hr]={numColorComponents:3},$r[36248]={numColorComponents:3},$r[xr]={numColorComponents:4},$r[36249]={numColorComponents:4},$r[6402]={numColorComponents:1},$r[34041]={numColorComponents:2};var kt=Object.freeze({__proto__:null,setTextureDefaults_:ct,createSampler:bt,createSamplers:yt,setSamplerParameters:dt,createTexture:Ct,setEmptyTexture:zt,setTextureFromArray:Bt,loadTextureFromUrl:_t,setTextureFromElement:Ft,setTextureFilteringForSize:vt,setTextureParameters:pt,setDefaultTextureColor:ft,createTextures:Mt,resizeTexture:Rt,canGenerateMipmap:nt,canFilter:ot,getNumComponentsForFormat:at,getBytesPerElementForInternalFormat:et,getFormatAndTypeForInternalFormat:rt}),Ut=L,Ot=D;function Lt(e){return"undefined"!=typeof document&&document.getElementById?document.getElementById(e):null}var Dt=33984,jt=34962,Vt=35345,Gt=5126,Wt=5124,Nt=5125,qt=3553,Xt=34067,Yt=32879,Ht=35866,Qt={};function Zt(e,r){return Qt[r].bindPoint}function Kt(e,r){return function(t){e.uniform1i(r,t)}}function $t(e,r){return function(t){e.uniform1iv(r,t)}}function Jt(e,r){return function(t){e.uniform2iv(r,t)}}function en(e,r){return function(t){e.uniform3iv(r,t)}}function rn(e,r){return function(t){e.uniform4iv(r,t)}}function tn(e,r,t,n){var o=Zt(0,r);return ir(e)?function(r){var a,i;V(0,r)?(a=r,i=null):(a=r.texture,i=r.sampler),e.uniform1i(n,t),e.activeTexture(Dt+t),e.bindTexture(o,a),e.bindSampler(t,i)}:function(r){e.uniform1i(n,t),e.activeTexture(Dt+t),e.bindTexture(o,r)}}function nn(e,r,t,n,o){for(var a=Zt(0,r),i=new Int32Array(o),u=0;u<o;++u)i[u]=t+u;return ir(e)?function(r){e.uniform1iv(n,i),r.forEach((function(r,n){var o,u;e.activeTexture(Dt+i[n]),V(0,r)?(o=r,u=null):(o=r.texture,u=r.sampler),e.bindSampler(t,u),e.bindTexture(a,o)}))}:function(r){e.uniform1iv(n,i),r.forEach((function(r,t){e.activeTexture(Dt+i[t]),e.bindTexture(a,r)}))}}function on(e,r){return function(t){if(t.value)switch(e.disableVertexAttribArray(r),t.value.length){case 4:e.vertexAttrib4fv(r,t.value);break;case 3:e.vertexAttrib3fv(r,t.value);break;case 2:e.vertexAttrib2fv(r,t.value);break;case 1:e.vertexAttrib1fv(r,t.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(jt,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,t.numComponents||t.size,t.type||Gt,t.normalize||!1,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function an(e,r){return function(t){if(t.value){if(e.disableVertexAttribArray(r),4!==t.value.length)throw new Error("The length of an integer constant value must be 4!");e.vertexAttrib4iv(r,t.value)}else e.bindBuffer(jt,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribIPointer(r,t.numComponents||t.size,t.type||Wt,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function un(e,r){return function(t){if(t.value){if(e.disableVertexAttribArray(r),4!==t.value.length)throw new Error("The length of an unsigned integer constant value must be 4!");e.vertexAttrib4uiv(r,t.value)}else e.bindBuffer(jt,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribIPointer(r,t.numComponents||t.size,t.type||Nt,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function fn(e,r,t){var n=t.size,o=t.count;return function(t){e.bindBuffer(jt,t.buffer);for(var a=t.size||t.numComponents||n,i=a/o,u=t.type||Gt,f=Qt[u].size*a,c=t.normalize||!1,s=t.offset||0,l=f/o,m=0;m<o;++m)e.enableVertexAttribArray(r+m),e.vertexAttribPointer(r+m,i,u,c,f,s+l*m),void 0!==t.divisor&&e.vertexAttribDivisor(r+m,t.divisor)}}Qt[5126]={Type:Float32Array,size:4,setter:function(e,r){return function(t){e.uniform1f(r,t)}},arraySetter:function(e,r){return function(t){e.uniform1fv(r,t)}}},Qt[35664]={Type:Float32Array,size:8,setter:function(e,r){return function(t){e.uniform2fv(r,t)}},cols:2},Qt[35665]={Type:Float32Array,size:12,setter:function(e,r){return function(t){e.uniform3fv(r,t)}},cols:3},Qt[35666]={Type:Float32Array,size:16,setter:function(e,r){return function(t){e.uniform4fv(r,t)}},cols:4},Qt[5124]={Type:Int32Array,size:4,setter:Kt,arraySetter:$t},Qt[35667]={Type:Int32Array,size:8,setter:Jt,cols:2},Qt[35668]={Type:Int32Array,size:12,setter:en,cols:3},Qt[35669]={Type:Int32Array,size:16,setter:rn,cols:4},Qt[5125]={Type:Uint32Array,size:4,setter:function(e,r){return function(t){e.uniform1ui(r,t)}},arraySetter:function(e,r){return function(t){e.uniform1uiv(r,t)}}},Qt[36294]={Type:Uint32Array,size:8,setter:function(e,r){return function(t){e.uniform2uiv(r,t)}},cols:2},Qt[36295]={Type:Uint32Array,size:12,setter:function(e,r){return function(t){e.uniform3uiv(r,t)}},cols:3},Qt[36296]={Type:Uint32Array,size:16,setter:function(e,r){return function(t){e.uniform4uiv(r,t)}},cols:4},Qt[35670]={Type:Uint32Array,size:4,setter:Kt,arraySetter:$t},Qt[35671]={Type:Uint32Array,size:8,setter:Jt,cols:2},Qt[35672]={Type:Uint32Array,size:12,setter:en,cols:3},Qt[35673]={Type:Uint32Array,size:16,setter:rn,cols:4},Qt[35674]={Type:Float32Array,size:32,setter:function(e,r){return function(t){e.uniformMatrix2fv(r,!1,t)}},rows:2,cols:2},Qt[35675]={Type:Float32Array,size:48,setter:function(e,r){return function(t){e.uniformMatrix3fv(r,!1,t)}},rows:3,cols:3},Qt[35676]={Type:Float32Array,size:64,setter:function(e,r){return function(t){e.uniformMatrix4fv(r,!1,t)}},rows:4,cols:4},Qt[35685]={Type:Float32Array,size:32,setter:function(e,r){return function(t){e.uniformMatrix2x3fv(r,!1,t)}},rows:2,cols:3},Qt[35686]={Type:Float32Array,size:32,setter:function(e,r){return function(t){e.uniformMatrix2x4fv(r,!1,t)}},rows:2,cols:4},Qt[35687]={Type:Float32Array,size:48,setter:function(e,r){return function(t){e.uniformMatrix3x2fv(r,!1,t)}},rows:3,cols:2},Qt[35688]={Type:Float32Array,size:48,setter:function(e,r){return function(t){e.uniformMatrix3x4fv(r,!1,t)}},rows:3,cols:4},Qt[35689]={Type:Float32Array,size:64,setter:function(e,r){return function(t){e.uniformMatrix4x2fv(r,!1,t)}},rows:4,cols:2},Qt[35690]={Type:Float32Array,size:64,setter:function(e,r){return function(t){e.uniformMatrix4x3fv(r,!1,t)}},rows:4,cols:3},Qt[35678]={Type:null,size:0,setter:tn,arraySetter:nn,bindPoint:qt},Qt[35680]={Type:null,size:0,setter:tn,arraySetter:nn,bindPoint:Xt},Qt[35679]={Type:null,size:0,setter:tn,arraySetter:nn,bindPoint:Yt},Qt[35682]={Type:null,size:0,setter:tn,arraySetter:nn,bindPoint:qt},Qt[36289]={Type:null,size:0,setter:tn,arraySetter:nn,bindPoint:Ht},Qt[36292]={Type:null,size:0,setter:tn,arraySetter:nn,bindPoint:Ht},Qt[36293]={Type:null,size:0,setter:tn,arraySetter:nn,bindPoint:Xt},Qt[36298]={Type:null,size:0,setter:tn,arraySetter:nn,bindPoint:qt},Qt[36299]={Type:null,size:0,setter:tn,arraySetter:nn,bindPoint:Yt},Qt[36300]={Type:null,size:0,setter:tn,arraySetter:nn,bindPoint:Xt},Qt[36303]={Type:null,size:0,setter:tn,arraySetter:nn,bindPoint:Ht},Qt[36306]={Type:null,size:0,setter:tn,arraySetter:nn,bindPoint:qt},Qt[36307]={Type:null,size:0,setter:tn,arraySetter:nn,bindPoint:Yt},Qt[36308]={Type:null,size:0,setter:tn,arraySetter:nn,bindPoint:Xt},Qt[36311]={Type:null,size:0,setter:tn,arraySetter:nn,bindPoint:Ht};var cn={};cn[5126]={size:4,setter:on},cn[35664]={size:8,setter:on},cn[35665]={size:12,setter:on},cn[35666]={size:16,setter:on},cn[5124]={size:4,setter:an},cn[35667]={size:8,setter:an},cn[35668]={size:12,setter:an},cn[35669]={size:16,setter:an},cn[5125]={size:4,setter:un},cn[36294]={size:8,setter:un},cn[36295]={size:12,setter:un},cn[36296]={size:16,setter:un},cn[35670]={size:4,setter:an},cn[35671]={size:8,setter:an},cn[35672]={size:12,setter:an},cn[35673]={size:16,setter:an},cn[35674]={size:4,setter:fn,count:2},cn[35675]={size:9,setter:fn,count:3},cn[35676]={size:16,setter:fn,count:4};var sn=/ERROR:\s*\d+:(\d+)/gi;function ln(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=o.toConsumableArray(r.matchAll(sn)),a=new Map(n.map((function(e,t){var o=parseInt(e[1]),a=n[t+1],i=a?a.index:r.length;return[o-1,r.substring(e.index,i)]})));return e.split("\n").map((function(e,r){var n=a.get(r);return"".concat(r+1+t,": ").concat(e).concat(n?"\n\n^^^ ".concat(n):"")})).join("\n")}var mn=/^[ \t]*\n/;function pn(e,r,t,n){var o=n||Ut,a=e.createShader(t),i=0;if(mn.test(r)&&(i=1,r=r.replace(mn,"")),e.shaderSource(a,r),e.compileShader(a),!e.getShaderParameter(a,35713)){var u=e.getShaderInfoLog(a);return o("".concat(ln(r,u,i),"\nError compiling ").concat(mr(e,t),": ").concat(u)),e.deleteShader(a),null}return a}function dn(e,r,t){var n,o;if("function"==typeof r&&(t=r,r=void 0),"function"==typeof e)t=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;var a=e;t=a.errorCallback,e=a.attribLocations,n=a.transformFeedbackVaryings,o=a.transformFeedbackMode}var i={errorCallback:t||Ut,transformFeedbackVaryings:n,transformFeedbackMode:o};if(e){var u={};Array.isArray(e)?e.forEach((function(e,t){u[e]=r?r[t]:t})):u=e,i.attribLocations=u}return i}var bn=["VERTEX_SHADER","FRAGMENT_SHADER"];function yn(e,r){return r.indexOf("frag")>=0?35632:r.indexOf("vert")>=0?35633:void 0}function vn(e,r){r.forEach((function(r){e.deleteShader(r)}))}function hn(e,r,t,n,o){for(var a,i=dn(t,n,o),u=[],f=[],c=0;c<r.length;++c){var s=r[c];if("string"==typeof s){var l=Lt(s),m=l?l.text:s,p=e[bn[c]];l&&l.type&&(p=yn(0,l.type)||p),s=pn(e,m,p,i.errorCallback),f.push(s)}a=s,"undefined"!=typeof WebGLShader&&a instanceof WebGLShader&&u.push(s)}if(u.length!==r.length)return i.errorCallback("not enough shaders for program"),vn(e,f),null;var d=e.createProgram();u.forEach((function(r){e.attachShader(d,r)})),i.attribLocations&&Object.keys(i.attribLocations).forEach((function(r){e.bindAttribLocation(d,i.attribLocations[r],r)}));var b=i.transformFeedbackVaryings;if(b&&(b.attribs&&(b=b.attribs),Array.isArray(b)||(b=Object.keys(b)),e.transformFeedbackVaryings(d,b,i.transformFeedbackMode||35981)),e.linkProgram(d),!e.getProgramParameter(d,35714)){var y=e.getProgramInfoLog(d);return i.errorCallback("".concat(u.map((function(r){var t=ln(e.getShaderSource(r),"",0),n=e.getShaderParameter(r,e.SHADER_TYPE);return"".concat(mr(e,n),"\n").concat(t,"}")})).join("\n"),"\nError in program linking: ").concat(y)),e.deleteProgram(d),vn(e,f),null}return d}function xn(e,r,t,n){var o,a=Lt(r);if(!a)throw new Error("unknown script element: ".concat(r));o=a.text;var i=t||yn(0,a.type);if(!i)throw new Error("unknown shader type");return pn(e,o,i,n)}function gn(e,r,t,n,o){for(var a=dn(t,n,o),i=[],u=0;u<r.length;++u){var f=xn(e,r[u],e[bn[u]],a.errorCallback);if(!f)return null;i.push(f)}return hn(e,i,a)}function Fn(e,r,t,n,o){for(var a=dn(t,n,o),i=[],u=0;u<r.length;++u){var f=pn(e,r[u],e[bn[u]],a.errorCallback);if(!f)return null;i.push(f)}return hn(e,i,a)}function An(e){var r=e.name;return r.startsWith("gl_")||r.startsWith("webgl_")}var wn=/(\.|\[|]|\w+)/g;function En(e,r,t,n){for(var o,a=e.split(wn).filter((function(e){return""!==e})),i=0,u="";;){var f=a[i++];u+=f;var c=(o=f[0])>="0"&&o<="9",s=c?parseInt(f):f;if(c&&(u+=a[i++]),i===a.length){t[s]=r;break}var l=a[i++],m="["===l,p=t[s]||(m?[]:{});t[s]=p,t=p,n[u]=n[u]||function(e){return function(r){Un(e,r)}}(p),u+=l}}function Tn(e,r){var t=0;function n(r,n,o){var a,i=n.name.endsWith("[0]"),u=n.type,f=Qt[u];if(!f)throw new Error("unknown type: 0x".concat(u.toString(16)));if(f.bindPoint){var c=t;t+=n.size,a=i?f.arraySetter(e,u,c,o,n.size):f.setter(e,u,c,o,n.size)}else a=f.arraySetter&&i?f.arraySetter(e,o):f.setter(e,o);return a.location=o,a}for(var o={},a={},i=e.getProgramParameter(r,35718),u=0;u<i;++u){var f=e.getActiveUniform(r,u);if(!An(f)){var c=f.name;c.endsWith("[0]")&&(c=c.substr(0,c.length-3));var s=e.getUniformLocation(r,f.name);if(s){var l=n(0,f,s);o[c]=l,En(c,l,a,o)}}}return o}function Pn(e,r){for(var t={},n=e.getProgramParameter(r,35971),o=0;o<n;++o){var a=e.getTransformFeedbackVarying(r,o);t[a.name]={index:o,type:a.type,size:a.size}}return t}function _n(e,r,t){for(var n in r.transformFeedbackInfo&&(r=r.transformFeedbackInfo),t.attribs&&(t=t.attribs),t){var o=r[n];if(o){var a=t[n];a.offset?e.bindBufferRange(35982,o.index,a.buffer,a.offset,a.size):e.bindBufferBase(35982,o.index,a.buffer)}}}function Sn(e,r,t){var n=e.createTransformFeedback();return e.bindTransformFeedback(36386,n),e.useProgram(r.program),_n(e,r,t),e.bindTransformFeedback(36386,null),n}function In(e,r){for(var t=e.getProgramParameter(r,35718),n=[],o=[],a=0;a<t;++a){o.push(a),n.push({});var i=e.getActiveUniform(r,a);n[a].name=i.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach((function(t){var a=t[0],i=t[1];e.getActiveUniforms(r,o,e[a]).forEach((function(e,r){n[r][i]=e}))}));for(var u={},f=e.getProgramParameter(r,35382),c=0;c<f;++c){var s=e.getActiveUniformBlockName(r,c),l={index:e.getUniformBlockIndex(r,s),usedByVertexShader:e.getActiveUniformBlockParameter(r,c,35396),usedByFragmentShader:e.getActiveUniformBlockParameter(r,c,35398),size:e.getActiveUniformBlockParameter(r,c,35392),uniformIndices:e.getActiveUniformBlockParameter(r,c,35395)};l.used=l.usedByVertexShader||l.usedByFragmentShader,u[s]=l}return{blockSpecs:u,uniformData:n}}var Bn=/\[\d+\]\.$/;function zn(e,r,t,n){var o=t.blockSpecs,a=t.uniformData,i=o[n];if(!i)return Ot("no uniform block object named:",n),{name:n,uniforms:{}};var u=new ArrayBuffer(i.size),f=e.createBuffer(),c=i.index;e.bindBuffer(Vt,f),e.uniformBlockBinding(r,i.index,c);var s=n+".";Bn.test(s)&&(s=s.replace(Bn,"."));var l={},m={},p={};return i.uniformIndices.forEach((function(e){var r=a[e],t=r.name;t.startsWith(s)&&(t=t.substr(s.length));var n=t.endsWith("[0]");n&&(t=t.substr(0,t.length-3));var o,i=Qt[r.type],f=i.Type,c=n?((i.size+((o=16)-1))/o|0)*o*r.size:i.size*r.size,d=new f(u,r.offset,c/f.BYTES_PER_ELEMENT);l[t]=d;var b=function(e,r,t,n){if(r||t){n=n||1;var o=e.length/4;return function(r){for(var t=0,a=0,i=0;i<o;++i){for(var u=0;u<n;++u)e[t++]=r[a++];t+=4-n}}}return function(r){r.length?e.set(r):e[0]=r}}(d,n,i.rows,i.cols);m[t]=b,En(t,b,p,m)})),{name:n,array:u,asFloat:new Float32Array(u),buffer:f,uniforms:l,setters:m}}function Cn(e,r,t){return zn(e,r.program,r.uniformBlockSpec,t)}function Rn(e,r,t){var n=(r.uniformBlockSpec||r).blockSpecs[t.name];if(n){var o=n.index;return e.bindBufferRange(Vt,o,t.buffer,t.offset||0,t.array.byteLength),!0}return!1}function Mn(e,r,t){Rn(e,r,t)&&e.bufferData(Vt,t.array,35048)}function kn(e,r){var t=e.setters;for(var n in r){var o=t[n];if(o)o(r[n])}}function Un(e,r){for(var t in r){var n=e[t];"function"==typeof n?n(r[t]):Un(e[t],r[t])}}function On(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];for(var o=e.uniformSetters||e,a=t.length,i=0;i<a;++i){var u=t[i];if(Array.isArray(u))for(var f=u.length,c=0;c<f;++c)On(o,u[c]);else for(var s in u){var l=o[s];l&&l(u[s])}}}var Ln=On;function Dn(e,r){for(var t={},n=e.getProgramParameter(r,35721),o=0;o<n;++o){var a=e.getActiveAttrib(r,o);if(!An(a)){var i=e.getAttribLocation(r,a.name),u=cn[a.type],f=u.setter(e,i,u);f.location=i,t[a.name]=f}}return t}function jn(e,r){for(var t in r){var n=e[t];n&&n(r[t])}}function Vn(e,r,t){t.vertexArrayObject?e.bindVertexArray(t.vertexArrayObject):(jn(r.attribSetters||r,t.attribs),t.indices&&e.bindBuffer(34963,t.indices))}function Gn(e,r){var t={program:r,uniformSetters:Tn(e,r),attribSetters:Dn(e,r)};return ir(e)&&(t.uniformBlockSpec=In(e,r),t.transformFeedbackInfo=Pn(e,r)),t}function Wn(e,r,t,n,o){var a=dn(t,n,o),i=!0;if(r=r.map((function(e){if(e.indexOf("\n")<0){var r=Lt(e);r?e=r.text:(a.errorCallback("no element with id: "+e),i=!1)}return e})),!i)return null;var u=Fn(e,r,a);return u?Gn(e,u):null}var Nn=Object.freeze({__proto__:null,createAttributeSetters:Dn,createProgram:hn,createProgramFromScripts:gn,createProgramFromSources:Fn,createProgramInfo:Wn,createProgramInfoFromProgram:Gn,createUniformSetters:Tn,createUniformBlockSpecFromProgram:In,createUniformBlockInfoFromProgram:zn,createUniformBlockInfo:Cn,createTransformFeedback:Sn,createTransformFeedbackInfo:Pn,bindTransformFeedbackInfo:_n,setAttributes:jn,setBuffersAndAttributes:Vn,setUniforms:On,setUniformsAndBindTextures:Ln,setUniformBlock:Mn,setBlockUniforms:kn,bindUniformBlock:Rn});function qn(e,r,t,n,o,a){t=void 0===t?4:t;var i=r.indices,u=r.elementType,f=void 0===n?r.numElements:n;o=void 0===o?0:o,u||i?void 0!==a?e.drawElementsInstanced(t,f,void 0===u?5123:r.elementType,o,a):e.drawElements(t,f,void 0===u?5123:r.elementType,o):void 0!==a?e.drawArraysInstanced(t,o,f,a):e.drawArrays(t,o,f)}function Xn(e,r){var t=null,n=null;r.forEach((function(r){if(!1!==r.active){var o=r.programInfo,a=r.vertexArrayInfo||r.bufferInfo,i=!1,u=void 0===r.type?4:r.type;o!==t&&(t=o,e.useProgram(o.program),i=!0),(i||a!==n)&&(n&&n.vertexArrayObject&&!a.vertexArrayObject&&e.bindVertexArray(null),n=a,Vn(e,o,a)),On(o,r.uniforms),qn(e,a,u,r.count,r.offset,r.instanceCount)}})),n&&n.vertexArrayObject&&e.bindVertexArray(null)}var Yn=Object.freeze({__proto__:null,drawBufferInfo:qn,drawObjectList:Xn}),Hn=36161,Qn=34041,Zn=36096,Kn=33306,$n=33071,Jn=9729,eo=[{format:6408,type:5121,min:Jn,wrap:$n},{format:Qn}],ro={};ro[34041]=Kn,ro[6401]=36128,ro[36168]=36128,ro[6402]=Zn,ro[33189]=Zn,ro[33190]=Zn,ro[36012]=Zn,ro[35056]=Kn,ro[36013]=Kn;var to={};function no(e,r,t,n){var o=36160,a=e.createFramebuffer();e.bindFramebuffer(o,a),t=t||e.drawingBufferWidth,n=n||e.drawingBufferHeight;var i=0,u={framebuffer:a,attachments:[],width:t,height:n};return(r=r||eo).forEach((function(r){var a=r.attachment,f=r.format,c=r.attachmentPoint||function(e,r){return ro[e]||ro[r]}(f,r.internalFormat);if(c||(c=36064+i++),!a)if(function(e){return to[e]}(f))a=e.createRenderbuffer(),e.bindRenderbuffer(Hn,a),e.renderbufferStorage(Hn,f,t,n);else{var s=Object.assign({},r);s.width=t,s.height=n,void 0===s.auto&&(s.auto=!1,s.min=s.min||s.minMag||Jn,s.mag=s.mag||s.minMag||Jn,s.wrapS=s.wrapS||s.wrap||$n,s.wrapT=s.wrapT||s.wrap||$n),a=Ct(e,s)}if(j(0,a))e.framebufferRenderbuffer(o,c,Hn,a);else{if(!V(0,a))throw new Error("unknown attachment type");void 0!==r.layer?e.framebufferTextureLayer(o,c,a,r.level||0,r.layer):e.framebufferTexture2D(o,c,r.target||3553,a,r.level||0)}u.attachments.push(a)})),u}function oo(e,r,t,n,o){n=n||e.drawingBufferWidth,o=o||e.drawingBufferHeight,r.width=n,r.height=o,(t=t||eo).forEach((function(t,a){var i=r.attachments[a],u=t.format;if(j(0,i))e.bindRenderbuffer(Hn,i),e.renderbufferStorage(Hn,u,n,o);else{if(!V(0,i))throw new Error("unknown attachment type");Rt(e,i,t,n,o)}}))}function ao(e,r,t){t=t||36160,r?(e.bindFramebuffer(t,r.framebuffer),e.viewport(0,0,r.width,r.height)):(e.bindFramebuffer(t,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))}to[32854]=!0,to[32855]=!0,to[36194]=!0,to[34041]=!0,to[33189]=!0,to[6401]=!0,to[36168]=!0;var io=Object.freeze({__proto__:null,bindFramebufferInfo:ao,createFramebufferInfo:no,resizeFramebufferInfo:oo});function uo(e,r,t){var n=e.createVertexArray();return e.bindVertexArray(n),r.length||(r=[r]),r.forEach((function(r){Vn(e,r,t)})),e.bindVertexArray(null),{numElements:t.numElements,elementType:t.elementType,vertexArrayObject:n}}function fo(e,r,t,n){var o=e.createVertexArray();return e.bindVertexArray(o),jn(r,t),n&&e.bindBuffer(34963,n),e.bindVertexArray(null),o}function co(e,r,t){return fo(e,r.attribSetters||r,t.attribs,t.indices)}var so=Object.freeze({__proto__:null,createVertexArrayInfo:uo,createVAOAndSetAttributes:fo,createVAOFromBufferInfo:co}),lo={addExtensionsToContext:!0};function mo(e){O(e,lo),q(e),ct(e)}var po=/^(.*?)_/;function bo(e,r){mr(e,0);var t=e.getExtension(r);if(t){var n={},o=po.exec(r)[1],a="_"+o;for(var i in t){var u=t[i],f="function"==typeof u,c=f?o:a,s=i;i.endsWith(c)&&(s=i.substring(0,i.length-c.length)),void 0!==e[s]?f||e[s]===u||D(s,e[s],u,i):f?e[s]=function(e){return function(){return e.apply(t,arguments)}}(u):(e[s]=u,n[s]=u)}n.constructor={name:t.constructor.name},mr(n,0)}return t}var yo=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function vo(e){for(var r=0;r<yo.length;++r)bo(e,yo[r])}function ho(e,r){var t=function(e,r){for(var t=["webgl","experimental-webgl"],n=null,o=0;o<t.length;++o)if(n=e.getContext(t[o],r)){lo.addExtensionsToContext&&vo(n);break}return n}(e,r);return t}function xo(e,r){var t=function(e,r){for(var t=["webgl2","webgl","experimental-webgl"],n=null,o=0;o<t.length;++o)if(n=e.getContext(t[o],r)){lo.addExtensionsToContext&&vo(n);break}return n}(e,r);return t}function go(e,r){r=r||1,r=Math.max(0,r);var t=e.clientWidth*r|0,n=e.clientHeight*r|0;return(e.width!==t||e.height!==n)&&(e.width=t,e.height=n,!0)}},{"@swc/helpers":"2CIBz","@parcel/transformer-js/src/esmodule-helpers.js":"jiucr"}]},[]);
//# sourceMappingURL=index.5ed48ace.js.map
